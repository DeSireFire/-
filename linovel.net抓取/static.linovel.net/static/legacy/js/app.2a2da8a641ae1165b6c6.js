(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t){e.exports=jQuery},,function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";(function(a){var i,n,s;n=[],void 0===(s="function"==typeof(i=function(){var e,t={},i="undefined"!=typeof window?window:a,n=i.document,s="localStorage";if(t.disabled=!1,t.version="1.3.20",t.set=function(e,t){},t.get=function(e,t){},t.has=function(e){return void 0!==t.get(e)},t.remove=function(e){},t.clear=function(){},t.transact=function(e,a,i){null==i&&(i=a,a=null),null==a&&(a={});var n=t.get(e,a);i(n),t.set(e,n)},t.getAll=function(){},t.forEach=function(){},t.serialize=function(e){return JSON.stringify(e)},t.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return s in i&&i[s]}catch(e){return!1}}())e=i[s],t.set=function(a,i){return void 0===i?t.remove(a):(e.setItem(a,t.serialize(i)),i)},t.get=function(a,i){var n=t.deserialize(e.getItem(a));return void 0===n?i:n},t.remove=function(t){e.removeItem(t)},t.clear=function(){e.clear()},t.getAll=function(){var e={};return t.forEach(function(t,a){e[t]=a}),e},t.forEach=function(a){for(var i=0;i<e.length;i++){var n=e.key(i);a(n,t.get(n))}};else if(n&&n.documentElement.addBehavior){var r,o;try{(o=new ActiveXObject("htmlfile")).open(),o.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),o.close(),r=o.w.frames[0].document,e=r.createElement("div")}catch(t){e=n.createElement("div"),r=n.body}var l=function(a){return function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(e),r.appendChild(e),e.addBehavior("#default#userData"),e.load(s);var n=a.apply(t,i);return r.removeChild(e),n}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c=function(e){return e.replace(/^d/,"___$&").replace(d,"___")};t.set=l(function(e,a,i){return a=c(a),void 0===i?t.remove(a):(e.setAttribute(a,t.serialize(i)),e.save(s),i)}),t.get=l(function(e,a,i){a=c(a);var n=t.deserialize(e.getAttribute(a));return void 0===n?i:n}),t.remove=l(function(e,t){t=c(t),e.removeAttribute(t),e.save(s)}),t.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var a=t.length-1;a>=0;a--)e.removeAttribute(t[a].name);e.save(s)}),t.getAll=function(e){var a={};return t.forEach(function(e,t){a[e]=t}),a},t.forEach=l(function(e,a){for(var i,n=e.XMLDocument.documentElement.attributes,s=0;i=n[s];++s)a(i.name,t.deserialize(e.getAttribute(i.name)))})}try{var u="__storejs__";t.set(u,u),t.get(u)!=u&&(t.disabled=!0),t.remove(u)}catch(e){t.disabled=!0}return t.enabled=!t.disabled,t})?i.apply(t,n):i)||(e.exports=s)}).call(this,a(2))},function(e,t,a){var i,n,s;
/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/n=[t,e],void 0===(s="function"==typeof(i=function(e,t){"use strict";var a="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(a){return t[e.indexOf(a)]},set:function(a,i){-1===e.indexOf(a)&&(e.push(a),t.push(i))},delete:function(a){var i=e.indexOf(a);i>-1&&(e.splice(i,1),t.splice(i,1))}}}(),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function n(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var t=null,n=e.clientWidth,s=null,r=function(){e.clientWidth!==n&&c()},o=function(t){window.removeEventListener("resize",r,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",o,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach(function(a){e.style[a]=t[a]}),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",o,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",r,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:o,update:c}),function(){var a=window.getComputedStyle(e,null);"vertical"===a.resize?e.style.resize="none":"both"===a.resize&&(e.style.resize="horizontal"),t="content-box"===a.boxSizing?-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)):parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),isNaN(t)&&(t=0),c()}()}function l(t){var a=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=a,e.style.overflowY=t}function d(){var a=e.style.height,i=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),s=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var r=e.scrollHeight+t;0!==e.scrollHeight?(e.style.height=r+"px",n=e.clientWidth,i.forEach(function(e){e.node.scrollTop=e.scrollTop}),s&&(document.documentElement.scrollTop=s)):e.style.height=a}function c(){d();var t=Math.round(parseFloat(e.style.height)),a=window.getComputedStyle(e,null),n="content-box"===a.boxSizing?Math.round(parseFloat(a.height)):e.offsetHeight;if(n!==t?"hidden"===a.overflowY&&(l("scroll"),d(),n="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==a.overflowY&&(l("hidden"),d(),n="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),s!==n){s=n;var r=i("autosize:resized");try{e.dispatchEvent(r)}catch(e){}}}}function s(e){var t=a.get(e);t&&t.destroy()}function r(e){var t=a.get(e);t&&t.update()}var o=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((o=function(e){return e}).destroy=function(e){return e},o.update=function(e){return e}):((o=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},o.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=o})?i.apply(t,n):i)||(e.exports=s)},function(e,t,a){"use strict";var i,n,s,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[a(0)],void 0===(s="function"==typeof(i=function(e){var t=e.scrollTo=function(t,a,i){return e(window).scrollTo(t,a,i)};function a(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}return t.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(n,s,o){"object"===(void 0===s?"undefined":r(s))&&(o=s,s=0),"function"==typeof o&&(o={onAfter:o}),"max"===n&&(n=9e9),o=e.extend({},t.defaults,o),s=s||o.duration;var l=o.queue&&o.axis.length>1;return l&&(s/=2),o.offset=i(o.offset),o.over=i(o.over),this.each(function(){if(null!==n){var d,c=a(this),u=c?this.contentWindow||window:this,p=e(u),h=n,m={};switch(void 0===h?"undefined":r(h)){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=i(h);break}h=c?e(h):e(h,u);case"object":if(0===h.length)return;(h.is||h.style)&&(d=(h=e(h)).offset())}var f=e.isFunction(o.offset)&&o.offset(u,h)||o.offset;e.each(o.axis.split(""),function(e,a){var i="x"===a?"Left":"Top",n=i.toLowerCase(),s="scroll"+i,r=p[s](),v=t.max(u,a);if(d)m[s]=d[n]+(c?0:r-p.offset()[n]),o.margin&&(m[s]-=parseInt(h.css("margin"+i),10)||0,m[s]-=parseInt(h.css("border"+i+"Width"),10)||0),m[s]+=f[n]||0,o.over[n]&&(m[s]+=h["x"===a?"width":"height"]()*o.over[n]);else{var b=h[n];m[s]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}o.limit&&/^\d+$/.test(m[s])&&(m[s]=m[s]<=0?0:Math.min(m[s],v)),!e&&o.axis.length>1&&(r===m[s]?m={}:l&&(g(o.onAfterFirst),m={}))}),g(o.onAfter)}function g(t){var a=e.extend({},o,{queue:!0,duration:s,complete:t&&function(){t.call(u,h,o)}});p.animate(m,a)}})},t.max=function(t,i){var n="x"===i?"Width":"Height",s="scroll"+n;if(!a(t))return t[s]-e(t)[n.toLowerCase()]();var r="client"+n,o=t.ownerDocument||t.document,l=o.documentElement,d=o.body;return Math.max(l[s],d[s])-Math.min(l[r],d[r])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var a=this.get(t);if(t.options.interrupt&&t._last&&t._last!==a)return e(t.elem).stop();var i=Math.round(t.now);a!==i&&(e(t.elem)[t.prop](i),t._last=this.get(t))}},t})?i.apply(t,n):i)||(e.exports=s)},function(e,t,a){var i;!function(n){"use strict";var s=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g;return function(i,n,o,l){if(1!==arguments.length||"string"!==function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("object"!=typeof e)return typeof e;if(Array.isArray(e))return"array";return{}.toString.call(e).slice(8,-1).toLowerCase()}(i)||/\d/.test(i)||(n=i,i=void 0),(i=i||new Date)instanceof Date||(i=new Date(i)),isNaN(i))throw TypeError("Invalid date");var d=(n=String(s.masks[n]||n||s.masks.default)).slice(0,4);"UTC:"!==d&&"GMT:"!==d||(n=n.slice(4),o=!0,"GMT:"===d&&(l=!0));var c=o?"getUTC":"get",u=i[c+"Date"](),p=i[c+"Day"](),h=i[c+"Month"](),m=i[c+"FullYear"](),f=i[c+"Hours"](),g=i[c+"Minutes"](),v=i[c+"Seconds"](),b=i[c+"Milliseconds"](),y=o?0:i.getTimezoneOffset(),w=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var i=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-i);var n=(t-a)/6048e5;return 1+Math.floor(n)}(i),x=function(e){var t=e.getDay();0===t&&(t=7);return t}(i),C={d:u,dd:r(u),ddd:s.i18n.dayNames[p],dddd:s.i18n.dayNames[p+7],m:h+1,mm:r(h+1),mmm:s.i18n.monthNames[h],mmmm:s.i18n.monthNames[h+12],yy:String(m).slice(2),yyyy:m,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),M:g,MM:r(g),s:v,ss:r(v),l:r(b,3),L:r(Math.round(b/10)),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:l?"GMT":o?"UTC":(String(i).match(t)||[""]).pop().replace(a,""),o:(y>0?"-":"+")+r(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10],W:w,N:x};return n.replace(e,function(e){return e in C?C[e]:e.slice(1,e.length-1)})}}();function r(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0===(i=function(){return s}.call(t,a,t,e))||(e.exports=i)}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meme=function(e,t,a){var i,n=Math.floor(a/2),s=n+1;for(i=a;i>0;i--)if(i>n)i-1==n?(console.log(" ".repeat(s)+"| "+e),console.log(" ".repeat(s)+"－".repeat(a))):console.log(" ".repeat(s)+"|"+" ".repeat(i));else{var r="";2==i?r=t:1==i&&(r="害 怕"),console.log(" ".repeat(i)+"/"+"　".repeat(a-2*i)+r)}},String.prototype.repeat=function(e){return new Array(e+1).join(this)}},function(e,t,a){"use strict";!function(e){e.fn.emulateTransitionEnd=function(t){var a=!1,i=this;e(this).one("bsTransitionEnd",function(){a=!0});return setTimeout(function(){a||e(i).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in t)if(void 0!==e.style[a])return{end:t[a]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery)},function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=function t(a,i){this.$element=e(a),this.options=e.extend({},t.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function a(t){var a,i=t.attr("data-target")||(a=t.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(a){return this.each(function(){var n=e(this),s=n.data("bs.collapse"),r=e.extend({},t.DEFAULTS,n.data(),"object"==(void 0===a?"undefined":i(a))&&a);!s&&r.toggle&&/show|hide/.test(a)&&(r.toggle=!1),s||n.data("bs.collapse",s=new t(this,r)),"string"==typeof a&&s[a]()})}t.VERSION="3.3.5",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(a=i.data("bs.collapse"))&&a.transitioning)){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),a||i.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[r](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=e.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,i){var n=e(i);this.addAriaAndCollapsedClass(a(n),n)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var a=e.hasClass("in");e.attr("aria-expanded",a),t.toggleClass("collapsed",!a).attr("aria-expanded",a)};var s=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=s,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var i=e(this);i.attr("data-target")||t.preventDefault();var s=a(i),r=s.data("bs.collapse")?"toggle":i.data();n.call(s,r)})}(jQuery)},function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
!function(e){var t="iCheck",a=t+"-helper",n="radio",s="checked",r="un"+s,o="disabled",l="determinate",d="in"+l,c="update",u="type",p="touchbegin.i touchend.i",h="addClass",m="removeClass",f="trigger",g="label",v="cursor",b=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);function y(e,t,a){var i=e[0],r=/er/.test(a)?d:/bl/.test(a)?o:s,p=a==c?{checked:i[s],disabled:i[o],indeterminate:"true"==e.attr(d)||"false"==e.attr(l)}:i[r];if(/^(ch|di|in)/.test(a)&&!p)w(e,r);else if(/^(un|en|de)/.test(a)&&p)x(e,r);else if(a==c)for(var h in p)p[h]?w(e,h,!0):x(e,h,!0);else t&&"toggle"!=a||(t||e[f]("ifClicked"),p?i[u]!==n&&x(e,r):w(e,r))}function w(i,c,p){var f=i[0],g=i.parent(),b=c==s,y=c==d,w=c==o,C=y?l:b?r:"enabled",I=k(i,C+T(f[u])),E=k(i,c+T(f[u]));if(!0!==f[c]){if(!p&&c==s&&f[u]==n&&f.name){var M=i.closest("form"),P='input[name="'+f.name+'"]';(P=M.length?M.find(P):e(P)).each(function(){this!==f&&e(this).data(t)&&x(e(this),c)})}y?(f[c]=!0,f[s]&&x(i,s,"force")):(p||(f[c]=!0),b&&f[d]&&x(i,d,!1)),S(i,b,c,p)}f[o]&&k(i,v,!0)&&g.find("."+a).css(v,"default"),g[h](E||k(i,c)||""),g.attr("role")&&!y&&g.attr("aria-"+(w?o:s),"true"),g[m](I||k(i,C)||"")}function x(e,t,i){var n=e[0],c=e.parent(),p=t==s,f=t==d,g=t==o,b=f?l:p?r:"enabled",y=k(e,b+T(n[u])),w=k(e,t+T(n[u]));!1!==n[t]&&(!f&&i&&"force"!=i||(n[t]=!1),S(e,p,b,i)),!n[o]&&k(e,v,!0)&&c.find("."+a).css(v,"pointer"),c[m](w||k(e,t)||""),c.attr("role")&&!f&&c.attr("aria-"+(g?o:s),"false"),c[h](y||k(e,b)||"")}function C(a,i){a.data(t)&&(a.parent().html(a.attr("style",a.data(t).s||"")),i&&a[f](i),a.off(".i").unwrap(),e(g+'[for="'+a[0].id+'"]').add(a.closest(g)).off(".i"))}function k(e,a,i){if(e.data(t))return e.data(t).o[a+(i?"":"Class")]}function T(e){return e.charAt(0).toUpperCase()+e.slice(1)}function S(e,t,a,i){i||(t&&e[f]("ifToggled"),e[f]("ifChanged")[f]("if"+T(a)))}e.fn[t]=function(r,l){var v='input[type="checkbox"], input[type="'+n+'"]',k=e(),T=function(t){t.each(function(){var t=e(this);k=t.is(v)?k.add(t):k.add(t.find(v))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),T(this),k.each(function(){var t=e(this);"destroy"==r?C(t,"ifDestroyed"):y(t,!0,r),e.isFunction(l)&&l()});if("object"!=(void 0===r?"undefined":i(r))&&r)return this;var S=e.extend({checkedClass:s,disabledClass:o,indeterminateClass:d,labelHover:!0},r),I=S.handle,E=S.hoverClass||"hover",M=S.focusClass||"focus",P=S.activeClass||"active",z=!!S.labelHover,A=S.labelHoverClass||"hover",$=0|(""+S.increaseArea).replace("%","");return"checkbox"!=I&&I!=n||(v='input[type="'+I+'"]'),$<-50&&($=-50),T(this),k.each(function(){var i=e(this);C(i);var r,l=this,d=l.id,v=-$+"%",k=100+2*$+"%",T={position:"absolute",top:v,left:v,display:"block",width:k,height:k,margin:0,padding:0,background:"#fff",border:0,opacity:0},I=b?{position:"absolute",visibility:"hidden"}:$?T:{position:"absolute",opacity:0},O="checkbox"==l[u]?S.checkboxClass||"icheckbox":S.radioClass||"i"+n,D=e(g+'[for="'+d+'"]').add(i.closest(g)),B=!!S.aria,L=t+"-"+Math.random().toString(36).substr(2,6),H='<div class="'+O+'" '+(B?'role="'+l[u]+'" ':"");B&&D.each(function(){H+='aria-labelledby="',this.id?H+=this.id:(this.id=L,H+=L),H+='"'}),H=i.wrap(H+"/>")[f]("ifCreated").parent().append(S.insert),r=e('<ins class="'+a+'"/>').css(T).appendTo(H),i.data(t,{o:S,s:i.attr("style")}).css(I),S.inheritClass&&H[h](l.className||""),S.inheritID&&d&&H.attr("id",t+"-"+d),"static"==H.css("position")&&H.css("position","relative"),y(i,!0,c),D.length&&D.on("click.i mouseover.i mouseout.i "+p,function(t){var a=t[u],n=e(this);if(!l[o]){if("click"==a){if(e(t.target).is("a"))return;y(i,!1,!0)}else z&&(/ut|nd/.test(a)?(H[m](E),n[m](A)):(H[h](E),n[h](A)));if(!b)return!1;t.stopPropagation()}}),i.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[u],a=e.keyCode;return"click"!=t&&("keydown"==t&&32==a?(l[u]==n&&l[s]||(l[s]?x(i,s):w(i,s)),!1):void("keyup"==t&&l[u]==n?!l[s]&&w(i,s):/us|ur/.test(t)&&H["blur"==t?m:h](M)))}),r.on("click mousedown mouseup mouseover mouseout "+p,function(e){var t=e[u],a=/wn|up/.test(t)?P:E;if(!l[o]){if("click"==t?y(i,!1,!0):(/wn|er|in/.test(t)?H[h](a):H[m](a+" "+P),D.length&&z&&a==E&&D[/ut|nd/.test(t)?m:h](A)),!b)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Comment=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=l(a(0)),r=a(37);a(5),a(38);var o=l(a(4));function l(e){return e&&e.__esModule?e:{default:e}}var d=a(6);void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var c={initOnEvent:null,apiBase:"/comment",imgBase:"/static/img/emoticons/",bookId:null,userId:null,authorId:null};t.Comment=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this;this.inited=!1,this.$element=(0,s.default)(t),this.seeOr=!1,this.arr=[],this.options=s.default.extend({},c,a),null!=a.initOnEvent?(0,s.default)(document).on(a.initOnEvent,function(){i.inited?i.getComments():(i.getComments(),i.bind())}):"#reviewBox"===window.location.hash?(i.seeOr=!0,i.see_checkbox.prop("checked",!0),i.seeOr?(i.getComments(null,1,null,1),this.bind()):(i.getComments(),this.bind())):(this.getComments(),this.bind()),this.emotUrl=a.imgBase,this.emoticons={"[看我脸色]":"qkn/0.png","[汗颜]":"qkn/1.png","[捂脸]":"qkn/2.png","[迷之沉默]":"qkn/3.png","[Kira]":"qkn/4.png","[抠鼻]":"qkn/5.png","[盯]":"qkn/6.png","[晕]":"qkn/7.png","[喷水]":"qkn/8.png","[偷笑]":"qkn/9.png","[咸湿哭]":"qkn/10.png","[亚拉那一卡]":"qkn/11.png","[花痴]":"qkn/12.png","[看好你]":"qkn/13.png","[哭死]":"qkn/14.png","[灵魂出窍]":"qkn/15.png","[催稿]":"qkn2/17.png","[委屈]":"qkn2/18.png","[超有料]":"qkn2/19.png","[萌新颜]":"qkn2/20.png","[药丸]":"qkn2/21.png","[嘻嘻]":"qkn2/22.png","[懵]":"qkn2/23.png","[滑稽]":"qkn2/24.png","[歪?]":"qkn2/25.png","[来一根]":"qkn2/26.png","[咕咕]":"qkn2/27.png","[咸鱼]":"qkn2/28.png","[阿黑颜]":"qkn2/29.png","[辣眼睛]":"qkn2/30.png","[中枪]":"qkn2/31.png","[豆芽颜]":"qkn2/32.png"},this.hook={onAddedComment:[]},this.renderEmoticons(),this.activities={xmas2017:{url:"http://www.linovel.net/gateway/activity?to=xmas2017"}},this.initActivities(),"book"!==this.options.type&&this.see_review.remove()}return n(e,[{key:"initActivities",value:function(){for(var e in this.$element.append("<div class='comment-activities'>"),this.$activities=this.$element.find(".comment-activities"),this.activities){this.activities[e];this["initAct_"+e].call(this)}}},{key:"initAct_xmas2017",value:function(){var e=this.activities.xmas2017,t=(0,s.default)("<div class='comment-activities-xmas2017 fade-out'>"),a=(0,s.default)("<div class='comment-xmas2017-modal'>"),i=(0,s.default)("<div class='comment-xmas2017-touchable'>"),n=(0,s.default)('<a class="comment-xmas2017-inner" href="'+e.url+'" target="_blank">'),r=(0,s.default)("<a class='comment-xmas2017-close' href='javascript:;'>");function o(){t.hasClass("fade-out")||t.addClass("fade-out")}t.append(a),a.append(i),a.append(n),a.append(r),this.hook.onAddedComment.push(function(e){(console.log(e),e.hasOwnProperty("flag"))&&(e.flag.hasOwnProperty("xmas2017")&&e.flag.xmas2017>0&&t.removeClass("fade-out"))}),i.click(function(){o()}),r.click(function(){o()}),this.$activities.append(t)}},{key:"runHook",value:function(e,t){for(var a in this.hook[e]){this.hook[e][a].call(this,t)}}},{key:"renderEmoticons",value:function(){var e="",t=this;for(var a in this.emoticons)e+='<a href="javascript:;" class="comm-input-emoticons-item" data-key="'+a+'">\n            <img src="'+(this.emotUrl+this.emoticons[a])+'" alt="'+a+'">\n            </a>';this.emoticonInput.html(e),this.emoticonInput.find("a").click(function(){var e=(0,s.default)(this).parents(".comm-input-emoticons").prev(".comm-content-wrp").children(".comm-content");e.val(e.val()+(0,s.default)(this).attr("data-key")),e.focus()}),this.emoticonButton.click(function(e){e.stopPropagation(),(0,s.default)(this).parents(".comm-content-wrp").next(".comm-input-emoticons").toggleClass("show")}),(0,s.default)("body").click(function(){t.emoticonInput.removeClass("show")})}},{key:"bind",value:function(){var e=this;(0,o.default)((0,s.default)("#commentComponent").find(".comm-content"));var t=this;this.enter.click(function(){if(!(0,s.default)(this).hasClass("disabled")){var e=(0,s.default)(this).parents(".comm-input-ctrl").prev().val(),a=(0,s.default)(this).parents(".comm-content-wrp").prev(".comm-reply-to"),i=a.attr("data-reply"),n=a.attr("data-parent"),r=(0,s.default)(this).parents(".comm-form");r.prev().is(".comm-status")||(r=null);void 0===i&&void 0===n&&(t.backToList=void 0),t.addComment(e,n,i,0,r)}}),this.see_review.click(function(){t.seeOr?(t.seeOr=!1,t.see_checkbox.prop("checked",!1)):(t.seeOr=!0,t.see_checkbox.prop("checked",!0)),t.seeOr?t.getComments(null,1,null,1):t.getComments()}),this.publish.click(function(){var e=(0,s.default)(this).parents(".comm-input-ctrl").prev().val(),a=(0,s.default)(this).parents(".comm-content-wrp").prev(".comm-reply-to"),i=a.attr("data-reply"),n=a.attr("data-parent"),r=(0,s.default)(this).parents(".comm-form");r.prev().is(".comm-status")||(r=null);t.addComment(e,n,i,1,r)}),this.content.on("keyup",function(){e.content.val().length>200?t.publish.removeClass("hide"):t.publish.addClass("hide")}),this.content.on("focus",function(){t.content.parent().addClass("focus")}).on("blur",function(){t.content.parent().removeClass("focus")}),this.timer=setInterval(function(){return t.refreshTime()},6e4)}},{key:"bindItem",value:function(){var e=this;this.setTopBtns.off("click"),this.removeBtns.off("click"),this.replyBtns.off("click"),this.likeBtns.off("click"),this.setTopBtns.click(function(){var t="true"===(0,s.default)(this).attr("data-is-top");confirm(t?"你确定要取消置顶么？":"你确定要置顶么？")&&(t?e.cancelTop((0,s.default)(this).attr("data-id")):e.setTop((0,s.default)(this).attr("data-id")))}),this.removeBtns.click(function(){confirm("你确定要删除评论么？")&&e.deleteComment((0,s.default)(this).attr("data-id"))}),this.likeBtns.click(function(){var t=(0,s.default)(this),a=parseInt(t.attr("data-like-count"));(0,s.default)(this).hasClass("liked")?e.unlikeComment(t.attr("data-id"),function(){--a>0?t.attr("data-like-count",a).html("("+a+")"):t.attr("data-like-count",0).html(""),t.removeClass("liked")}):e.likeComment(t.attr("data-id"),function(){t.attr("data-like-count",++a),a>0?t.html(""+a):t.html(""),t.addClass("liked")})}),this.replyBtns.click(function(){var t=(0,s.default)(this).attr("data-parent"),a="false"!=t?e.replyListById(t):e.list,i=a.children("comm-list-pagination").attr("data-current"),n=a.children("comm-list-pagination").attr("data-total");if((0,s.default)(this).parents(".comm-body").children().is(".comm-form "))(0,s.default)(this).parents(".comm-body").children(".comm-form ").remove();else{(0,s.default)(".comm-body").children(".comm-form ").remove(),(0,s.default)(this).parents(".comm-status").after((0,s.default)(".comm-form").first().clone(!0));var r=(0,s.default)(this).parents(".comm-status").next(".comm-form");r.find(".comm-publish").remove(),r.find(".comm-content").css("height","100px").css("overflow","auto").val("")}e.backToList={id:t,current:i,total:n,list:a},e.renderReply((0,s.default)(this).parents(".comm-body").find(".comm-reply-to"),(0,s.default)(this).attr("data-reply"),(0,s.default)(this).attr("data-parent"),(0,s.default)(this).attr("data-name"),(0,s.default)(this).attr("data-comment"))})}},{key:"replaceEmoticons",value:function(e){var t=[],a=this,i=/[[\]{}()*+?.\\|^$\-,&#\s]/g;for(var n in this.emoticons)this.emoticons.hasOwnProperty(n)&&t.push("("+n.replace(i,"\\$&")+")");return e.replace(new RegExp(t.join("|"),"g"),function(e){return void 0!==a.emoticons[e]?'<img src="'+(a.emotUrl+a.emoticons[e])+'" alt="'+e+'" class="emoticon"/>':e})}},{key:"refreshTime",value:function(){this.dates.each(function(){var e=parseInt((0,s.default)(this).attr("data-date")),t=new Date,a=new Date(e),i=t-a;i<6e4?(0,s.default)(this).html("1分钟内"):i>6048e5?(0,s.default)(this).html(d(a,"yyyy年m月d日 HH:MM")):(0,s.default)(this).html((0,r.ago)(new Date(Math.floor(e))))})}},{key:"lock",value:function(){this.progress.addClass("show"),this.enter.addClass("disabled")}},{key:"unlock",value:function(){this.progress.removeClass("show"),this.enter.removeClass("disabled")}},{key:"request",value:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";this.lock();var n=this;s.default.ajax({url:this.options.apiBase+"/"+e,cache:!1,method:i,dataType:"json",data:t}).done(function(e){n.unlock(),"code"in e?(-500===e.code&&alert(e.msg),0===e.code&&a&&a(e)):a&&a(e)}).fail(function(e){n.unlock(),n.logError(e)})}},{key:"fail",value:function(e){this.logError(e)}},{key:"logWarring",value:function(e){var t=this,a=(0,s.default)('<button class="close" type="button" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n            </button>');a.click(function(){return t.msg.removeClass("show")}),this.msg.addClass("show"),this.alert.removeClass("alert-danger").addClass("alert-warning").empty().append([a,"<strong>提示:</strong> "+e])}},{key:"logError",value:function(e){"object"===(void 0===e?"undefined":i(e))&&(e=e.statusText),this.msg.addClass("show"),this.alert.removeClass("alert-warning").addClass("alert-danger").html('你的网页非常的害怕, 需要被 <a href="javascript:;" onClick="location.reload();" class="alert-link">刷新</a> 后才能调戏, Error: '+e),console.error(e)}},{key:"updateCounter",value:function(e){}},{key:"replyListById",value:function(e){return this.$element.find(".comm-item[data-id='"+e+"'] > .comm-item-body > .comm-list.replies")}},{key:"addComment",value:function(e,t,a,i,n){var r=this,o={type:this.options.type,tid:this.options.tid,content:e||this.content.val(),review:i};null!=t&&void 0!==t&&t.length>0&&(o.parent=t),null!=a&&void 0!==a&&a.length>0&&(o.reply=a),this.request("add",o,function(e){r.runHook("onAddedComment",e),r.content.val(""),r.cancelReply(),r.backToList?("false"==r.backToList.id?r.getComments(!1,r.backToList.curr):r.getComments(r.backToList.id,r.backToList.curr),r.backToList.list&&(r.backToList.list.removeClass("comm-hide"),s.default.scrollTo(r.backToList.list))):r.seeOr&&1==o.review?r.getComments(null,1,null,1):(r.getComments(),r.seeOr=!1,r.see_checkbox.prop("checked",!1)),delete r.backToList,null!=n&&n.remove(),r.publish.addClass("hide")})}},{key:"getComments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments[3],r=this,o={type:this.options.type,tid:this.options.tid,pageSize:15,page:t};e&&(o.parent=e),n&&(o.review=n);var l=0,d=function(i){for(var n=0;n<i.items.length;n++)1===i.items[n].topped&&l++;void 0!=i.good_review&&(i.items.map(function(e,t){e.id===i.good_review.id&&i.items.splice(t,1)}),!1===r.seeOr&&(1===l?i.items.splice(1,0,i.good_review):2===l?i.items.splice(2,0,i.good_review):i.items.splice(0,0,i.good_review))),r.seeOr&&i.items.sort(function(e,t){return e.id>t.id?-1:e.id<t.id?1:0}),r.arr.push(i.count),r.discuss_count.html(r.arr[0]+" 条评论");var d=Math.ceil(i.count/o.pageSize),c=e?r.replyListById(e):r.list;e?c||a.$element.find(".comm-item[data-id='"+e+"'] > .comm-item-body").append('<div class="comm-list replies" data-expand=\'false\'><div class="comm-list-inner"></div><div class="comm-list-pagination"></div><a class="comm-expand comm-hide" href="javascript:;">点击查看更多</a></div>'):r.updateCounter(i.count),c.removeClass("comm-hide"),r.renderList(c,i.items,e,{current:t,total:d,count:i.count,seeOr:r.seeOr});for(var u=0;u<r.discuss_content.length;u++){var p=(0,s.default)(r.discuss_content[u]);p.height()>200&&(p.addClass("content-limit").after('<div class="see-more">点击查看更多</div>'),a.see_more.bind("click",function(){(0,s.default)(this).prev().removeClass("content-limit"),(0,s.default)(this).remove()}))}r.bindItem(),r.refreshTime()};null!==i?d(i):this.request("items",o,d,"GET")}},{key:"deleteComment",value:function(e){var t=this;this.request("delete",{id:e},function(){return t.getComments()},"POST")}},{key:"setTop",value:function(e){var t=this;this.request("setTop",{id:e},function(){return t.getComments()},"POST")}},{key:"cancelTop",value:function(e){var t=this;this.request("cancelTop",{id:e},function(){return t.getComments()},"POST")}},{key:"likeComment",value:function(e,t){this.request("like",{id:e},t,"POST")}},{key:"unlikeComment",value:function(e,t){this.request("unlike",{id:e},t,"POST")}},{key:"renderList",value:function(e,t,a,n){var r="",o=null!=a,l=this,d={};for(var c in t)if(t[c]){var u=t[c],p=u.id,h=u.author,m=u.avatar,f=u.content,g=u.date,v=u.nick,b=u.topped,y=u.quote,w=u.like,x=u.liked,C=u.replies,k=u.review,T=u.replyFrom,S="",I="",E="",M=h.avatar||m,P='<a href="/user/info?id='+h.id+'" class="comm-avatar"><img src="'+M+'" alt="头像"></a>';v=u.author.nick.replace(/'/g,"&#39;"),f=u.content.replace(/'/g,"&#39;"),l.seeOr||this.options.userId!=this.options.authorId||o||(S='<a class="comm-ctrl-set-top" data-id=\''+p+'\' href="javascript:;" data-is-top="'+(b>0)+'">'+(b>0?"取消置顶":"置顶")+"</a>");var z="";h.id==this.options.authorId?z="<span class='comm-tit'>作者</span> &nbsp;&nbsp;":1===h.flag?z='<span class="comm-tit">官方</span>&nbsp;&nbsp;':2===h.flag&&(z='<span class="comm-tit">书评组</span>&nbsp;&nbsp;'),h.id==this.options.userId?(S+='<a class="comm-ctrl-remove" href="javascript:;" data-id="'+p+'">删除</a>',I=o?""+z+P+v+"&nbsp;&nbsp;(自己)":'<div class="comm-name">'+z+P+v+"&nbsp;(自己)</div>"):h.id==this.options.authorId?(S+='<a class="comm-ctrl-report" href="/report/create?id='+p+'&type=3" target="_blank">举报</a>',I=h.id==this.options.artistId?o?""+z+P+'<a href="/user/info?id='+h.id+'" class="comm-author">'+v+"</a>&nbsp;<span class='label label-artist'>画师</span>":'<div class="comm-name">'+z+P+'<a href="/user/info?id='+h.id+'" class="comm-author">'+v+"</a>&nbsp;&nbsp;<span class='label label-artist'>画师</span></div>":o?""+z+P+'<a href="/user/info?id='+h.id+'" class="comm-author">'+v+"</a>&nbsp;":'<div class="comm-name">'+z+P+'<a href="/user/info?id='+h.id+'" class="comm-author">'+v+"</a>&nbsp;&nbsp;</div>"):h.id==this.options.artistId?(S+='<a class="comm-ctrl-report" href="/report/create?id='+p+'&type=3" target="_blank">举报</a>',I=o?""+z+P+'<a href="/user/info?id='+h.id+'" class="comm-author">'+v+"</a>&nbsp;<span class='label label-artist'>画师</span>":'<div class="comm-name">'+z+P+'<a href="/user/info?id='+h.id+'" class="comm-author">'+v+"</a>&nbsp;&nbsp;<span class='label label-artist'>画师</span></div>"):(S+='<a class="comm-ctrl-report" href="/report/create?id='+p+'&type=3" target="_blank">举报</a>',I=o?""+z+P+'<a href="/user/info?id='+h.id+'">'+v+"</a>":'<div class="comm-name">'+z+P+'<a href="/user/info?id='+h.id+'">'+v+"</a>&nbsp;</div>"),y&&y.author.id!=this.options.userId&&y.author.id!=h.id&&(E=' 回复 <a href="/user/info?id='+y.author.id+'">'+y.nick+"</a>");var A=0==b?"":'data-date="'+1e3*g+'"',$="";k>0&&($='<span class="review">书评</span>');var O="";b>0&&!l.seeOr&&(O='<span class="review">置顶</span>');var D="";D=void 0!==T?'<div class="comm-actual-content"><p>回复 '+O+T.nick+"："+this.replaceEmoticons(f)+"</p></div>":'<div class="comm-actual-content"><p>'+O+$+this.replaceEmoticons(f)+"</p></div>",r+='\n                <div class="comm-item" data-id="'+p+'">\n                    <div class="comm-item-body">\n                        <div class="comm-split-line"></div>\n                        <div class="comm-body" data-parent="'+p+'">\n                            '+(o?"":I)+'\n                            <div class="comm-content">\n                            <span class="comm-hint">'+(o?I+E+" :":E)+"</span>\n                                "+D+'\n                            </div>\n                            <div class="comm-status clearfix">\n                                <div class="comm-controls pull-left">\n                                    <div class="comm-date pull-left" '+A+'></div>\n                                    <a class="comm-ctrl-like '+(x?"liked":"")+"\"\n                                       data-id='"+p+"'\n                                       data-like-count='"+w+'\'\n                                       href="javascript:;">'+(0===w?"":"("+w+")")+'</a>\n                                    <a class="comm-ctrl-reply"\n                                       data-reply=\''+(o?p:0)+"'\n                                       data-parent='"+(o?a:p)+"'\n                                       data-name='"+v+"'\n                                       data-comment='"+f+'\'\n                                       href="javascript:;">回复</a>\n                                    '+S+'\n                                </div>\n                            </div>\n                        </div>\n                        <div class="comm-list replies comm-hide" data-expand="false"><div class="comm-list-inner"></div><div class="comm-list-pagination"></div><a class="comm-expand comm-hide" href="javascript:;">点击查看更多</a></div>\n                    </div>\n                </div>\n            ',"object"!==(void 0===C?"undefined":i(C))||Array.isArray(C)||(d[p]=C)}for(var B in e.find(".comm-list-inner").empty().html(r),d)this.getComments(B,1,d[B]);var L=e.children(".comm-list-pagination");a&&(L.attr("data-id",a),n.count>3&&(this.toggleCollapse(e),e.children(".comm-expand").off("click").click(function(){if("true"==e.attr("data-expand"))e.attr("data-expand","false");else{e.attr("data-expand","true");var t=(0,s.default)(this).prev(".comm-list-pagination").attr("data-current"),a=(0,s.default)(this).parent(".comm-list").prev(".comm-body").attr("data-parent");l.getComments(a,t)}l.toggleCollapse(e)}))),L.parent().is(".comm-main-list")?L.attr("data-current",n.current).attr("data-total",n.total).attr("data-type",n.seeOr):L.attr("data-current",1).attr("data-total",1).attr("data-count",n.count),this.renderPagination(L)}},{key:"toggleCollapse",value:function(e){"true"==e.attr("data-expand")?(e.children(".comm-list-inner").children(".comm-item").removeClass("hide"),e.children(".comm-list-pagination").removeClass("comm-hide"),e.children(".comm-expand").addClass("comm-hide")):(e.children(".comm-list-inner").children(".comm-item:gt(2)").addClass("hide"),e.children(".comm-list-pagination").addClass("comm-hide"),e.children(".comm-expand").removeClass("comm-hide"))}},{key:"renderPagination",value:function(e){var t=this,a=e.attr("data-current"),i=e.attr("data-total"),n=e.attr("data-type");e.empty(),i>1&&(e.parent().addClass("has-pagination"),e.pagination({currentPage:a,pages:i,displayedPages:3,edges:3,prevText:"上一页",nextText:"下一页",listStyle:"pagination small",onPageClick:function(a){var i=e.attr("data-id");"false"===n&&(i?t.getComments(i,a):t.getComments(null,a)),"true"===n&&(i?t.getComments(i,a,null,1):t.getComments(null,a,null,1)),s.default.scrollTo(e.parent())}}))}},{key:"cancelReply",value:function(){this.reply.attr("data-reply","").attr("data-parent","").removeClass("show").empty()}},{key:"renderReply",value:function(e,t,a,i,n){var s=this;e.addClass("show").attr("data-parent",a).attr("data-reply",t).html('<a href="javascript:;" class="comm-reply-close"></a> 回复 '+i+": "+n),e.find(".comm-reply-close").click(function(){return s.cancelReply()})}},{key:"alert",get:function(){return this.msg.find(".alert")}},{key:"msg",get:function(){return this.$element.find(".comm-msg")}},{key:"progress",get:function(){return this.$element.find(".comm-progress")}},{key:"form",get:function(){return this.$element.find(".comm-form")}},{key:"see_checkbox",get:function(){return this.$element.find(".see-review")}},{key:"see_review",get:function(){return this.$element.find(".book-discuss")}},{key:"publish",get:function(){return this.$element.find(".comm-publish")}},{key:"enter",get:function(){return this.$element.find(".comm-enter")}},{key:"list",get:function(){return this.$element.children(".comm-main-list")}},{key:"discuss_count",get:function(){return this.$element.find(".discuss-count")}},{key:"reply",get:function(){return this.$element.find(".comm-reply-to")}},{key:"see_more",get:function(){return this.$element.find(".see-more")}},{key:"discuss_content",get:function(){return this.$element.find(".comm-actual-content > p")}},{key:"removeBtns",get:function(){return this.$element.find(".comm-ctrl-remove")}},{key:"setTopBtns",get:function(){return this.$element.find(".comm-ctrl-set-top")}},{key:"replyBtns",get:function(){return this.$element.find(".comm-ctrl-reply")}},{key:"likeBtns",get:function(){return this.$element.find(".comm-ctrl-like")}},{key:"content",get:function(){return this.$element.find(".form-control.comm-content")}},{key:"dates",get:function(){return this.$element.find(".comm-date[data-date]")}},{key:"emoticonInput",get:function(){return this.$element.find(".comm-input-emoticons")}},{key:"emoticonButton",get:function(){return this.$element.find(".comm-emotion")}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ago=function(e){var t,a=Math.round,n=function(e,t){return t+e+"前"},s=(new Date).getTime()-new Date(e).getTime();for(var r in i){if(a(s)<i[r])return n(t||"毫秒",a(s/(i[t]||1)));t=r}return n(r,a(s/i[r]))};var i={"秒":1e3,"分钟":6e4,"小时":36e5,"日":864e5,"周":6048e5,"个月":2592e6,"年":31536e6}},function(e,t,a){"use strict";var i,n,s,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[a(0)],void 0===(s="function"==typeof(i=function(e){var t={init:function(a){var i=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(e,t){},onInit:function(){}},a||{}),n=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage?i.currentPage=i.currentPage-1:i.currentPage=i.invertPageOrder?i.pages-1:0,i.halfDisplayed=i.displayedPages/2,this.each(function(){n.addClass(i.cssStyle+" simple-pagination").data("pagination",i),t._draw.call(n)}),i.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1):e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage>0&&t._selectPage.call(this,e.currentPage-1):e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(e){this.data("pagination").pages=e},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var a=this.data("pagination");return a.currentPage=e-1,this.data("pagination",a),t._draw.call(this),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),t._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),t._draw.call(this),this},updateItems:function(e){var a=this.data("pagination");a.items=e,a.pages=t._getPages(a),this.data("pagination",a),t._draw.call(this)},updateItemsOnPage:function(e){var a=this.data("pagination");return a.itemsOnPage=e,a.pages=t._getPages(a),this.data("pagination",a),t._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var a,i=this.data("pagination"),n=t._getInterval(i);t.destroy.call(this);var s="UL"===("function"==typeof this.prop?this.prop("tagName"):this.attr("tagName"))?this:e("<ul"+(i.listStyle?' class="'+i.listStyle+'"':"")+"></ul>").appendTo(this);if(i.prevText&&t._appendItem.call(this,i.invertPageOrder?i.currentPage+1:i.currentPage-1,{text:i.prevText,classes:"prev"}),i.nextText&&i.nextAtFront&&t._appendItem.call(this,i.invertPageOrder?i.currentPage-1:i.currentPage+1,{text:i.nextText,classes:"next"}),i.invertPageOrder){if(n.end<i.pages&&i.edges>0){if(i.useStartEdge){var r=Math.max(i.pages-i.edges,n.end);for(a=i.pages-1;a>=r;a--)t._appendItem.call(this,a)}i.pages-i.edges>n.end&&i.pages-i.edges-n.end!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-n.end==1&&t._appendItem.call(this,n.end)}}else if(n.start>0&&i.edges>0){if(i.useStartEdge){var o=Math.min(i.edges,n.start);for(a=0;a<o;a++)t._appendItem.call(this,a)}i.edges<n.start&&n.start-i.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):n.start-i.edges==1&&t._appendItem.call(this,i.edges)}if(i.invertPageOrder)for(a=n.end-1;a>=n.start;a--)t._appendItem.call(this,a);else for(a=n.start;a<n.end;a++)t._appendItem.call(this,a);if(i.invertPageOrder){if(n.start>0&&i.edges>0&&(i.edges<n.start&&n.start-i.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):n.start-i.edges==1&&t._appendItem.call(this,i.edges),i.useEndEdge)){var o=Math.min(i.edges,n.start);for(a=o-1;a>=0;a--)t._appendItem.call(this,a)}}else if(n.end<i.pages&&i.edges>0&&(i.pages-i.edges>n.end&&i.pages-i.edges-n.end!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-n.end==1&&t._appendItem.call(this,n.end),i.useEndEdge)){var r=Math.max(i.pages-i.edges,n.end);for(a=r;a<i.pages;a++)t._appendItem.call(this,a)}i.nextText&&!i.nextAtFront&&t._appendItem.call(this,i.invertPageOrder?i.currentPage-1:i.currentPage+1,{text:i.nextText,classes:"next"}),i.ellipsePageSet&&!i.disabled&&t._ellipseClick.call(this,s)},_getPages:function(e){var t=Math.ceil(e.items/e.itemsOnPage);return t||1},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(a,i){var n,s,r=this,o=r.data("pagination"),l=e("<li></li>"),d=r.find("ul");a=a<0?0:a<o.pages?a:o.pages-1,n={text:a+1,classes:""},o.labelMap.length&&o.labelMap[a]&&(n.text=o.labelMap[a]),n=e.extend(n,i||{}),a==o.currentPage||o.disabled?(o.disabled||"prev"===n.classes||"next"===n.classes?l.addClass("disabled"):l.addClass("active"),s=e('<span class="current">'+n.text+"</span>")):(s=e('<a href="'+o.hrefTextPrefix+(a+1)+o.hrefTextSuffix+'" class="page-link">'+n.text+"</a>")).click(function(e){return t._selectPage.call(r,a,e)}),n.classes&&s.addClass(n.classes),l.append(s),d.length?d.append(l):r.append(l)},_selectPage:function(e,a){var i=this.data("pagination");return i.currentPage=e,i.selectOnClick&&t._draw.call(this),i.onPageClick(e+1,a)},_ellipseClick:function(a){var i=this,n=this.data("pagination"),s=a.find(".ellipse");s.addClass("clickable").parent().removeClass("disabled"),s.click(function(a){if(!n.disable){var r=e(this),o=(parseInt(r.parent().prev().text(),10)||0)+1;r.html('<input type="number" min="1" max="'+n.pages+'" step="1" value="'+o+'">').find("input").focus().click(function(e){e.stopPropagation()}).keyup(function(a){var r=e(this).val();13===a.which&&""!==r?r>0&&r<=n.pages&&t._selectPage.call(i,r-1):27===a.which&&s.empty().html(n.ellipseText)}).bind("blur",function(a){var r=e(this).val();return""!==r&&t._selectPage.call(i,r-1),s.empty().html(n.ellipseText),!1})}return!1})}};e.fn.pagination=function(a){return t[a]&&"_"!=a.charAt(0)?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==(void 0===a?"undefined":r(a))&&a?void e.error("Method "+a+" does not exist on jQuery.pagination"):t.init.apply(this,arguments)}})?i.apply(t,n):i)||(e.exports=s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onEnableCheat=function(e){var t={addEvent:function(e,t,a,i){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent&&(e["e"+t+a]=a,e[t+a]=function(){e["e"+t+a](window.event,i)},e.attachEvent("on"+t,e[t+a]))},input:"",pattern:"38384040373937396665",load:function(e){this.addEvent(document,"keydown",function(a,i){if(i&&(t=i),t.input+=a?a.keyCode:event.keyCode,t.input.length>t.pattern.length&&(t.input=t.input.substr(t.input.length-t.pattern.length)),t.input==t.pattern)return t.code(e),t.input="",a.preventDefault(),!1},this),this.iphone.load(e)},code:function(e){window.location=e},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(e){t.code(e)},load:function(e){this.orig_keys=this.keys,t.addEvent(document,"touchmove",function(e){if(1==e.touches.length&&1==t.iphone.capture){var a=e.touches[0];t.iphone.stop_x=a.pageX,t.iphone.stop_y=a.pageY,t.iphone.tap=!1,t.iphone.capture=!1,t.iphone.check_direction()}}),t.addEvent(document,"touchend",function(a){1==t.iphone.tap&&t.iphone.check_direction(e)},!1),t.addEvent(document,"touchstart",function(e){t.iphone.start_x=e.changedTouches[0].pageX,t.iphone.start_y=e.changedTouches[0].pageY,t.iphone.tap=!0,t.iphone.capture=!0})},check_direction:function(e){this.x_magnitude=Math.abs(this.start_x-this.stop_x),this.y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",this.result=this.x_magnitude>this.y_magnitude?x:y,this.result=1==this.tap?"TAP":this.result,this.result==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length)),0==this.keys.length&&(this.keys=this.orig_keys,this.code(e))}}};"string"==typeof e&&t.load(e),"function"==typeof e&&(t.code=e,t.load());return t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUserInfo=function(){if("undefined"==typeof uid||uid<0)return;var e=$(".navbar"),t=e.find(".notify-badge"),a=e.find(".notify-badge-counter"),i=e.find(".message-badge-counter"),n=e.find("#globalUserMenu"),s=e.find("#globalUserBox"),r=e.find(".nav-search-bar"),o=e.find("#nav_search_ipt"),l=$(".sign-btn");function d(){s.addClass("loading"),$.getJSON("/hub/userPanel?uid=",{uid:uid},function(e){if(s.removeClass("loading"),0==e.code){var n=e.data.notify_count+e.data.author_notify_count;n>0?t.addClass("show"):t.removeClass("show"),e.data.notify_count>0&&(a.addClass("active").html(e.data.notify_count),e.data.notify_count>99&&a.html("99+")),e.data.author_notify_count>0&&(i.addClass("active").html(e.data.author_notify_count),e.data.author_notify_count>99&&i.html("99+")),$(".pt-number.diamond b").html(e.data.credit.coin),$(".pt-number.droplet b").html(e.data.credit.ink),e.data.can_sign?l.show():l.remove()}})}o.focus(function(e){r.addClass("focused")}).blur(function(e){r.removeClass("focused")}).hover(function(e){r.addClass("hovered")},function(e){r.removeClass("hovered")}),n.hover(function(e){s.addClass("show"),n.addClass("hovered")},function(e){s.removeClass("show"),n.removeClass("hovered")}),l.click(function(e){return e.preventDefault(),l.hasClass("disabled")||(l.addClass("disabled"),$.get("/my/qiandao",function(e){if(0===e.code){var t=e.data,a=t.total,i=(t.base,t.extra,t.day);alert("签到成功！您已连续签到"+i+"天，获得墨水"+a+"！"),l.remove()}else{if(-8==e.code)return alert(e.msg),location.href=e.url,!1;l.removeClass("disabled"),alert(e.msg)}})),!1}),$(window).focus(d),d()}},function(e,t,a){"use strict";var i,n;"function"==typeof Symbol&&Symbol.iterator;void 0===(n="function"==typeof(i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var i in a)t[i]=a[i]}return t}return function t(a){function i(t,n,s){var r;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},i.defaults,s)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*s.expires),s.expires=o}try{r=JSON.stringify(n),/^[\{\[]/.test(r)&&(n=r)}catch(e){}return n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",n,s.expires&&"; expires="+s.expires.toUTCString(),s.path&&"; path="+s.path,s.domain&&"; domain="+s.domain,s.secure?"; secure":""].join("")}t||(r={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var u=l[c].split("="),p=u[0].replace(d,decodeURIComponent),h=u.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{if(h=a.read?a.read(h,p):a(h,p)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===p){r=h;break}t||(r[p]=h)}catch(e){}}return r}}return i.set=i,i.get=function(e){return i(e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,a){i(t,"",e(a,{expires:-1}))},i.withConverter=t,i}(function(){})})?i.call(t,a,t,e):i)||(e.exports=n)},function(e,t){
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
!function(e,t,a,i){var n=e(t);e.fn.lazyload=function(i){var s,r=this,o={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function l(){var t=0;r.each(function(){var a=e(this);if(!o.skip_invisible||a.is(":visible"))if(e.abovethetop(this,o)||e.leftofbegin(this,o));else if(e.belowthefold(this,o)||e.rightoffold(this,o)){if(++t>o.failure_limit)return!1}else a.trigger("appear"),t=0})}return i&&(void 0!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),void 0!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),e.extend(o,i)),s=void 0===o.container||o.container===t?n:e(o.container),0===o.event.indexOf("scroll")&&s.bind(o.event,function(){return l()}),this.each(function(){var t=this,a=e(t);t.loaded=!1,void 0!==a.attr("src")&&!1!==a.attr("src")||a.is("img")&&a.attr("src",o.placeholder),a.one("appear",function(){if(!this.loaded){if(o.appear){var i=r.length;o.appear.call(t,i,o)}e("<img />").bind("load",function(){var i=a.attr("data-"+o.data_attribute);a.hide(),a.is("img")?a.attr("src",i):a.css("background-image","url('"+i+"')"),a[o.effect](o.effect_speed),t.loaded=!0;var n=e.grep(r,function(e){return!e.loaded});if(r=e(n),o.load){var s=r.length;o.load.call(t,s,o)}}).attr("src",a.attr("data-"+o.data_attribute))}}),0!==o.event.indexOf("scroll")&&a.bind(o.event,function(){t.loaded||a.trigger("appear")})}),n.bind("resize",function(){l()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&r.each(function(){e(this).trigger("appear")})}),e(a).ready(function(){l()}),this},e.belowthefold=function(a,i){return(void 0===i.container||i.container===t?(t.innerHeight?t.innerHeight:n.height())+n.scrollTop():e(i.container).offset().top+e(i.container).height())<=e(a).offset().top-i.threshold},e.rightoffold=function(a,i){return(void 0===i.container||i.container===t?n.width()+n.scrollLeft():e(i.container).offset().left+e(i.container).width())<=e(a).offset().left-i.threshold},e.abovethetop=function(a,i){return(void 0===i.container||i.container===t?n.scrollTop():e(i.container).offset().top)>=e(a).offset().top+i.threshold+e(a).height()},e.leftofbegin=function(a,i){return(void 0===i.container||i.container===t?n.scrollLeft():e(i.container).offset().left)>=e(a).offset().left+i.threshold+e(a).width()},e.inviewport=function(t,a){return!(e.rightoffold(t,a)||e.leftofbegin(t,a)||e.belowthefold(t,a)||e.abovethetop(t,a))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=function(t,a){this.options=a,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function a(a,n){return this.each(function(){var s=e(this),r=s.data("bs.modal"),o=e.extend({},t.DEFAULTS,s.data(),"object"==(void 0===a?"undefined":i(a))&&a);r||s.data("bs.modal",r=new t(this,o)),"string"==typeof a?r[a](n):o.show&&r.show(n)})}t.VERSION="3.3.5",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(a){var i=this,n=e.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),n&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:a});n?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},t.prototype.hide=function(a){a&&a.preventDefault(),a=e.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(a){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&n;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a)return;s?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),a&&a()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):r()}else a&&a()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=a,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),s=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},s.data(),i.data());i.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),a.call(s,r,this)})}(jQuery)},function(e,t,a){"use strict";a(10),$(function(){var e=window.checkboxLimit||0,t=[],a=$("input.icheck[type=checkbox]");a.each(function(){var e=$(this),a=e.next(),i=parseInt(e.data("cat-id")),n=a.text();$.inArray(i,t)>=0&&e.attr("checked",!0),a.remove(),e.iCheck({checkboxClass:"categories-item",insert:n})}).on("ifChecked",function(){a.filter(":checked").length>=e&&a.each(function(){this.checked||$(this).prop("disabled",!0).iCheck("updated")})}).on("ifUnchecked",function(){a.filter(":checked").length<e&&a.prop("disabled",!1).iCheck("updated")}),$("#rewardPopup").length>0&&$(".choose-numbers input[type=radio]").iCheck({radioClass:"reward-radio"})})},function(e,t,a){"use strict";Array.prototype.map||(Array.prototype.map=function(e,t){var a,i,n;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),r=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(a=t),i=new Array(r),n=0;n<r;){var o,l;n in s&&(o=s[n],l=e.call(a,o,n,s),i[n]=l),n++}return i})},function(e,t,a){var i,n,s;
/*!
 * Lightbox v2.10.0
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright 2007, 2018 Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */n=[a(0)],void 0===(s="function"==typeof(i=function(e){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=e.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){e.extend(this.options,t)},t.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},t.prototype.init=function(){var t=this;e(document).ready(function(){t.enable(),t.build()})},t.prototype.enable=function(){var t=this;e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(a){return t.start(e(a.currentTarget)),!1})},t.prototype.build=function(){if(!(e("#lightbox").length>0)){var t=this;e('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(a){return"lightbox"===e(a.target).attr("id")&&t.end(),!1}),this.$outerContainer.on("click",function(a){return"lightbox"===e(a.target).attr("id")&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(e){3===e.which&&(t.$nav.css("pointer-events","none"),t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})}},t.prototype.start=function(t){var a=this,i=e(window);i.on("resize",e.proxy(this.sizeOverlay,this)),e("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var n=0;function s(e){a.album.push({alt:e.attr("data-alt"),link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var r,o=t.attr("data-lightbox");if(o){r=e(t.prop("tagName")+'[data-lightbox="'+o+'"]');for(var l=0;l<r.length;l=++l)s(e(r[l])),r[l]===t[0]&&(n=l)}else if("lightbox"===t.attr("rel"))s(t);else{r=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var d=0;d<r.length;d=++d)s(e(r[d])),r[d]===t[0]&&(n=d)}var c=i.scrollTop()+this.options.positionFromTop,u=i.scrollLeft();this.$lightbox.css({top:c+"px",left:u+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&e("html").addClass("lb-disable-scrolling"),this.changeImage(n)},t.prototype.changeImage=function(t){var a=this;this.disableKeyboardNav();var i=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var n=new Image;n.onload=function(){var s,r,o,l,d,c;i.attr({alt:a.album[t].alt,src:a.album[t].link}),e(n),i.width(n.width),i.height(n.height),a.options.fitImagesInViewport&&(c=e(window).width(),d=e(window).height(),l=c-a.containerPadding.left-a.containerPadding.right-a.imageBorderWidth.left-a.imageBorderWidth.right-20,o=d-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom-120,a.options.maxWidth&&a.options.maxWidth<l&&(l=a.options.maxWidth),a.options.maxHeight&&a.options.maxHeight<l&&(o=a.options.maxHeight),(n.width>l||n.height>o)&&(n.width/l>n.height/o?(r=l,s=parseInt(n.height/(n.width/r),10),i.width(r),i.height(s)):(s=o,r=parseInt(n.width/(n.height/s),10),i.width(r),i.height(s)))),a.sizeContainer(i.width(),i.height())},n.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){var a=this,i=this.$outerContainer.outerWidth(),n=this.$outerContainer.outerHeight(),s=e+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function o(){a.$lightbox.find(".lb-dataContainer").width(s),a.$lightbox.find(".lb-prevLink").height(r),a.$lightbox.find(".lb-nextLink").height(r),a.showImage()}i!==s||n!==r?this.$outerContainer.animate({width:s,height:r},this.options.resizeDuration,"swing",function(){o()}):o()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var a=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?a.text(this.album[this.currentImageIndex].title):a.html(this.album[this.currentImageIndex].title),a.fadeIn("fast").find("a").on("click",function(t){void 0!==e(this).attr("target")?window.open(e(this).attr("href"),e(this).attr("target")):location.href=e(this).attr("href")})}if(this.album.length>1&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return t.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t=e.keyCode,a=String.fromCharCode(t).toLowerCase();27===t||a.match(/x|o|c/)?this.end():"p"===a||37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==a&&39!==t||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&e("html").removeClass("lb-disable-scrolling")},new t})?i.apply(t,n):i)||(e.exports=s)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),n=a(89),s=a(36),r=a(90),o=a(39),l=a(91),d=a(7),c=a(92),u=a(93),p=a(94),h=a(40),m=a(95),f=a(96),g=a(97);a(5);var v=a(99);window.asyncUploader=v,a(42),a(100),a(8),a(101),a(9),a(43),a(102),a(103),a(104),a(105),a(106),a(108),a(44),a(109),a(45),a(110);a(111);i.default.fn.removeClassByPrefix=function(e){return this.each(function(t,a){var n=a.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(e,0)});a.className=i.default.trim(n.join(" "))}),this},i.default.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-KOTORI-KEY",(0,i.default)('meta[name="kotori-key"]').attr("content"))}}),(0,i.default)(function(){(0,i.default)(".parallax-container").length>0&&(0,i.default)(window).scroll(function(e){!function(){var e=.2*((0,i.default)(window).scrollTop()-(0,i.default)(".navbar").height()),t=0-e>0?0:0-e;(0,i.default)(".parallax-container .background").css({"background-position-y":t+"px"})}()}).trigger("scroll"),(0,h.initUserInfo)(),(0,m.initWorksListSettings)(),(0,p.initTextExpander)((0,i.default)("body")),(0,i.default)("#lkHomepageLayout").length>0&&(0,f.initIndexData)(),(0,i.default)("#lkMobileHomepageLayout").length>0&&(0,g.initMobileIndexData)(),(0,i.default)("img.captcha").click(function(){(0,i.default)(this).attr("src",(0,i.default)(this).attr("data-base-url")+"?timestamp="+(new Date).getTime())}),(0,i.default)("img.lazy").lazyload({effect:"fadeIn",threshold:300,load:function(){(0,i.default)(this).removeClass("loading")}}),a(46).option({resizeDuration:200,wrapAround:!0}),window.commCfg&&(window.comment=new s.Comment("#commentComponent",window.commCfg)),(0,c.initHashTab)(),(0,u.initHashPage)(),window.sideIndexCfg&&(window.sideIndex=new r.SideIndex("#sideIndexComponent",window.sideIndexCfg)),(0,i.default)("#tsukkomi").length>0&&(window.tsukkomi=new n.Tsukkomi),(0,i.default)(".publish-chapter").click(function(){if(!confirm("确定要发布这个章节么"))return!1;(0,i.default)(this).parent().submit()}),(0,i.default)(".remove-chapter").click(function(){if(!confirm("确定要删除这个章节么"))return!1;(0,i.default)(this).parent().submit()});var e=(0,i.default)("input#agreement");if(e.length>0){var t=(0,i.default)("form [type=submit]");t.click(function(e){(0,i.default)(this).hasClass("disabled")&&e.preventDefault()}).addClass("disabled"),e.change(function(){(0,i.default)(this).is(":checked")?t.removeClass("disabled"):t.addClass("disabled")})}window._autoCompleteXHRCache=null,(0,i.default)('input#top_search_input[name="kw"],input#nav_search_ipt[name="kw"]').autocomplete({lookup:function(e,t){if(window._autoCompleteXHRCache)try{window._autoCompleteXHRCache.abort()}catch(e){console.log(e)}window._autoCompleteXHRCache=i.default.getJSON("/search/suggest",{kw:e},function(e){var a={suggestions:[]};e.hasOwnProperty("code")&&0==e.code&&e.hasOwnProperty("lists")&&(a.suggestions=e.lists.map(function(e){return{value:e.name,data:e.name}})),t(a)})}}),(0,i.default)("#riceScriptEntry").length>0&&new l.Rice({bgOuterId:"riceBGOuter",bgInnerId:"riceBGInner",sourceId:"riceScriptEntry",screenplayId:"riceScreenplayEntry"});var v=(0,i.default)(".activity-enter");v.length>0&&(0,i.default)(window).resize(function(){v.height(Math.round(.58201058*v.width()))}),window&&(window.meme=d.meme,(0,d.meme)("mailto:hr@vol1.us","轻之文库限定",14),console.log('\n\n\n打造二次元最不妥协的轻小说！帝都最强轻小说团队向你伸出了橄榄枝 : )\n创作你的专属省流量版害怕表情, EXAMPLE: meme("mailto:hr@vol1.us", "轻之文库限定", 14);')),window.lkCheatTimer=null,(0,o.onEnableCheat)(function(){console.log("_(･∀･ 」∠)_"),null==lkCheatTimer&&((0,i.default)("body").append('<div class="lk-cheat-wrp">\n    <div class="lk-cheat-panel">\n        <div class="lk-cheat-panel-bg"></div>\n        <div class="lk-cheat-icon"></div>\n    </div>\n</div>'),(0,i.default)(".lk-cheat-wrp").addClass("show"),window.lkCheatTimer=setTimeout(function(){(0,i.default)(".lk-cheat-wrp").removeClass("show"),setTimeout(function(){window.lkCheatTimer=null,(0,i.default)(".lk-cheat-wrp").remove()},800)},1500))})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tsukkomi=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));var s=a(3);t.Tsukkomi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=(0,n.default)("body"),this.box=(0,n.default)("#tsukkomi"),this.tree=this.box.find(".tree"),this.sendBtn=this.box.find(".btn.btn-primary"),this.hideBtn=this.box.find(".hide-btn"),this.commentData={},this.lines=(0,n.default)(".reader article p.l "),this.btnTpl="<a class='tsukkomi-btn' href='javascript:void(0)'><span class='icon marker'></span><span class='icon edit'></span></a>",this.lastIndex=null,this.initTsukkomi()}return i(e,[{key:"toggle",value:function(){this.box.toggleClass("collapsed"),this.body.toggleClass("enable-tsukkomi"),s.set("enableTsukkomi",!this.box.hasClass("collapsed")),this.detectHideState()}},{key:"detectHideState",value:function(){this.body.hasClass("enable-tsukkomi")?(this.hideBtn.html("隐藏"),(0,n.default)("body").addClass("enable-tsukkomi"),(0,n.default)(".r-side").show(),(0,n.default)(".hide-tsukkomi").html("隐藏<br />吐槽").removeClass("show"),(0,n.default)(".l-side").addClass("col-md-9","col-lg-9")):(this.hideBtn.html("显示"),(0,n.default)("body").removeClass("enable-tsukkomi"),(0,n.default)(".r-side").hide(),(0,n.default)(".l-side").removeClass("col-md-9","col-lg-9"),(0,n.default)(".hide-tsukkomi").addClass("show").html("吐槽")),this.detect()}},{key:"detect",value:function(){if(this.body.hasClass("enable-tsukkomi")){if((0,n.default)(window).width()<=767)return this.box.css("display","none");this.box.fadeIn();var e=this.lines.filter(":onScreen").not(".rendered"),t=this;e.addClass("rendered"),e.each(function(e,a){var i=(0,n.default)(a),s=(0,n.default)(t.btnTpl);s.click(function(){t.setEdit((0,n.default)(this).parent().data("i"))}),s.data("i",i.data("i")),i.append(s);var r=i.data("i");if(t.commentData.hasOwnProperty(r)&&t.commentData[r].length>0){t.commentData[r].length>0&&(s.addClass("has-tsukkomi"),s.data("count",t.commentData[r].length));var o=t.tree.find(".list[data-i="+r+"]");t.renderComment(t.commentData[r],o)}}).promise().done(function(){t.smartActive()});var a=(0,n.default)(".r-side"),i=parseInt(a.css("padding-right").replace("px","")),s=a.offset().top+20;(0,n.default)(window).scrollTop()>s?this.box.addClass("fixed"):this.box.removeClass("fixed"),this.box.css("width",a.width()+2*i+"px")}}},{key:"getChapterComments",value:function(e){var t=this;n.default.ajax({type:"get",url:"/comment/getChapterComments",data:{bookid:window.bookId,chapterid:window.chapterId,line:e.join()},success:function(e){for(var a in e.data.lists){var i=e.data.lists[a],s=t.lines.eq(a-1),r=s.find(".tsukkomi-btn");i.length>0&&(r.addClass("has-tsukkomi"),r.data("count",i.length)),r.data("i",s.data("i")),r.click(function(){t.setActive((0,n.default)(this).parent().data("i"))});var o=t.tree.find(".list[data-i="+a+"]");t.commentData[a]=i,t.renderComment(i,o)}t.smartActive()}})}},{key:"sendTsukkomi",value:function(){var e=this;if(!this.sendBtn.attr("disabled")){var t=this.box.find("textarea"),a=t.val().trim(),i=(0,n.default)(".tsukkomi-to").data("i");if(0==a.length)return alert("请先输入吐槽内容!");t.val(""),n.default.ajax({type:"post",url:"/comment/addChapterComment",data:{bookid:bookId,chapterid:chapterId,content:a,line:i},success:function(t){0==t.code?(e.commentData[i]={},e.getChapterComments([i])):alert(t.msg)}})}}},{key:"smartActive",value:function(){var e=this.lines.filter(":onScreen").find(".has-tsukkomi").first();e.length>0&&this.setActive(e.data("i"))}},{key:"setEdit",value:function(e){this.lines.find(".tsukkomi-btn").removeClass("edit");var t=this.lines.filter("[data-i="+e+"]");t.find(".tsukkomi-btn").addClass("edit");var a=t.clone();a.find(".tsukkomi-btn").remove(),a.find("img").replaceWith("[图片]"),(0,n.default)(".tsukkomi-to").html("吐槽："+a.html().trim()).data("i",e),this.sendBtn.attr("disabled",null)}},{key:"renderComment",value:function(e,t){var a=t.parent().attr("data-i");this.lines.filter("[data-i='"+a+"']").clone().find("a").remove(),t.parent().addClass("has-tsukkomi");var i="",n=!0,s=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var d=o.value;i+="<div class='item'><a target=\"_blank\" href='/user/info?id="+d.user_id+"'>"+d.nick+"</a> "+d.content+"</div>"}}catch(e){s=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw r}}t.html(i)}},{key:"setActive",value:function(e){this.lines.removeClass("active").filter("[data-i="+e+"]").addClass("active"),this.tree.find(".list-wrapper").removeClass("active");var t=this.tree.find(".list-wrapper[data-i="+e+"]");t.addClass("active"),this.lastIndex!==e&&this.tree.scrollTo(t),this.lastIndex=e}},{key:"initTsukkomi",value:function(){var e=this;this.hideBtn.click(function(){e.toggle()}),(0,n.default)(".hide-tsukkomi").click(function(){e.toggle()});for(var t="",a=0;a<this.lines.length;a++)t+="<div class='list-wrapper' data-i='"+(a+1)+"'><div class='link-to'><span class='icon'></span><span class='ref'></span></div><div class='list' data-i='"+(a+1)+"'></div></div>";this.tree.html(t),(0,n.default)(".content").delegate("p.read-line","click",function(t){e.setActive((0,n.default)(this).data("i"))}),(0,n.default)(".list-wrapper .link-to").click(function(){(0,n.default)(window).scrollTo(e.lines.filter("[data-i="+(0,n.default)(this).parent().data("i")+"]").offset().top-10)}),e.sendBtn.click(function(){e.sendTsukkomi()}),n.default.ajax({type:"get",url:"/comment/getChapterComments",data:{bookid:window.bookId,chapterid:window.chapterId,line:"*"},success:function(t){e.commentData=t.data.lists;var a=function(){e.detect()};(0,n.default)(window).scroll(a).resize(a),e.detectHideState()}}),s.get("enableTsukkomi")?(this.box.removeClass("collapsed"),(0,n.default)("body").addClass("enable-tsukkomi"),s.set("enableTsukkomi",!0)):s.set("enableTsukkomi",!1)}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SideIndex=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));a(5);var s={};t.SideIndex=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=(0,n.default)(t),this.options=n.default.extend({},s,a),this.bind(),this.init()}return i(e,[{key:"bind",value:function(){var e=this;this.$stickyTrigger=(0,n.default)(this.options.stickyTrigger),this.$reverseList=(0,n.default)(this.options.reverseList),this.$listElement=(0,n.default)(this.options.list),this.$element.find(".reverse").click(function(){e.reverse()}),(0,n.default)(window).on("scroll resize",function(){var t=(0,n.default)(window).scrollTop(),a=e.$element.find(".index-list li");if(t>e.$stickyTrigger.offset().top)for(var i in e.$element.addClass("sticky").css({left:e.$stickyTrigger.offset().left+e.$stickyTrigger.width()+25,right:"auto",top:20,bottom:"auto"}),e.$listElement.toArray()){var s=(0,n.default)(e.$listElement[i]),r=s.attr("data-index-name"),o=s.offset().top-40,l=s.offset().top+s.height()-40;if(t>o&&t<l)return a.removeClass("active").filter('[data-index-name="'+r+'"]').addClass("active"),void console.log(a.filter('[data-index-name="'+r+'"]'))}else e.$element.removeClass("sticky").css({left:"auto",right:20,top:20,bottom:"auto"}),a.removeClass("active").first().addClass("active")})}},{key:"reverse",value:function(){function e(e,t){(0,n.default)(t).parent().prepend(t)}this.$reverseList.children().each(e),this.$element.find(".index-list").children().each(e),this.$listElement.find("img.lazy").trigger("appear"),(0,n.default)(window).trigger("scroll")}},{key:"init",value:function(){var e=this.$element.find(".index-list");(this.$listElement.length>1||this.$listElement.length>16)&&(this.$element.addClass("appear"),this.$listElement.addClass("fit")),this.$listElement.each(function(t,a){var i=(0,n.default)(a).attr("data-index-name");e.append('<li data-index-name="'+i+'"><a href="javascript:;">'+i+"</a></li>")}),this.bindAnchor(e.find("a")),(0,n.default)(window).trigger("scroll")}},{key:"bindAnchor",value:function(e){var t=this;(0,n.default)(e).on("click",function(){var e=(0,n.default)(this).parent().attr("data-index-name");n.default.scrollTo(t.$listElement.filter('[data-index-name="'+e+'"]'))})}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();function n(e){return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1<div class="br"></div>$2')}function s(e){return e=(e=(e=(e=(e=e.replace(/\\"/g,'"')).replace(/\\/g,"")).replace("\\\\","\\")).replace(/\\\[/g,"[")).replace(/\\]/g,"]")}var r="comment",o="command",l="commandParam",d="text",c="textParam",u="dialog",p="dialogParam",h="text",m="dialog",f="command",g="breakLine",v="背景",b="图片";t.Rice=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=this;this.source=document.getElementById(t.sourceId).innerHTML,this.bgOuterElement=document.getElementById(t.bgOuterId),this.bgInnerElement=document.getElementById(t.bgInnerId),this.screenplayElement=document.getElementById(t.screenplayId),this.screenplayElement.innerHTML=e.contextToHTML(e.parse(this.source)),this.bgRangeMap=[];var i=$(this.screenplayElement).find(".rice-background-anchor");i.each(function(e){var t="",n="";$(this).attr("data-file")?(t='<div class="rice-bg-item" style="background-image: url('+$(this).attr("data-file")+')">',n='<div class="rice-bg-item" style="background-image: url('+$(this).attr("data-cover-file")+')">'):(t='<div class="rice-bg-item" style="background-color: '+$(this).attr("data-color")+'">',n='<div class="rice-bg-item" style="background-color: '+$(this).attr("data-color")+'">'),$(a.bgOuterElement).append(n),$(a.bgInnerElement).append(t);var s=i.eq(e+1);s.length>0?a.bgRangeMap.push([$(this).offset().top,s.offset().top]):a.bgRangeMap.push([$(this).offset().top,$(a.screenplayElement).height()])}).promise().done(function(){$(window).scroll(function(){var e,t=$(window).scrollTop()+.3*$(window).height();for(var i in a.bgRangeMap)t>(e=a.bgRangeMap[i])[0]&&t<=e[1]&&($(a.bgOuterElement).children().eq(i).hasClass("active")||($(a.bgOuterElement).children().removeClass("active").eq(i).addClass("active"),$(a.bgInnerElement).children().removeClass("active").eq(i).addClass("active")))}).trigger("scroll")}),$(window).resize(function(){$(".rice-dialog-box").each(function(){var e=0;$(window).width()<=992&&(e=53);var t=$(a.screenplayElement).width()-e,i=t%28;0!=i&&$(this).css("max-width",t-i-28)})}).trigger("resize")}return i(e,null,[{key:"parse",value:function(t){for(var a=0,i=-1,n=[],s={},v=null,b=-1,y=-1,w=-1,x=-1,C=!1;a<t.length;a++)switch(t[a]){case"#":null==v&&(v=r);break;case"@":null==v&&(v=o,s.type=f,x=a+1);break;case" ":switch(v){case o:v=l,s.command=t.substring(x,a),x=-1,b=a+1}break;case"[":null==v&&(v=d,s.type=h,w=a+1);break;case"]":if(C){C=!1;continue}v=c,b=a+1,s.string=t.substring(w,a),w=-1;break;case"\\":C=!0;break;case'"':if(C){C=!1;continue}v==d?(v=c,b=a+1,s.string=t.substring(y,a),y=-1):(v=d,s.type=m,y=a+1);break;case"\n":case"\r":switch(i++,v){case d:case u:continue;case l:case c:case p:s.param=e.parseParam(t.substring(b,a)),b=-1,n.push(s),s={};break;default:s.type=g,n.push(s),s={}}v=null;break;default:v}return console&&(console.info("[Rice] Parsed lines:",i),console.info("[Rice] Context lines:",n.length-1)),n}},{key:"parseParam",value:function(e){var t=e.split(" "),a={},i="";for(var n in t)(i=t[n].split("="))[0]&&(a[i[0]]=i[1]);return a}},{key:"contextToHTML",value:function(e){var t,a,i,r,o="";for(var l in e){switch(t=e[l],a=t.param,t.type){case f:switch(t.command){case v:a["文件"]?0==a["文件"].indexOf("http")?o+='<div class="rice-background-anchor"data-file="'+encodeURI(a["文件"])+'" data-cover-file="'+encodeURI(a["封底文件"])+'"></div>':o+='<div class="rice-background-anchor"data-file="'+encodeURI(window.RICE_RES_BASE_PATH+a["文件"])+'" data-cover-file="'+encodeURI(window.RICE_RES_BASE_PATH+a["封底文件"])+'"></div>':o+='<div class="rice-background-anchor" data-color="'+a["颜色"]+'"></div>';break;case b:0==a["文件"].indexOf("http")?o+='<img class="rice-image" src="'+encodeURI(a["文件"])+'"/>':o+='<img class="rice-image" src="'+encodeURI(window.RICE_RES_BASE_PATH+a["文件"])+'"/>'}break;case g:o+='<p class="rice-text-line"><br></p>';break;case m:var d=function(e){var t="normal";return a["样式"]&&(t=a["样式"]),!!window.RICE_RES_BASE_PATH&&"background-image:url("+RICE_RES_BASE_PATH+encodeURI(t)+"/"+e+".png);"};a["背景色"]||(a["背景色"]="rgba(255,255,255,.8)");var c=null;i=s(t.string),a["字号"]?("small"==a["字号"]&&(c="14px"),"medium"==a["字号"]&&(c="18px"),"large"==a["字号"]&&(c="32px")):a["字号"]="small",a["头像"]&&(0==a["头像"].indexOf("http")?a["头像"]=encodeURI(a["头像"]):a["头像"]=encodeURI(window.RICE_RES_BASE_PATH+a["头像"])),r=(c?"font-size:"+c:"")+";"+(a["颜色"]?"color:"+a["颜色"]:"")+" ",o+='<div class="rice-dialog rice-dialog-align-'+a["位置"]+' "><img class="rice-dialog-avatar" src="'+a["头像"]+'"/><div class="rice-dialog-name">'+a["角色名"]+'</div><div class="rice-dialog-box rice-dialog-size-'+a["字号"]+'" style="'+r+'"><div class="rice-dialog-box-balloon-1" style="'+d("left"==a["位置"]?1:"right"==a["位置"]?5:void 0)+'"></div><div class="rice-dialog-box-balloon-2" style="'+d("left"==a["位置"]?2:"right"==a["位置"]?6:void 0)+'"></div><div class="rice-dialog-box-balloon-3" style="'+d("3")+'"></div><div class="rice-dialog-box-balloon-4" style="'+d("4")+'"></div><div class="rice-dialog-box-balloon-bottom" style="'+d("bottom")+'"></div><div class="rice-dialog-box-balloon-left" style="'+d("left")+'"></div><div class="rice-dialog-box-balloon-right" style="'+d("right")+'"></div><div class="rice-dialog-box-balloon-top" style="'+d("top")+'"></div><div class="rice-dialog-box-balloon-center" style="background-color:'+a["背景色"]+'">'+i+"</div></div></div>";break;case h:i=n(s(t.string)),a["字号"]&&("small"==a["字号"]&&(a["字号"]="14px"),"medium"==a["字号"]&&(a["字号"]="18px"),"large"==a["字号"]&&(a["字号"]="32px")),o+='<div style="'+(r=(a["字号"]?"font-size:"+a["字号"]:"")+";"+(a["颜色"]?"color:"+a["颜色"]:"")+" ")+'"class="rice-text '+(a["颜色"]?"rice-color-"+a["颜色"]:"")+" "+(a["对齐"]?"rice-align-"+a["对齐"]:"")+'">'+i+"</div>"}i="",r=""}return o}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initHashTab=function(){var e=$(".hash-tab");function t(e){history.pushState?(e=void 0===e||0==e.length?window.location.pathname+window.location.search:"#"+e,history.pushState({},null,e)):location.hash="#"+e}function a(e,t){var i=e.find(".tab-item"),n=e.find(".tab-page");if(void 0===t||0==t.length)e.find(".tab-item, .tab-page").removeClass("active"),i.first().addClass("active"),n.first().addClass("active").find("img.lazy").trigger("appear"),n.first()[0].hasAttribute("data-tab-trigger-event")&&$(document).trigger("data-tab-trigger-event"),n.first()[0].hasAttribute("data-text-trigger")&&n.first().find(".text-expander").trigger("expander-detect");else{var s=i.filter("[data-tab-id='"+t+"']");if(s.length>0){e.find(".tab-item, .tab-page").removeClass("active"),s.addClass("active"),n.filter("[data-tab-id='"+t+"']").addClass("active").find("img.lazy").trigger("appear");var r=n.filter("[data-tab-id='"+t+"']");r.length>0&&(r[0].hasAttribute("data-tab-trigger-event")&&$(document).trigger(r.attr("data-tab-trigger-event"),[]),r[0].hasAttribute("data-text-trigger")&&n.filter("[data-tab-id='"+t+"']").find(".text-expander").trigger("expander-detect"))}else e.find(".tab-item").hasClass("active")||a(e,void 0)}}function i(){var t=window.location.hash.replace("#","");e.each(function(){a($(this),t)})}e.each(function(){var e=$(this),i=e.find(".tab-item");i.click(function(){var i=$(this).attr("data-tab-id");a(e,i),void 0===i?t():t(i)})}),$(window).on("hashchange",i),i()}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initHashPage=function(){var e=$(".hash-page");function t(e){history.pushState?(e=void 0===e||0==e.length?window.location.pathname+window.location.search:"#"+e,history.pushState({},null,e)):location.hash="#"+e}function a(e,t){console.log(t);e.find(".hash-page-item");var i=e.find(".hash-page-panel");if(void 0===t||0==t.length)e.find(".hash-page-panel").removeClass("active"),i.first().addClass("active").find("img.lazy").trigger("appear"),i.first()[0].hasAttribute("data-hash-page-trigger-event")&&$(document).trigger("data-hash-page-trigger-event"),i.first()[0].hasAttribute("data-text-trigger")&&i.first().find(".text-expander").trigger("expander-detect");else{e.find(".hash-page-panel").removeClass("active"),i.filter("[data-hash-page-id='"+t+"']").addClass("active").find("img.lazy").trigger("appear");var n=i.filter("[data-hash-page-id='"+t+"']");n.length>0?(n[0].hasAttribute("data-hash-page-trigger-event")&&$(document).trigger(n.attr("data-hash-page-trigger-event"),[]),n[0].hasAttribute("data-text-trigger")&&i.filter("[data-hash-page-id='"+t+"']").find(".text-expander").trigger("expander-detect")):a(e,void 0)}}function i(){var t=window.location.hash,i=t.replace("#","");e.each(function(){a($(this),i)})}e.each(function(){var e=$(this),i=e.find(".hash-page-item");i.click(function(){var i=$(this).attr("data-hash-page-id");a(e,i),void 0===i?t():t(i)})}),$(window).on("hashchange",i),i()}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTextExpander=function(e){e.find(".text-expander").each(function(){var e=$(this),t=e.find(".text-content-wrapper"),a=e.find(".text-content-actual"),i=e.find(".more"),n=e.find(".more"),s=e.attr("data-expand-text")||"更 多",r=e.attr("data-collapse-text")||"收 起",o=e.attr("data-text-selector");function l(){if(e.hasClass("expand"))return e.removeClass("text-expander-disabled"),i.show();a.actual("height")<=t.height()?(i.hide(),e.addClass("text-expander-disabled")):(i.show(),e.removeClass("text-expander-disabled"))}o&&(n=$(e.find(o))),e.on("expander-detect",l),i.click(function(){e.hasClass("expand")?(e.removeClass("expand"),n.html(s)):(e.addClass("expand"),n.html(r))}),$(window).resize(l),l()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initWorksListSettings=function(){var e=$("#switchWorksLayout"),t=$(".works-grid .grid");if(e.length<=0)return;var a=e.find("a"),s=e.find(".icon-grid"),r=e.find(".icon-list"),o=function(e,t,a,n){var s=i.get(e);("number"!=typeof s||s>a||s<n)&&(s=t);return s}("worksListLayoutSetting",0,1,0);s.click(function(){a.addClass("disabled"),s.removeClass("disabled"),t.removeClass("list-item").addClass("col-xs-6").addClass("col-sm-4").addClass("col-md-3").addClass("col-lg-2"),n("worksListLayoutSetting",1)}),r.click(function(){a.addClass("disabled"),r.removeClass("disabled"),t.removeClassByPrefix("col-").addClass("list-item"),n("worksListLayoutSetting",0)}),1==o?s.click():r.click()};var i=a(3);a(41);function n(e,t){i.set(e,t)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initIndexData=function(){var e=$(".index-hot .hot-topics"),t=e.find(".topic-picker-list li").not(".topic-picker-all"),a=e.find(".book-item").not(".topic-picker"),i=$(".landing .categories"),n=i.find(".book-item"),s=i.find(".list-filter"),r=s.find(".picker-list li").not(".pull-right"),o=s.find(".checker .check-box"),l=s.find(".checker .radio-box"),d=o.filter(".is-new"),c=o.filter(".is-sign"),u=o.filter(".is-finished"),p=l.filter(".order-by-pop");function h(e){return'<a href="/book/'+e.id+'.html" class="book-item-inner">\n    <div class="cover">\n        <img src="'+e.coverUrl+'" alt="'+e.name+'"/>\n        <div class="status">\n            <div class="status-author">\n                <img class="img-circle" src="'+e.avatarUrl+'" alt="'+e.author+'">\n                <b>'+e.author+'</b>\n            </div>\n            <div class="status-words">\n                <i>字数：</i>'+(e.words||0)+'\n            </div>\n            <div class="status-words">\n                <i>援力：</i>'+(e.supp||0)+'\n            </div>\n            <div class="status-fav">\n                <b><i>热度：</i>'+(e.hot||0)+'</b>\n            </div>\n        </div>\n    </div>\n    <span class="title">'+e.name+'</span>\n    <span class="desc">'+(e.is_hot?"<i class='icon-hot-red'></i>":"")+e.desc+"</span>\n</a>"}function m(e){return'<a href="/book/'+e.id+'.html" class="book-item-inner">\n    <div class="cover">\n        <img src="'+e.coverUrl+'" alt="'+e.name+'"/>\n        <div class="status">\n            <div class="status-author">\n                <img class="img-circle" src="'+e.avatarUrl+'" alt="'+e.author+'">\n                <b>'+e.author+'</b>\n            </div>\n            <div class="status-about">'+e.about+'</div>\n            <div class="status-fav">\n                <b><i>热度：</i>'+(e.hot||0)+'</b>\n            </div>\n        </div>\n    </div>\n    <span class="title">'+e.name+'</span>\n    <span class="desc">'+e.words+"字</span>\n</a>"}function f(e,t,a){return null!=e?0==t?'<a class="rank-link" href="/book/'+e.id+'.html">\n    <span class="bar"></span>\n    <span class="rank-no"><b>'+a+' No.1</b></span>\n    <span class="rank-name">'+e.name+'</span>\n    <span class="rank-score"></span>\n    <span class="rank-about">'+e.author+'</span>\n    <img class="rank-cover" src="'+e.coverUrl+'"/>\n</a>':'<a class="rank-link" href="/book/'+e.id+'.html">\n    <span class="rank-no"><b>'+(t+1)+'</b></span>\n    <span class="rank-name">'+e.name+'</span>\n    <span class="rank-score"></span>\n</a>':0==t?'<a class="rank-link empty" href="javascript:;">\n    <span class="bar"></span>\n    <span class="rank-no"><b>'+a+' No.1</b></span>\n    <span class="rank-name"></span>\n    <span class="rank-score"></span>\n    <span class="rank-about"></span>\n    <img class="rank-cover" src="/static/img/cover_default.jpg"/>\n</a>':'<a class="rank-link empty" href="javascript:;">\n    <span class="rank-no"><b>'+(t+1)+'</b></span>\n    <span class="rank-name"></span>\n    <span class="rank-score"></span>\n</a>'}t.click(function(){!function(i,n){if(e.hasClass("loading"))return;e.addClass("loading"),$.getJSON("/hub/getBooksByCollection",{id:n},function(n){var s,r,o=n.data.books,l=a.find(".book-item-inner");for(t.removeClass("active"),i.addClass("active"),s=0;s<l.length;s++)s<o.length?((r=o[s]).is_hot?l.eq(s).parent(".book-item").addClass("hot"):l.eq(s).parent(".book-item").removeClass("hot"),l.eq(s).replaceWith(h(r))):l.eq(s).replaceWith('<a href="javascript:;" class="book-item-inner empty"></a>');e.removeClass("loading")}).error(function(){e.removeClass("loading")})}($(this),$(this).attr("data-id"))}),r.click(function(){!function(e,t){if(i.find(".l-side").hasClass("loading"))return;i.find(".l-side").addClass("loading");var a={cat:t,pageSize:24,order:p.hasClass("active")?1:2,optNew:d.hasClass("active")?1:0,optSign:c.hasClass("active")?1:0,optFinished:u.hasClass("active")?1:0};$.getJSON("/hub/getBooksByCatAndFilter",a,function(t){var a,s,o=t.data.books,l=n.find(".book-item-inner");for(r.removeClass("active"),e.addClass("active"),a=0;a<l.length;a++)a<o.length?(s=o[a],l.eq(a).replaceWith(m(s))):l.eq(a).replaceWith('<a href="javascript:;" class="book-item-inner empty"></a>');i.find(".l-side").removeClass("loading")}).error(function(){i.find(".l-side").removeClass("loading")})}($(this),$(this).attr("data-id"))}),o.click(function(){$(this).toggleClass("active"),o.not(this).removeClass("active"),r.filter(".active").click()}),l.click(function(){$(this).hasClass("active")||(l.removeClass("active"),$(this).addClass("active"),r.filter(".active").click())}),r.filter(".active").click(),$(".rank-switch-list-wrp").each(function(e,t){var a=$(t),i=$(t).find(".rank-switch-list"),n=$(t).find(".rank-switch a");n.click(function(){!function(e,t){if(a.hasClass("loading"))return;a.addClass("loading"),$.getJSON("/hub/getTopBooks",{unit:t,time:e.attr("data-time"),pageSize:i.find(".rank-link").length},function(t){var s,r,o=t.data.books,l=i.find(".rank-link");for(n.removeClass("active"),e.addClass("active"),s=0;s<l.length;s++)s<o.length?(r=o[s],l.eq(s).replaceWith(f(r,s,a.attr("data-title")))):l.eq(s).replaceWith(f(null,s,a.attr("data-title")));a.removeClass("loading")}).error(function(){a.removeClass("loading")})}($(this),a.attr("data-type"))}),n.filter(".active").click()});var g=$(".all-ranks .rank-wrp"),v=$(".all-ranks .rank-switch a");function b(e,t,a,i){return null!=e?0==t?'<a class="rank-link" href="/book/'+e.id+'.html">\n    <span class="bar"></span>\n    <span class="rank-no"><b>'+a+' No.1</b></span>\n    <span class="rank-name">'+e.name+'</span>\n    <span class="rank-score"></span>\n    <span class="rank-about">'+e.author+'</span>\n    <img class="rank-cover" src="'+e.coverUrl+'"/>\n</a>':'<a class="rank-link" href="/book/'+e.id+'.html">\n    <span class="rank-no"><b>'+(t+1)+'</b></span>\n    <span class="rank-name">'+e.name+'</span>\n    <span class="rank-score"></span>\n</a>':0==t?'<a class="rank-link empty" href="javascript:;">\n    <span class="bar"></span>\n    <span class="rank-no"><b>'+a+' No.1</b></span>\n    <span class="rank-name"></span>\n    <span class="rank-score"></span>\n    <span class="rank-about"></span>\n    <img class="rank-cover" src="/static/img/cover_default.jpg"/>\n</a>':'<a class="rank-link empty" href="javascript:;">\n    <span class="rank-no"><b>'+(t+1)+'</b></span>\n    <span class="rank-name"></span>\n    <span class="rank-score"></span>\n</a>'}function y(e,t){var a,i,n=g.find(".rank-list-wrp."+e),s=n.find(".rank-link");for(a=0;a<s.length;a++)a<t.length?(i=t[a],s.eq(a).replaceWith(b(i,a,n.attr("data-title"),e))):s.eq(a).replaceWith(b(null,a,n.attr("data-title"),e))}v.click(function(){!function(e,t){if(g.hasClass("loading"))return;v.removeClass("active"),e.addClass("active"),g.addClass("loading","load-ticket","load-supp"),$.getJSON("/hub/getTopBooks",{unit:"ticket",time:t},function(e){y("ticket",e.data.books),g.removeClass("load-ticket"),g.hasClass("load-supp")||g.removeClass("loading")}).error(function(){g.removeClass("loading")}),$.getJSON("/hub/getTopBooks",{unit:"supp",time:t},function(e){y("supp",e.data.books),g.removeClass("load-supp"),g.hasClass("load-ticket")||g.removeClass("loading")}).error(function(){g.removeClass("loading")})}($(this),$(this).attr("data-time"))}),v.filter(".active").click();var w=$(".featured-book"),x=w.find(".featured-book-list"),C=w.find(".featured-book-tabs"),k=x.find("li");function T(e){w.find("li").removeClass("active"),x.find("li").eq(e).addClass("active"),C.find("li").eq(e).addClass("active")}k.each(function(e,t){var a=$('<li data-idx="'+e+'"><i></i></li>');a.click(function(){T(parseInt($(this).attr("data-idx")))}),C.append(a)}).promise().done(function(){C.find("li").first().click()}),setInterval(function(){var e=k.filter(".active").index();e!=k.length-1?e++:e=0,T(e)},6e3)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMobileIndexData=function(){var e=$(".index-featured-list"),t=e.find(".volume-list"),a=$(".index-categories"),n=(a.find(".book-item"),$(".index-cat-list .index-cat-item"));function s(e){return'\n<div class="volume">\n    <div class="cover">\n        <a href="/book/'+e.id+'.html"><img src="'+e.coverUrl+'"/></a>\n    </div>\n    <h2 class="title"><a href="/book/'+e.id+'.html">'+e.name+'</a></h2>\n    <div class="desc">'+e.about+'<i class="mask"></i></div>\n</div>'}function r(e){return'<li class="book-item"><a href="/book/'+e.id+'.html">\n    <div class="cover">\n        <img src="'+e.coverUrl+'" alt="'+e.name+'"/>\n    </div>\n    <h2 class="title">'+e.name+'</h2>\n    <div class="desc">'+e.about+'</div>\n    <div class="stats"><span class="name">'+e.author+'</span>&nbsp;&nbsp;<span class="words">'+e.words+"字</span></div>\n</a></li>"}(function(){if(e.hasClass("loading"))return;t.addClass("loading"),$.getJSON("/hub/getBooksByCollection",{id:t.attr("data-id")},function(e){var a=void 0,i=void 0,n=e.data.books;for(t.css("width",265*n.length+"px"),a=0;a<n.length;a++)i=n[a],t.append(s(i,i.hot));t.find("img.lazy").trigger("appear").removeClass("loading")}).error(function(){t.removeClass("loading")})})(),n.click(function(){!function(e,t){if(a.hasClass("loading"))return;a.addClass("loading"),$.getJSON("/hub/getBooksByCatAndFilter",{cat:t},function(t){var i=void 0,s=t.data.books,o=a.find(".index-cat-book-list");for(n.removeClass("active"),e.addClass("active"),o.empty(),i=0;i<s.length;i++)o.append(r(s[i]));a.removeClass("loading")}).error(function(){a.removeClass("loading")})}($(this),$(this).attr("data-id"))}).filter(".active").click();new i("#indexSwiper",{slidesPerView:"auto",centeredSlides:!0,loop:!0,autoplay:5e3,spaceBetween:0})};var i=a(98)},function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e,t=function t(a,s){if(!(this instanceof t))return new t(a,s);var r={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},o=s&&s.virtualTranslate;s=s||{};var l={};for(var d in s)if("object"!==i(s[d])||null===s[d]||(s[d].nodeType||s[d]===window||s[d]===document||void 0!==n&&s[d]instanceof n||"undefined"!=typeof jQuery&&s[d]instanceof jQuery))l[d]=s[d];else for(var c in l[d]={},s[d])l[d][c]=s[d][c];for(var u in r)if(void 0===s[u])s[u]=r[u];else if("object"===i(s[u]))for(var p in r[u])void 0===s[u][p]&&(s[u][p]=r[u][p]);var h=this;if(h.params=s,h.originalParams=l,h.classNames=[],void 0!==e&&void 0!==n&&(e=n),(void 0!==e||(e=void 0===n?window.Dom7||window.Zepto||window.jQuery:n))&&(h.$=e,h.currentBreakpoint=void 0,h.getActiveBreakpoint=function(){if(!h.params.breakpoints)return!1;var e,t=!1,a=[];for(e in h.params.breakpoints)h.params.breakpoints.hasOwnProperty(e)&&a.push(e);a.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var i=0;i<a.length;i++)(e=a[i])>=window.innerWidth&&!t&&(t=e);return t||"max"},h.setBreakpoint=function(){var e=h.getActiveBreakpoint();if(e&&h.currentBreakpoint!==e){var t=e in h.params.breakpoints?h.params.breakpoints[e]:h.originalParams,a=h.params.loop&&t.slidesPerView!==h.params.slidesPerView;for(var i in t)h.params[i]=t[i];h.currentBreakpoint=e,a&&h.destroyLoop&&h.reLoop(!0)}},h.params.breakpoints&&h.setBreakpoint(),h.container=e(a),0!==h.container.length)){if(h.container.length>1){var m=[];return h.container.each(function(){m.push(new t(this,s))}),m}h.container[0].swiper=h,h.container.data("swiper",h),h.classNames.push(h.params.containerModifierClass+h.params.direction),h.params.freeMode&&h.classNames.push(h.params.containerModifierClass+"free-mode"),h.support.flexbox||(h.classNames.push(h.params.containerModifierClass+"no-flexbox"),h.params.slidesPerColumn=1),h.params.autoHeight&&h.classNames.push(h.params.containerModifierClass+"autoheight"),(h.params.parallax||h.params.watchSlidesVisibility)&&(h.params.watchSlidesProgress=!0),h.params.touchReleaseOnEdges&&(h.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(h.params.effect)>=0&&(h.support.transforms3d?(h.params.watchSlidesProgress=!0,h.classNames.push(h.params.containerModifierClass+"3d")):h.params.effect="slide"),"slide"!==h.params.effect&&h.classNames.push(h.params.containerModifierClass+h.params.effect),"cube"===h.params.effect&&(h.params.resistanceRatio=0,h.params.slidesPerView=1,h.params.slidesPerColumn=1,h.params.slidesPerGroup=1,h.params.centeredSlides=!1,h.params.spaceBetween=0,h.params.virtualTranslate=!0),"fade"!==h.params.effect&&"flip"!==h.params.effect||(h.params.slidesPerView=1,h.params.slidesPerColumn=1,h.params.slidesPerGroup=1,h.params.watchSlidesProgress=!0,h.params.spaceBetween=0,void 0===o&&(h.params.virtualTranslate=!0)),h.params.grabCursor&&h.support.touch&&(h.params.grabCursor=!1),h.wrapper=h.container.children("."+h.params.wrapperClass),h.params.pagination&&(h.paginationContainer=e(h.params.pagination),h.params.uniqueNavElements&&"string"==typeof h.params.pagination&&h.paginationContainer.length>1&&1===h.container.find(h.params.pagination).length&&(h.paginationContainer=h.container.find(h.params.pagination)),"bullets"===h.params.paginationType&&h.params.paginationClickable?h.paginationContainer.addClass(h.params.paginationModifierClass+"clickable"):h.params.paginationClickable=!1,h.paginationContainer.addClass(h.params.paginationModifierClass+h.params.paginationType)),(h.params.nextButton||h.params.prevButton)&&(h.params.nextButton&&(h.nextButton=e(h.params.nextButton),h.params.uniqueNavElements&&"string"==typeof h.params.nextButton&&h.nextButton.length>1&&1===h.container.find(h.params.nextButton).length&&(h.nextButton=h.container.find(h.params.nextButton))),h.params.prevButton&&(h.prevButton=e(h.params.prevButton),h.params.uniqueNavElements&&"string"==typeof h.params.prevButton&&h.prevButton.length>1&&1===h.container.find(h.params.prevButton).length&&(h.prevButton=h.container.find(h.params.prevButton)))),h.isHorizontal=function(){return"horizontal"===h.params.direction},h.rtl=h.isHorizontal()&&("rtl"===h.container[0].dir.toLowerCase()||"rtl"===h.container.css("direction")),h.rtl&&h.classNames.push(h.params.containerModifierClass+"rtl"),h.rtl&&(h.wrongRTL="-webkit-box"===h.wrapper.css("display")),h.params.slidesPerColumn>1&&h.classNames.push(h.params.containerModifierClass+"multirow"),h.device.android&&h.classNames.push(h.params.containerModifierClass+"android"),h.container.addClass(h.classNames.join(" ")),h.translate=0,h.progress=0,h.velocity=0,h.lockSwipeToNext=function(){h.params.allowSwipeToNext=!1,!1===h.params.allowSwipeToPrev&&h.params.grabCursor&&h.unsetGrabCursor()},h.lockSwipeToPrev=function(){h.params.allowSwipeToPrev=!1,!1===h.params.allowSwipeToNext&&h.params.grabCursor&&h.unsetGrabCursor()},h.lockSwipes=function(){h.params.allowSwipeToNext=h.params.allowSwipeToPrev=!1,h.params.grabCursor&&h.unsetGrabCursor()},h.unlockSwipeToNext=function(){h.params.allowSwipeToNext=!0,!0===h.params.allowSwipeToPrev&&h.params.grabCursor&&h.setGrabCursor()},h.unlockSwipeToPrev=function(){h.params.allowSwipeToPrev=!0,!0===h.params.allowSwipeToNext&&h.params.grabCursor&&h.setGrabCursor()},h.unlockSwipes=function(){h.params.allowSwipeToNext=h.params.allowSwipeToPrev=!0,h.params.grabCursor&&h.setGrabCursor()},h.setGrabCursor=function(e){h.container[0].style.cursor="move",h.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",h.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",h.container[0].style.cursor=e?"grabbing":"grab"},h.unsetGrabCursor=function(){h.container[0].style.cursor=""},h.params.grabCursor&&h.setGrabCursor(),h.imagesToLoad=[],h.imagesLoaded=0,h.loadImage=function(e,t,a,i,n,s){var r;function o(){s&&s()}e.complete&&n?o():t?((r=new window.Image).onload=o,r.onerror=o,i&&(r.sizes=i),a&&(r.srcset=a),t&&(r.src=t)):o()},h.preloadImages=function(){function e(){void 0!==h&&null!==h&&h&&(void 0!==h.imagesLoaded&&h.imagesLoaded++,h.imagesLoaded===h.imagesToLoad.length&&(h.params.updateOnImagesReady&&h.update(),h.emit("onImagesReady",h)))}h.imagesToLoad=h.container.find("img");for(var t=0;t<h.imagesToLoad.length;t++)h.loadImage(h.imagesToLoad[t],h.imagesToLoad[t].currentSrc||h.imagesToLoad[t].getAttribute("src"),h.imagesToLoad[t].srcset||h.imagesToLoad[t].getAttribute("srcset"),h.imagesToLoad[t].sizes||h.imagesToLoad[t].getAttribute("sizes"),!0,e)},h.autoplayTimeoutId=void 0,h.autoplaying=!1,h.autoplayPaused=!1,h.startAutoplay=function(){return void 0===h.autoplayTimeoutId&&(!!h.params.autoplay&&(!h.autoplaying&&(h.autoplaying=!0,h.emit("onAutoplayStart",h),void O())))},h.stopAutoplay=function(e){h.autoplayTimeoutId&&(h.autoplayTimeoutId&&clearTimeout(h.autoplayTimeoutId),h.autoplaying=!1,h.autoplayTimeoutId=void 0,h.emit("onAutoplayStop",h))},h.pauseAutoplay=function(e){h.autoplayPaused||(h.autoplayTimeoutId&&clearTimeout(h.autoplayTimeoutId),h.autoplayPaused=!0,0===e?(h.autoplayPaused=!1,O()):h.wrapper.transitionEnd(function(){h&&(h.autoplayPaused=!1,h.autoplaying?O():h.stopAutoplay())}))},h.minTranslate=function(){return-h.snapGrid[0]},h.maxTranslate=function(){return-h.snapGrid[h.snapGrid.length-1]},h.updateAutoHeight=function(){var e,t=[],a=0;if("auto"!==h.params.slidesPerView&&h.params.slidesPerView>1)for(e=0;e<Math.ceil(h.params.slidesPerView);e++){var i=h.activeIndex+e;if(i>h.slides.length)break;t.push(h.slides.eq(i)[0])}else t.push(h.slides.eq(h.activeIndex)[0]);for(e=0;e<t.length;e++)if(void 0!==t[e]){var n=t[e].offsetHeight;a=n>a?n:a}a&&h.wrapper.css("height",a+"px")},h.updateContainerSize=function(){var e,t;e=void 0!==h.params.width?h.params.width:h.container[0].clientWidth,t=void 0!==h.params.height?h.params.height:h.container[0].clientHeight,0===e&&h.isHorizontal()||0===t&&!h.isHorizontal()||(e=e-parseInt(h.container.css("padding-left"),10)-parseInt(h.container.css("padding-right"),10),t=t-parseInt(h.container.css("padding-top"),10)-parseInt(h.container.css("padding-bottom"),10),h.width=e,h.height=t,h.size=h.isHorizontal()?h.width:h.height)},h.updateSlidesSize=function(){h.slides=h.wrapper.children("."+h.params.slideClass),h.snapGrid=[],h.slidesGrid=[],h.slidesSizesGrid=[];var e,t=h.params.spaceBetween,a=-h.params.slidesOffsetBefore,i=0,n=0;if(void 0!==h.size){var s,r;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*h.size),h.virtualSize=-t,h.rtl?h.slides.css({marginLeft:"",marginTop:""}):h.slides.css({marginRight:"",marginBottom:""}),h.params.slidesPerColumn>1&&(s=Math.floor(h.slides.length/h.params.slidesPerColumn)===h.slides.length/h.params.slidesPerColumn?h.slides.length:Math.ceil(h.slides.length/h.params.slidesPerColumn)*h.params.slidesPerColumn,"auto"!==h.params.slidesPerView&&"row"===h.params.slidesPerColumnFill&&(s=Math.max(s,h.params.slidesPerView*h.params.slidesPerColumn)));var o,l=h.params.slidesPerColumn,d=s/l,c=d-(h.params.slidesPerColumn*d-h.slides.length);for(e=0;e<h.slides.length;e++){r=0;var u,p,m,f=h.slides.eq(e);if(h.params.slidesPerColumn>1)"column"===h.params.slidesPerColumnFill?(m=e-(p=Math.floor(e/l))*l,(p>c||p===c&&m===l-1)&&++m>=l&&(m=0,p++),u=p+m*s/l,f.css({"-webkit-box-ordinal-group":u,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})):p=e-(m=Math.floor(e/d))*d,f.css("margin-"+(h.isHorizontal()?"top":"left"),0!==m&&h.params.spaceBetween&&h.params.spaceBetween+"px").attr("data-swiper-column",p).attr("data-swiper-row",m);"none"!==f.css("display")&&("auto"===h.params.slidesPerView?(r=h.isHorizontal()?f.outerWidth(!0):f.outerHeight(!0),h.params.roundLengths&&(r=$(r))):(r=(h.size-(h.params.slidesPerView-1)*t)/h.params.slidesPerView,h.params.roundLengths&&(r=$(r)),h.isHorizontal()?h.slides[e].style.width=r+"px":h.slides[e].style.height=r+"px"),h.slides[e].swiperSlideSize=r,h.slidesSizesGrid.push(r),h.params.centeredSlides?(a=a+r/2+i/2+t,0===i&&0!==e&&(a=a-h.size/2-t),0===e&&(a=a-h.size/2-t),Math.abs(a)<.001&&(a=0),n%h.params.slidesPerGroup==0&&h.snapGrid.push(a),h.slidesGrid.push(a)):(n%h.params.slidesPerGroup==0&&h.snapGrid.push(a),h.slidesGrid.push(a),a=a+r+t),h.virtualSize+=r+t,i=r,n++)}if(h.virtualSize=Math.max(h.virtualSize,h.size)+h.params.slidesOffsetAfter,h.rtl&&h.wrongRTL&&("slide"===h.params.effect||"coverflow"===h.params.effect)&&h.wrapper.css({width:h.virtualSize+h.params.spaceBetween+"px"}),h.support.flexbox&&!h.params.setWrapperSize||(h.isHorizontal()?h.wrapper.css({width:h.virtualSize+h.params.spaceBetween+"px"}):h.wrapper.css({height:h.virtualSize+h.params.spaceBetween+"px"})),h.params.slidesPerColumn>1&&(h.virtualSize=(r+h.params.spaceBetween)*s,h.virtualSize=Math.ceil(h.virtualSize/h.params.slidesPerColumn)-h.params.spaceBetween,h.isHorizontal()?h.wrapper.css({width:h.virtualSize+h.params.spaceBetween+"px"}):h.wrapper.css({height:h.virtualSize+h.params.spaceBetween+"px"}),h.params.centeredSlides)){for(o=[],e=0;e<h.snapGrid.length;e++)h.snapGrid[e]<h.virtualSize+h.snapGrid[0]&&o.push(h.snapGrid[e]);h.snapGrid=o}if(!h.params.centeredSlides){for(o=[],e=0;e<h.snapGrid.length;e++)h.snapGrid[e]<=h.virtualSize-h.size&&o.push(h.snapGrid[e]);h.snapGrid=o,Math.floor(h.virtualSize-h.size)-Math.floor(h.snapGrid[h.snapGrid.length-1])>1&&h.snapGrid.push(h.virtualSize-h.size)}0===h.snapGrid.length&&(h.snapGrid=[0]),0!==h.params.spaceBetween&&(h.isHorizontal()?h.rtl?h.slides.css({marginLeft:t+"px"}):h.slides.css({marginRight:t+"px"}):h.slides.css({marginBottom:t+"px"})),h.params.watchSlidesProgress&&h.updateSlidesOffset()}},h.updateSlidesOffset=function(){for(var e=0;e<h.slides.length;e++)h.slides[e].swiperSlideOffset=h.isHorizontal()?h.slides[e].offsetLeft:h.slides[e].offsetTop},h.currentSlidesPerView=function(){var e,t,a=1;if(h.params.centeredSlides){var i,n=h.slides[h.activeIndex].swiperSlideSize;for(e=h.activeIndex+1;e<h.slides.length;e++)h.slides[e]&&!i&&(a++,(n+=h.slides[e].swiperSlideSize)>h.size&&(i=!0));for(t=h.activeIndex-1;t>=0;t--)h.slides[t]&&!i&&(a++,(n+=h.slides[t].swiperSlideSize)>h.size&&(i=!0))}else for(e=h.activeIndex+1;e<h.slides.length;e++)h.slidesGrid[e]-h.slidesGrid[h.activeIndex]<h.size&&a++;return a},h.updateSlidesProgress=function(e){if(void 0===e&&(e=h.translate||0),0!==h.slides.length){void 0===h.slides[0].swiperSlideOffset&&h.updateSlidesOffset();var t=-e;h.rtl&&(t=e),h.slides.removeClass(h.params.slideVisibleClass);for(var a=0;a<h.slides.length;a++){var i=h.slides[a],n=(t+(h.params.centeredSlides?h.minTranslate():0)-i.swiperSlideOffset)/(i.swiperSlideSize+h.params.spaceBetween);if(h.params.watchSlidesVisibility){var s=-(t-i.swiperSlideOffset),r=s+h.slidesSizesGrid[a];(s>=0&&s<h.size||r>0&&r<=h.size||s<=0&&r>=h.size)&&h.slides.eq(a).addClass(h.params.slideVisibleClass)}i.progress=h.rtl?-n:n}}},h.updateProgress=function(e){void 0===e&&(e=h.translate||0);var t=h.maxTranslate()-h.minTranslate(),a=h.isBeginning,i=h.isEnd;0===t?(h.progress=0,h.isBeginning=h.isEnd=!0):(h.progress=(e-h.minTranslate())/t,h.isBeginning=h.progress<=0,h.isEnd=h.progress>=1),h.isBeginning&&!a&&h.emit("onReachBeginning",h),h.isEnd&&!i&&h.emit("onReachEnd",h),h.params.watchSlidesProgress&&h.updateSlidesProgress(e),h.emit("onProgress",h,h.progress)},h.updateActiveIndex=function(){var e,t,a,i=h.rtl?h.translate:-h.translate;for(t=0;t<h.slidesGrid.length;t++)void 0!==h.slidesGrid[t+1]?i>=h.slidesGrid[t]&&i<h.slidesGrid[t+1]-(h.slidesGrid[t+1]-h.slidesGrid[t])/2?e=t:i>=h.slidesGrid[t]&&i<h.slidesGrid[t+1]&&(e=t+1):i>=h.slidesGrid[t]&&(e=t);h.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),(a=Math.floor(e/h.params.slidesPerGroup))>=h.snapGrid.length&&(a=h.snapGrid.length-1),e!==h.activeIndex&&(h.snapIndex=a,h.previousIndex=h.activeIndex,h.activeIndex=e,h.updateClasses(),h.updateRealIndex())},h.updateRealIndex=function(){h.realIndex=parseInt(h.slides.eq(h.activeIndex).attr("data-swiper-slide-index")||h.activeIndex,10)},h.updateClasses=function(){h.slides.removeClass(h.params.slideActiveClass+" "+h.params.slideNextClass+" "+h.params.slidePrevClass+" "+h.params.slideDuplicateActiveClass+" "+h.params.slideDuplicateNextClass+" "+h.params.slideDuplicatePrevClass);var t=h.slides.eq(h.activeIndex);t.addClass(h.params.slideActiveClass),s.loop&&(t.hasClass(h.params.slideDuplicateClass)?h.wrapper.children("."+h.params.slideClass+":not(."+h.params.slideDuplicateClass+')[data-swiper-slide-index="'+h.realIndex+'"]').addClass(h.params.slideDuplicateActiveClass):h.wrapper.children("."+h.params.slideClass+"."+h.params.slideDuplicateClass+'[data-swiper-slide-index="'+h.realIndex+'"]').addClass(h.params.slideDuplicateActiveClass));var a=t.next("."+h.params.slideClass).addClass(h.params.slideNextClass);h.params.loop&&0===a.length&&(a=h.slides.eq(0)).addClass(h.params.slideNextClass);var i=t.prev("."+h.params.slideClass).addClass(h.params.slidePrevClass);if(h.params.loop&&0===i.length&&(i=h.slides.eq(-1)).addClass(h.params.slidePrevClass),s.loop&&(a.hasClass(h.params.slideDuplicateClass)?h.wrapper.children("."+h.params.slideClass+":not(."+h.params.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(h.params.slideDuplicateNextClass):h.wrapper.children("."+h.params.slideClass+"."+h.params.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(h.params.slideDuplicateNextClass),i.hasClass(h.params.slideDuplicateClass)?h.wrapper.children("."+h.params.slideClass+":not(."+h.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(h.params.slideDuplicatePrevClass):h.wrapper.children("."+h.params.slideClass+"."+h.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(h.params.slideDuplicatePrevClass)),h.paginationContainer&&h.paginationContainer.length>0){var n,r=h.params.loop?Math.ceil((h.slides.length-2*h.loopedSlides)/h.params.slidesPerGroup):h.snapGrid.length;if(h.params.loop?((n=Math.ceil((h.activeIndex-h.loopedSlides)/h.params.slidesPerGroup))>h.slides.length-1-2*h.loopedSlides&&(n-=h.slides.length-2*h.loopedSlides),n>r-1&&(n-=r),n<0&&"bullets"!==h.params.paginationType&&(n=r+n)):n=void 0!==h.snapIndex?h.snapIndex:h.activeIndex||0,"bullets"===h.params.paginationType&&h.bullets&&h.bullets.length>0&&(h.bullets.removeClass(h.params.bulletActiveClass),h.paginationContainer.length>1?h.bullets.each(function(){e(this).index()===n&&e(this).addClass(h.params.bulletActiveClass)}):h.bullets.eq(n).addClass(h.params.bulletActiveClass)),"fraction"===h.params.paginationType&&(h.paginationContainer.find("."+h.params.paginationCurrentClass).text(n+1),h.paginationContainer.find("."+h.params.paginationTotalClass).text(r)),"progress"===h.params.paginationType){var o=(n+1)/r,l=o,d=1;h.isHorizontal()||(d=o,l=1),h.paginationContainer.find("."+h.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+d+")").transition(h.params.speed)}"custom"===h.params.paginationType&&h.params.paginationCustomRender&&(h.paginationContainer.html(h.params.paginationCustomRender(h,n+1,r)),h.emit("onPaginationRendered",h,h.paginationContainer[0]))}h.params.loop||(h.params.prevButton&&h.prevButton&&h.prevButton.length>0&&(h.isBeginning?(h.prevButton.addClass(h.params.buttonDisabledClass),h.params.a11y&&h.a11y&&h.a11y.disable(h.prevButton)):(h.prevButton.removeClass(h.params.buttonDisabledClass),h.params.a11y&&h.a11y&&h.a11y.enable(h.prevButton))),h.params.nextButton&&h.nextButton&&h.nextButton.length>0&&(h.isEnd?(h.nextButton.addClass(h.params.buttonDisabledClass),h.params.a11y&&h.a11y&&h.a11y.disable(h.nextButton)):(h.nextButton.removeClass(h.params.buttonDisabledClass),h.params.a11y&&h.a11y&&h.a11y.enable(h.nextButton))))},h.updatePagination=function(){if(h.params.pagination&&h.paginationContainer&&h.paginationContainer.length>0){var e="";if("bullets"===h.params.paginationType){for(var t=h.params.loop?Math.ceil((h.slides.length-2*h.loopedSlides)/h.params.slidesPerGroup):h.snapGrid.length,a=0;a<t;a++)h.params.paginationBulletRender?e+=h.params.paginationBulletRender(h,a,h.params.bulletClass):e+="<"+h.params.paginationElement+' class="'+h.params.bulletClass+'"></'+h.params.paginationElement+">";h.paginationContainer.html(e),h.bullets=h.paginationContainer.find("."+h.params.bulletClass),h.params.paginationClickable&&h.params.a11y&&h.a11y&&h.a11y.initPagination()}"fraction"===h.params.paginationType&&(e=h.params.paginationFractionRender?h.params.paginationFractionRender(h,h.params.paginationCurrentClass,h.params.paginationTotalClass):'<span class="'+h.params.paginationCurrentClass+'"></span> / <span class="'+h.params.paginationTotalClass+'"></span>',h.paginationContainer.html(e)),"progress"===h.params.paginationType&&(e=h.params.paginationProgressRender?h.params.paginationProgressRender(h,h.params.paginationProgressbarClass):'<span class="'+h.params.paginationProgressbarClass+'"></span>',h.paginationContainer.html(e)),"custom"!==h.params.paginationType&&h.emit("onPaginationRendered",h,h.paginationContainer[0])}},h.update=function(e){var t;h&&(h.updateContainerSize(),h.updateSlidesSize(),h.updateProgress(),h.updatePagination(),h.updateClasses(),h.params.scrollbar&&h.scrollbar&&h.scrollbar.set(),e?(h.controller&&h.controller.spline&&(h.controller.spline=void 0),h.params.freeMode?(a(),h.params.autoHeight&&h.updateAutoHeight()):(("auto"===h.params.slidesPerView||h.params.slidesPerView>1)&&h.isEnd&&!h.params.centeredSlides?h.slideTo(h.slides.length-1,0,!1,!0):h.slideTo(h.activeIndex,0,!1,!0))||a()):h.params.autoHeight&&h.updateAutoHeight());function a(){h.rtl,h.translate;t=Math.min(Math.max(h.translate,h.maxTranslate()),h.minTranslate()),h.setWrapperTranslate(t),h.updateActiveIndex(),h.updateClasses()}},h.onResize=function(e){h.params.onBeforeResize&&h.params.onBeforeResize(h),h.params.breakpoints&&h.setBreakpoint();var t=h.params.allowSwipeToPrev,a=h.params.allowSwipeToNext;h.params.allowSwipeToPrev=h.params.allowSwipeToNext=!0,h.updateContainerSize(),h.updateSlidesSize(),("auto"===h.params.slidesPerView||h.params.freeMode||e)&&h.updatePagination(),h.params.scrollbar&&h.scrollbar&&h.scrollbar.set(),h.controller&&h.controller.spline&&(h.controller.spline=void 0);var i=!1;if(h.params.freeMode){var n=Math.min(Math.max(h.translate,h.maxTranslate()),h.minTranslate());h.setWrapperTranslate(n),h.updateActiveIndex(),h.updateClasses(),h.params.autoHeight&&h.updateAutoHeight()}else h.updateClasses(),i=("auto"===h.params.slidesPerView||h.params.slidesPerView>1)&&h.isEnd&&!h.params.centeredSlides?h.slideTo(h.slides.length-1,0,!1,!0):h.slideTo(h.activeIndex,0,!1,!0);h.params.lazyLoading&&!i&&h.lazy&&h.lazy.load(),h.params.allowSwipeToPrev=t,h.params.allowSwipeToNext=a,h.params.onAfterResize&&h.params.onAfterResize(h)},h.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?h.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(h.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),h.touchEvents={start:h.support.touch||!h.params.simulateTouch?"touchstart":h.touchEventsDesktop.start,move:h.support.touch||!h.params.simulateTouch?"touchmove":h.touchEventsDesktop.move,end:h.support.touch||!h.params.simulateTouch?"touchend":h.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===h.params.touchEventsTarget?h.container:h.wrapper).addClass("swiper-wp8-"+h.params.direction),h.initEvents=function(e){var t=e?"off":"on",a=e?"removeEventListener":"addEventListener",i="container"===h.params.touchEventsTarget?h.container[0]:h.wrapper[0],n=h.support.touch?i:document,r=!!h.params.nested;if(h.browser.ie)i[a](h.touchEvents.start,h.onTouchStart,!1),n[a](h.touchEvents.move,h.onTouchMove,r),n[a](h.touchEvents.end,h.onTouchEnd,!1);else{if(h.support.touch){var o=!("touchstart"!==h.touchEvents.start||!h.support.passiveListener||!h.params.passiveListeners)&&{passive:!0,capture:!1};i[a](h.touchEvents.start,h.onTouchStart,o),i[a](h.touchEvents.move,h.onTouchMove,r),i[a](h.touchEvents.end,h.onTouchEnd,o)}(s.simulateTouch&&!h.device.ios&&!h.device.android||s.simulateTouch&&!h.support.touch&&h.device.ios)&&(i[a]("mousedown",h.onTouchStart,!1),document[a]("mousemove",h.onTouchMove,r),document[a]("mouseup",h.onTouchEnd,!1))}window[a]("resize",h.onResize),h.params.nextButton&&h.nextButton&&h.nextButton.length>0&&(h.nextButton[t]("click",h.onClickNext),h.params.a11y&&h.a11y&&h.nextButton[t]("keydown",h.a11y.onEnterKey)),h.params.prevButton&&h.prevButton&&h.prevButton.length>0&&(h.prevButton[t]("click",h.onClickPrev),h.params.a11y&&h.a11y&&h.prevButton[t]("keydown",h.a11y.onEnterKey)),h.params.pagination&&h.params.paginationClickable&&(h.paginationContainer[t]("click","."+h.params.bulletClass,h.onClickIndex),h.params.a11y&&h.a11y&&h.paginationContainer[t]("keydown","."+h.params.bulletClass,h.a11y.onEnterKey)),(h.params.preventClicks||h.params.preventClicksPropagation)&&i[a]("click",h.preventClicks,!0)},h.attachEvents=function(){h.initEvents()},h.detachEvents=function(){h.initEvents(!0)},h.allowClick=!0,h.preventClicks=function(e){h.allowClick||(h.params.preventClicks&&e.preventDefault(),h.params.preventClicksPropagation&&h.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},h.onClickNext=function(e){e.preventDefault(),h.isEnd&&!h.params.loop||h.slideNext()},h.onClickPrev=function(e){e.preventDefault(),h.isBeginning&&!h.params.loop||h.slidePrev()},h.onClickIndex=function(t){t.preventDefault();var a=e(this).index()*h.params.slidesPerGroup;h.params.loop&&(a+=h.loopedSlides),h.slideTo(a)},h.updateClickedSlide=function(t){var a=D(t,"."+h.params.slideClass),i=!1;if(a)for(var n=0;n<h.slides.length;n++)h.slides[n]===a&&(i=!0);if(!a||!i)return h.clickedSlide=void 0,void(h.clickedIndex=void 0);if(h.clickedSlide=a,h.clickedIndex=e(a).index(),h.params.slideToClickedSlide&&void 0!==h.clickedIndex&&h.clickedIndex!==h.activeIndex){var s,r=h.clickedIndex,o="auto"===h.params.slidesPerView?h.currentSlidesPerView():h.params.slidesPerView;if(h.params.loop){if(h.animating)return;s=parseInt(e(h.clickedSlide).attr("data-swiper-slide-index"),10),h.params.centeredSlides?r<h.loopedSlides-o/2||r>h.slides.length-h.loopedSlides+o/2?(h.fixLoop(),r=h.wrapper.children("."+h.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+h.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){h.slideTo(r)},0)):h.slideTo(r):r>h.slides.length-o?(h.fixLoop(),r=h.wrapper.children("."+h.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+h.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){h.slideTo(r)},0)):h.slideTo(r)}else h.slideTo(r)}};var f,g,v,b,y,w,x,C,k,T,S,I,E="input, select, textarea, button, video",M=Date.now(),P=[];for(var z in h.animating=!1,h.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},h.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(S="touchstart"===t.type)||!("which"in t)||3!==t.which)if(h.params.noSwiping&&D(t,"."+h.params.noSwipingClass))h.allowClick=!0;else if(!h.params.swipeHandler||D(t,h.params.swipeHandler)){var a=h.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i=h.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(h.device.ios&&h.params.iOSEdgeSwipeDetection&&a<=h.params.iOSEdgeSwipeThreshold)){if(f=!0,g=!1,v=!0,y=void 0,I=void 0,h.touches.startX=a,h.touches.startY=i,b=Date.now(),h.allowClick=!0,h.updateContainerSize(),h.swipeDirection=void 0,h.params.threshold>0&&(C=!1),"touchstart"!==t.type){var n=!0;e(t.target).is(E)&&(n=!1),document.activeElement&&e(document.activeElement).is(E)&&document.activeElement.blur(),n&&t.preventDefault()}h.emit("onTouchStart",h,t)}}},h.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!S||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return h.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(h.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(h.params.onlyExternal)return h.allowClick=!1,void(f&&(h.touches.startX=h.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,h.touches.startY=h.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,b=Date.now()));if(S&&h.params.touchReleaseOnEdges&&!h.params.loop)if(h.isHorizontal()){if(h.touches.currentX<h.touches.startX&&h.translate<=h.maxTranslate()||h.touches.currentX>h.touches.startX&&h.translate>=h.minTranslate())return}else if(h.touches.currentY<h.touches.startY&&h.translate<=h.maxTranslate()||h.touches.currentY>h.touches.startY&&h.translate>=h.minTranslate())return;if(S&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(E))return g=!0,void(h.allowClick=!1);if(v&&h.emit("onTouchMove",h,t),!(t.targetTouches&&t.targetTouches.length>1)){var a;if(h.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,h.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===y)h.isHorizontal()&&h.touches.currentY===h.touches.startY||!h.isHorizontal()&&h.touches.currentX===h.touches.startX?y=!1:(a=180*Math.atan2(Math.abs(h.touches.currentY-h.touches.startY),Math.abs(h.touches.currentX-h.touches.startX))/Math.PI,y=h.isHorizontal()?a>h.params.touchAngle:90-a>h.params.touchAngle);if(y&&h.emit("onTouchMoveOpposite",h,t),void 0===I&&(h.touches.currentX===h.touches.startX&&h.touches.currentY===h.touches.startY||(I=!0)),f)if(y)f=!1;else if(I){h.allowClick=!1,h.emit("onSliderMove",h,t),t.preventDefault(),h.params.touchMoveStopPropagation&&!h.params.nested&&t.stopPropagation(),g||(s.loop&&h.fixLoop(),x=h.getWrapperTranslate(),h.setWrapperTransition(0),h.animating&&h.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),h.params.autoplay&&h.autoplaying&&(h.params.autoplayDisableOnInteraction?h.stopAutoplay():h.pauseAutoplay()),T=!1,!h.params.grabCursor||!0!==h.params.allowSwipeToNext&&!0!==h.params.allowSwipeToPrev||h.setGrabCursor(!0)),g=!0;var i=h.touches.diff=h.isHorizontal()?h.touches.currentX-h.touches.startX:h.touches.currentY-h.touches.startY;i*=h.params.touchRatio,h.rtl&&(i=-i),h.swipeDirection=i>0?"prev":"next",w=i+x;var n=!0;if(i>0&&w>h.minTranslate()?(n=!1,h.params.resistance&&(w=h.minTranslate()-1+Math.pow(-h.minTranslate()+x+i,h.params.resistanceRatio))):i<0&&w<h.maxTranslate()&&(n=!1,h.params.resistance&&(w=h.maxTranslate()+1-Math.pow(h.maxTranslate()-x-i,h.params.resistanceRatio))),n&&(t.preventedByNestedSwiper=!0),!h.params.allowSwipeToNext&&"next"===h.swipeDirection&&w<x&&(w=x),!h.params.allowSwipeToPrev&&"prev"===h.swipeDirection&&w>x&&(w=x),h.params.threshold>0){if(!(Math.abs(i)>h.params.threshold||C))return void(w=x);if(!C)return C=!0,h.touches.startX=h.touches.currentX,h.touches.startY=h.touches.currentY,w=x,void(h.touches.diff=h.isHorizontal()?h.touches.currentX-h.touches.startX:h.touches.currentY-h.touches.startY)}h.params.followFinger&&((h.params.freeMode||h.params.watchSlidesProgress)&&h.updateActiveIndex(),h.params.freeMode&&(0===P.length&&P.push({position:h.touches[h.isHorizontal()?"startX":"startY"],time:b}),P.push({position:h.touches[h.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),h.updateProgress(w),h.setWrapperTranslate(w))}}}},h.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),v&&h.emit("onTouchEnd",h,t),v=!1,f){h.params.grabCursor&&g&&f&&(!0===h.params.allowSwipeToNext||!0===h.params.allowSwipeToPrev)&&h.setGrabCursor(!1);var a,i=Date.now(),n=i-b;if(h.allowClick&&(h.updateClickedSlide(t),h.emit("onTap",h,t),n<300&&i-M>300&&(k&&clearTimeout(k),k=setTimeout(function(){h&&(h.params.paginationHide&&h.paginationContainer.length>0&&!e(t.target).hasClass(h.params.bulletClass)&&h.paginationContainer.toggleClass(h.params.paginationHiddenClass),h.emit("onClick",h,t))},300)),n<300&&i-M<300&&(k&&clearTimeout(k),h.emit("onDoubleTap",h,t))),M=Date.now(),setTimeout(function(){h&&(h.allowClick=!0)},0),f&&g&&h.swipeDirection&&0!==h.touches.diff&&w!==x)if(f=g=!1,a=h.params.followFinger?h.rtl?h.translate:-h.translate:-w,h.params.freeMode){if(a<-h.minTranslate())return void h.slideTo(h.activeIndex);if(a>-h.maxTranslate())return void(h.slides.length<h.snapGrid.length?h.slideTo(h.snapGrid.length-1):h.slideTo(h.slides.length-1));if(h.params.freeModeMomentum){if(P.length>1){var s=P.pop(),r=P.pop(),o=s.position-r.position,l=s.time-r.time;h.velocity=o/l,h.velocity=h.velocity/2,Math.abs(h.velocity)<h.params.freeModeMinimumVelocity&&(h.velocity=0),(l>150||(new window.Date).getTime()-s.time>300)&&(h.velocity=0)}else h.velocity=0;h.velocity=h.velocity*h.params.freeModeMomentumVelocityRatio,P.length=0;var d=1e3*h.params.freeModeMomentumRatio,c=h.velocity*d,u=h.translate+c;h.rtl&&(u=-u);var p,m=!1,y=20*Math.abs(h.velocity)*h.params.freeModeMomentumBounceRatio;if(u<h.maxTranslate())h.params.freeModeMomentumBounce?(u+h.maxTranslate()<-y&&(u=h.maxTranslate()-y),p=h.maxTranslate(),m=!0,T=!0):u=h.maxTranslate();else if(u>h.minTranslate())h.params.freeModeMomentumBounce?(u-h.minTranslate()>y&&(u=h.minTranslate()+y),p=h.minTranslate(),m=!0,T=!0):u=h.minTranslate();else if(h.params.freeModeSticky){var C,S=0;for(S=0;S<h.snapGrid.length;S+=1)if(h.snapGrid[S]>-u){C=S;break}u=Math.abs(h.snapGrid[C]-u)<Math.abs(h.snapGrid[C-1]-u)||"next"===h.swipeDirection?h.snapGrid[C]:h.snapGrid[C-1],h.rtl||(u=-u)}if(0!==h.velocity)d=h.rtl?Math.abs((-u-h.translate)/h.velocity):Math.abs((u-h.translate)/h.velocity);else if(h.params.freeModeSticky)return void h.slideReset();h.params.freeModeMomentumBounce&&m?(h.updateProgress(p),h.setWrapperTransition(d),h.setWrapperTranslate(u),h.onTransitionStart(),h.animating=!0,h.wrapper.transitionEnd(function(){h&&T&&(h.emit("onMomentumBounce",h),h.setWrapperTransition(h.params.speed),h.setWrapperTranslate(p),h.wrapper.transitionEnd(function(){h&&h.onTransitionEnd()}))})):h.velocity?(h.updateProgress(u),h.setWrapperTransition(d),h.setWrapperTranslate(u),h.onTransitionStart(),h.animating||(h.animating=!0,h.wrapper.transitionEnd(function(){h&&h.onTransitionEnd()}))):h.updateProgress(u),h.updateActiveIndex()}(!h.params.freeModeMomentum||n>=h.params.longSwipesMs)&&(h.updateProgress(),h.updateActiveIndex())}else{var I,E=0,z=h.slidesSizesGrid[0];for(I=0;I<h.slidesGrid.length;I+=h.params.slidesPerGroup)void 0!==h.slidesGrid[I+h.params.slidesPerGroup]?a>=h.slidesGrid[I]&&a<h.slidesGrid[I+h.params.slidesPerGroup]&&(E=I,z=h.slidesGrid[I+h.params.slidesPerGroup]-h.slidesGrid[I]):a>=h.slidesGrid[I]&&(E=I,z=h.slidesGrid[h.slidesGrid.length-1]-h.slidesGrid[h.slidesGrid.length-2]);var A=(a-h.slidesGrid[E])/z;if(n>h.params.longSwipesMs){if(!h.params.longSwipes)return void h.slideTo(h.activeIndex);"next"===h.swipeDirection&&(A>=h.params.longSwipesRatio?h.slideTo(E+h.params.slidesPerGroup):h.slideTo(E)),"prev"===h.swipeDirection&&(A>1-h.params.longSwipesRatio?h.slideTo(E+h.params.slidesPerGroup):h.slideTo(E))}else{if(!h.params.shortSwipes)return void h.slideTo(h.activeIndex);"next"===h.swipeDirection&&h.slideTo(E+h.params.slidesPerGroup),"prev"===h.swipeDirection&&h.slideTo(E)}}else f=g=!1}},h._slideTo=function(e,t){return h.slideTo(e,t,!0,!0)},h.slideTo=function(e,t,a,i){void 0===a&&(a=!0),void 0===e&&(e=0),e<0&&(e=0),h.snapIndex=Math.floor(e/h.params.slidesPerGroup),h.snapIndex>=h.snapGrid.length&&(h.snapIndex=h.snapGrid.length-1);var n=-h.snapGrid[h.snapIndex];if(h.params.autoplay&&h.autoplaying&&(i||!h.params.autoplayDisableOnInteraction?h.pauseAutoplay(t):h.stopAutoplay()),h.updateProgress(n),h.params.normalizeSlideIndex)for(var s=0;s<h.slidesGrid.length;s++)-Math.floor(100*n)>=Math.floor(100*h.slidesGrid[s])&&(e=s);return!(!h.params.allowSwipeToNext&&n<h.translate&&n<h.minTranslate())&&(!(!h.params.allowSwipeToPrev&&n>h.translate&&n>h.maxTranslate()&&(h.activeIndex||0)!==e)&&(void 0===t&&(t=h.params.speed),h.previousIndex=h.activeIndex||0,h.activeIndex=e,h.updateRealIndex(),h.rtl&&-n===h.translate||!h.rtl&&n===h.translate?(h.params.autoHeight&&h.updateAutoHeight(),h.updateClasses(),"slide"!==h.params.effect&&h.setWrapperTranslate(n),!1):(h.updateClasses(),h.onTransitionStart(a),0===t||h.browser.lteIE9?(h.setWrapperTranslate(n),h.setWrapperTransition(0),h.onTransitionEnd(a)):(h.setWrapperTranslate(n),h.setWrapperTransition(t),h.animating||(h.animating=!0,h.wrapper.transitionEnd(function(){h&&h.onTransitionEnd(a)}))),!0)))},h.onTransitionStart=function(e){void 0===e&&(e=!0),h.params.autoHeight&&h.updateAutoHeight(),h.lazy&&h.lazy.onTransitionStart(),e&&(h.emit("onTransitionStart",h),h.activeIndex!==h.previousIndex&&(h.emit("onSlideChangeStart",h),h.activeIndex>h.previousIndex?h.emit("onSlideNextStart",h):h.emit("onSlidePrevStart",h)))},h.onTransitionEnd=function(e){h.animating=!1,h.setWrapperTransition(0),void 0===e&&(e=!0),h.lazy&&h.lazy.onTransitionEnd(),e&&(h.emit("onTransitionEnd",h),h.activeIndex!==h.previousIndex&&(h.emit("onSlideChangeEnd",h),h.activeIndex>h.previousIndex?h.emit("onSlideNextEnd",h):h.emit("onSlidePrevEnd",h))),h.params.history&&h.history&&h.history.setHistory(h.params.history,h.activeIndex),h.params.hashnav&&h.hashnav&&h.hashnav.setHash()},h.slideNext=function(e,t,a){if(h.params.loop){if(h.animating)return!1;h.fixLoop();h.container[0].clientLeft;return h.slideTo(h.activeIndex+h.params.slidesPerGroup,t,e,a)}return h.slideTo(h.activeIndex+h.params.slidesPerGroup,t,e,a)},h._slideNext=function(e){return h.slideNext(!0,e,!0)},h.slidePrev=function(e,t,a){if(h.params.loop){if(h.animating)return!1;h.fixLoop();h.container[0].clientLeft;return h.slideTo(h.activeIndex-1,t,e,a)}return h.slideTo(h.activeIndex-1,t,e,a)},h._slidePrev=function(e){return h.slidePrev(!0,e,!0)},h.slideReset=function(e,t,a){return h.slideTo(h.activeIndex,t,e)},h.disableTouchControl=function(){return h.params.onlyExternal=!0,!0},h.enableTouchControl=function(){return h.params.onlyExternal=!1,!0},h.setWrapperTransition=function(e,t){h.wrapper.transition(e),"slide"!==h.params.effect&&h.effects[h.params.effect]&&h.effects[h.params.effect].setTransition(e),h.params.parallax&&h.parallax&&h.parallax.setTransition(e),h.params.scrollbar&&h.scrollbar&&h.scrollbar.setTransition(e),h.params.control&&h.controller&&h.controller.setTransition(e,t),h.emit("onSetTransition",h,e)},h.setWrapperTranslate=function(e,t,a){var i=0,n=0;h.isHorizontal()?i=h.rtl?-e:e:n=e,h.params.roundLengths&&(i=$(i),n=$(n)),h.params.virtualTranslate||(h.support.transforms3d?h.wrapper.transform("translate3d("+i+"px, "+n+"px, 0px)"):h.wrapper.transform("translate("+i+"px, "+n+"px)")),h.translate=h.isHorizontal()?i:n;var s=h.maxTranslate()-h.minTranslate();(0===s?0:(e-h.minTranslate())/s)!==h.progress&&h.updateProgress(e),t&&h.updateActiveIndex(),"slide"!==h.params.effect&&h.effects[h.params.effect]&&h.effects[h.params.effect].setTranslate(h.translate),h.params.parallax&&h.parallax&&h.parallax.setTranslate(h.translate),h.params.scrollbar&&h.scrollbar&&h.scrollbar.setTranslate(h.translate),h.params.control&&h.controller&&h.controller.setTranslate(h.translate,a),h.emit("onSetTranslate",h,h.translate)},h.getTranslate=function(e,t){var a,i,n,s;return void 0===t&&(t="x"),h.params.virtualTranslate?h.rtl?-h.translate:h.translate:(n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?((i=n.transform||n.webkitTransform).split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new window.WebKitCSSMatrix("none"===i?"":i)):a=(s=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(i=window.WebKitCSSMatrix?s.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=window.WebKitCSSMatrix?s.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),h.rtl&&i&&(i=-i),i||0)},h.getWrapperTranslate=function(e){return void 0===e&&(e=h.isHorizontal()?"x":"y"),h.getTranslate(h.wrapper[0],e)},h.observers=[],h.initObservers=function(){if(h.params.observeParents)for(var e=h.container.parents(),t=0;t<e.length;t++)B(e[t]);B(h.container[0],{childList:!1}),B(h.wrapper[0],{attributes:!1})},h.disconnectObservers=function(){for(var e=0;e<h.observers.length;e++)h.observers[e].disconnect();h.observers=[]},h.createLoop=function(){h.wrapper.children("."+h.params.slideClass+"."+h.params.slideDuplicateClass).remove();var t=h.wrapper.children("."+h.params.slideClass);"auto"!==h.params.slidesPerView||h.params.loopedSlides||(h.params.loopedSlides=t.length),h.loopedSlides=parseInt(h.params.loopedSlides||h.params.slidesPerView,10),h.loopedSlides=h.loopedSlides+h.params.loopAdditionalSlides,h.loopedSlides>t.length&&(h.loopedSlides=t.length);var a,i=[],n=[];for(t.each(function(a,s){var r=e(this);a<h.loopedSlides&&n.push(s),a<t.length&&a>=t.length-h.loopedSlides&&i.push(s),r.attr("data-swiper-slide-index",a)}),a=0;a<n.length;a++)h.wrapper.append(e(n[a].cloneNode(!0)).addClass(h.params.slideDuplicateClass));for(a=i.length-1;a>=0;a--)h.wrapper.prepend(e(i[a].cloneNode(!0)).addClass(h.params.slideDuplicateClass))},h.destroyLoop=function(){h.wrapper.children("."+h.params.slideClass+"."+h.params.slideDuplicateClass).remove(),h.slides.removeAttr("data-swiper-slide-index")},h.reLoop=function(e){var t=h.activeIndex-h.loopedSlides;h.destroyLoop(),h.createLoop(),h.updateSlidesSize(),e&&h.slideTo(t+h.loopedSlides,0,!1)},h.fixLoop=function(){var e;h.activeIndex<h.loopedSlides?(e=h.slides.length-3*h.loopedSlides+h.activeIndex,e+=h.loopedSlides,h.slideTo(e,0,!1,!0)):("auto"===h.params.slidesPerView&&h.activeIndex>=2*h.loopedSlides||h.activeIndex>h.slides.length-2*h.params.slidesPerView)&&(e=-h.slides.length+h.activeIndex+h.loopedSlides,e+=h.loopedSlides,h.slideTo(e,0,!1,!0))},h.appendSlide=function(e){if(h.params.loop&&h.destroyLoop(),"object"===(void 0===e?"undefined":i(e))&&e.length)for(var t=0;t<e.length;t++)e[t]&&h.wrapper.append(e[t]);else h.wrapper.append(e);h.params.loop&&h.createLoop(),h.params.observer&&h.support.observer||h.update(!0)},h.prependSlide=function(e){h.params.loop&&h.destroyLoop();var t=h.activeIndex+1;if("object"===(void 0===e?"undefined":i(e))&&e.length){for(var a=0;a<e.length;a++)e[a]&&h.wrapper.prepend(e[a]);t=h.activeIndex+e.length}else h.wrapper.prepend(e);h.params.loop&&h.createLoop(),h.params.observer&&h.support.observer||h.update(!0),h.slideTo(t,0,!1)},h.removeSlide=function(e){h.params.loop&&(h.destroyLoop(),h.slides=h.wrapper.children("."+h.params.slideClass));var t,a=h.activeIndex;if("object"===(void 0===e?"undefined":i(e))&&e.length){for(var n=0;n<e.length;n++)t=e[n],h.slides[t]&&h.slides.eq(t).remove(),t<a&&a--;a=Math.max(a,0)}else t=e,h.slides[t]&&h.slides.eq(t).remove(),t<a&&a--,a=Math.max(a,0);h.params.loop&&h.createLoop(),h.params.observer&&h.support.observer||h.update(!0),h.params.loop?h.slideTo(a+h.loopedSlides,0,!1):h.slideTo(a,0,!1)},h.removeAllSlides=function(){for(var e=[],t=0;t<h.slides.length;t++)e.push(t);h.removeSlide(e)},h.effects={fade:{setTranslate:function(){for(var e=0;e<h.slides.length;e++){var t=h.slides.eq(e),a=-t[0].swiperSlideOffset;h.params.virtualTranslate||(a-=h.translate);var i=0;h.isHorizontal()||(i=a,a=0);var n=h.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:n}).transform("translate3d("+a+"px, "+i+"px, 0px)")}},setTransition:function(e){if(h.slides.transition(e),h.params.virtualTranslate&&0!==e){var t=!1;h.slides.transitionEnd(function(){if(!t&&h){t=!0,h.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=0;a<e.length;a++)h.wrapper.trigger(e[a])}})}}},flip:{setTranslate:function(){for(var t=0;t<h.slides.length;t++){var a=h.slides.eq(t),i=a[0].progress;h.params.flip.limitRotation&&(i=Math.max(Math.min(a[0].progress,1),-1));var n=-180*i,s=0,r=-a[0].swiperSlideOffset,o=0;if(h.isHorizontal()?h.rtl&&(n=-n):(o=r,r=0,s=-n,n=0),a[0].style.zIndex=-Math.abs(Math.round(i))+h.slides.length,h.params.flip.slideShadows){var l=h.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),d=h.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===l.length&&(l=e('<div class="swiper-slide-shadow-'+(h.isHorizontal()?"left":"top")+'"></div>'),a.append(l)),0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(h.isHorizontal()?"right":"bottom")+'"></div>'),a.append(d)),l.length&&(l[0].style.opacity=Math.max(-i,0)),d.length&&(d[0].style.opacity=Math.max(i,0))}a.transform("translate3d("+r+"px, "+o+"px, 0px) rotateX("+s+"deg) rotateY("+n+"deg)")}},setTransition:function(t){if(h.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),h.params.virtualTranslate&&0!==t){var a=!1;h.slides.eq(h.activeIndex).transitionEnd(function(){if(!a&&h&&e(this).hasClass(h.params.slideActiveClass)){a=!0,h.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<t.length;i++)h.wrapper.trigger(t[i])}})}}},cube:{setTranslate:function(){var t,a=0;h.params.cube.shadow&&(h.isHorizontal()?(0===(t=h.wrapper.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),h.wrapper.append(t)),t.css({height:h.width+"px"})):0===(t=h.container.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),h.container.append(t)));for(var i=0;i<h.slides.length;i++){var n=h.slides.eq(i),s=90*i,r=Math.floor(s/360);h.rtl&&(s=-s,r=Math.floor(-s/360));var o=Math.max(Math.min(n[0].progress,1),-1),l=0,d=0,c=0;i%4==0?(l=4*-r*h.size,c=0):(i-1)%4==0?(l=0,c=4*-r*h.size):(i-2)%4==0?(l=h.size+4*r*h.size,c=h.size):(i-3)%4==0&&(l=-h.size,c=3*h.size+4*h.size*r),h.rtl&&(l=-l),h.isHorizontal()||(d=l,l=0);var u="rotateX("+(h.isHorizontal()?0:-s)+"deg) rotateY("+(h.isHorizontal()?s:0)+"deg) translate3d("+l+"px, "+d+"px, "+c+"px)";if(o<=1&&o>-1&&(a=90*i+90*o,h.rtl&&(a=90*-i-90*o)),n.transform(u),h.params.cube.slideShadows){var p=h.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),m=h.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(h.isHorizontal()?"left":"top")+'"></div>'),n.append(p)),0===m.length&&(m=e('<div class="swiper-slide-shadow-'+(h.isHorizontal()?"right":"bottom")+'"></div>'),n.append(m)),p.length&&(p[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(h.wrapper.css({"-webkit-transform-origin":"50% 50% -"+h.size/2+"px","-moz-transform-origin":"50% 50% -"+h.size/2+"px","-ms-transform-origin":"50% 50% -"+h.size/2+"px","transform-origin":"50% 50% -"+h.size/2+"px"}),h.params.cube.shadow)if(h.isHorizontal())t.transform("translate3d(0px, "+(h.width/2+h.params.cube.shadowOffset)+"px, "+-h.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+h.params.cube.shadowScale+")");else{var f=Math.abs(a)-90*Math.floor(Math.abs(a)/90),g=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),v=h.params.cube.shadowScale,b=h.params.cube.shadowScale/g,y=h.params.cube.shadowOffset;t.transform("scale3d("+v+", 1, "+b+") translate3d(0px, "+(h.height/2+y)+"px, "+-h.height/2/b+"px) rotateX(-90deg)")}var w=h.isSafari||h.isUiWebView?-h.size/2:0;h.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(h.isHorizontal()?0:a)+"deg) rotateY("+(h.isHorizontal()?-a:0)+"deg)")},setTransition:function(e){h.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),h.params.cube.shadow&&!h.isHorizontal()&&h.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var t=h.translate,a=h.isHorizontal()?-t+h.width/2:-t+h.height/2,i=h.isHorizontal()?h.params.coverflow.rotate:-h.params.coverflow.rotate,n=h.params.coverflow.depth,s=0,r=h.slides.length;s<r;s++){var o=h.slides.eq(s),l=h.slidesSizesGrid[s],d=(a-o[0].swiperSlideOffset-l/2)/l*h.params.coverflow.modifier,c=h.isHorizontal()?i*d:0,u=h.isHorizontal()?0:i*d,p=-n*Math.abs(d),m=h.isHorizontal()?0:h.params.coverflow.stretch*d,f=h.isHorizontal()?h.params.coverflow.stretch*d:0;Math.abs(f)<.001&&(f=0),Math.abs(m)<.001&&(m=0),Math.abs(p)<.001&&(p=0),Math.abs(c)<.001&&(c=0),Math.abs(u)<.001&&(u=0);var g="translate3d("+f+"px,"+m+"px,"+p+"px)  rotateX("+u+"deg) rotateY("+c+"deg)";if(o.transform(g),o[0].style.zIndex=1-Math.abs(Math.round(d)),h.params.coverflow.slideShadows){var v=h.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),b=h.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(h.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===b.length&&(b=e('<div class="swiper-slide-shadow-'+(h.isHorizontal()?"right":"bottom")+'"></div>'),o.append(b)),v.length&&(v[0].style.opacity=d>0?d:0),b.length&&(b[0].style.opacity=-d>0?-d:0)}}h.browser.ie&&(h.wrapper[0].style.perspectiveOrigin=a+"px 50%")},setTransition:function(e){h.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},h.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,a){if(void 0!==t&&(void 0===a&&(a=!0),0!==h.slides.length)){var i=h.slides.eq(t),n=i.find("."+h.params.lazyLoadingClass+":not(."+h.params.lazyStatusLoadedClass+"):not(."+h.params.lazyStatusLoadingClass+")");!i.hasClass(h.params.lazyLoadingClass)||i.hasClass(h.params.lazyStatusLoadedClass)||i.hasClass(h.params.lazyStatusLoadingClass)||(n=n.add(i[0])),0!==n.length&&n.each(function(){var t=e(this);t.addClass(h.params.lazyStatusLoadingClass);var n=t.attr("data-background"),s=t.attr("data-src"),r=t.attr("data-srcset"),o=t.attr("data-sizes");h.loadImage(t[0],s||n,r,o,!1,function(){if(void 0!==h&&null!==h&&h){if(n?(t.css("background-image",'url("'+n+'")'),t.removeAttr("data-background")):(r&&(t.attr("srcset",r),t.removeAttr("data-srcset")),o&&(t.attr("sizes",o),t.removeAttr("data-sizes")),s&&(t.attr("src",s),t.removeAttr("data-src"))),t.addClass(h.params.lazyStatusLoadedClass).removeClass(h.params.lazyStatusLoadingClass),i.find("."+h.params.lazyPreloaderClass+", ."+h.params.preloaderClass).remove(),h.params.loop&&a){var e=i.attr("data-swiper-slide-index");if(i.hasClass(h.params.slideDuplicateClass)){var l=h.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+h.params.slideDuplicateClass+")");h.lazy.loadImageInSlide(l.index(),!1)}else{var d=h.wrapper.children("."+h.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');h.lazy.loadImageInSlide(d.index(),!1)}}h.emit("onLazyImageReady",h,i[0],t[0])}}),h.emit("onLazyImageLoad",h,i[0],t[0])})}},load:function(){var t,a=h.params.slidesPerView;if("auto"===a&&(a=0),h.lazy.initialImageLoaded||(h.lazy.initialImageLoaded=!0),h.params.watchSlidesVisibility)h.wrapper.children("."+h.params.slideVisibleClass).each(function(){h.lazy.loadImageInSlide(e(this).index())});else if(a>1)for(t=h.activeIndex;t<h.activeIndex+a;t++)h.slides[t]&&h.lazy.loadImageInSlide(t);else h.lazy.loadImageInSlide(h.activeIndex);if(h.params.lazyLoadingInPrevNext)if(a>1||h.params.lazyLoadingInPrevNextAmount&&h.params.lazyLoadingInPrevNextAmount>1){var i=h.params.lazyLoadingInPrevNextAmount,n=a,s=Math.min(h.activeIndex+n+Math.max(i,n),h.slides.length),r=Math.max(h.activeIndex-Math.max(n,i),0);for(t=h.activeIndex+a;t<s;t++)h.slides[t]&&h.lazy.loadImageInSlide(t);for(t=r;t<h.activeIndex;t++)h.slides[t]&&h.lazy.loadImageInSlide(t)}else{var o=h.wrapper.children("."+h.params.slideNextClass);o.length>0&&h.lazy.loadImageInSlide(o.index());var l=h.wrapper.children("."+h.params.slidePrevClass);l.length>0&&h.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){h.params.lazyLoading&&(h.params.lazyLoadingOnTransitionStart||!h.params.lazyLoadingOnTransitionStart&&!h.lazy.initialImageLoaded)&&h.lazy.load()},onTransitionEnd:function(){h.params.lazyLoading&&!h.params.lazyLoadingOnTransitionStart&&h.lazy.load()}},h.scrollbar={isTouched:!1,setDragPosition:function(e){var t=h.scrollbar,a=(h.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-t.track.offset()[h.isHorizontal()?"left":"top"]-t.dragSize/2,i=-h.minTranslate()*t.moveDivider,n=-h.maxTranslate()*t.moveDivider;a<i?a=i:a>n&&(a=n),a=-a/t.moveDivider,h.updateProgress(a),h.setWrapperTranslate(a,!0)},dragStart:function(e){var t=h.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),h.params.scrollbarHide&&t.track.css("opacity",1),h.wrapper.transition(100),t.drag.transition(100),h.emit("onScrollbarDragStart",h)},dragMove:function(e){var t=h.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),h.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),h.emit("onScrollbarDragMove",h))},dragEnd:function(e){var t=h.scrollbar;t.isTouched&&(t.isTouched=!1,h.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),h.emit("onScrollbarDragEnd",h),h.params.scrollbarSnapOnRelease&&h.slideReset())},draggableEvents:!1!==h.params.simulateTouch||h.support.touch?h.touchEvents:h.touchEventsDesktop,enableDraggable:function(){var t=h.scrollbar,a=h.support.touch?t.track:document;e(t.track).on(t.draggableEvents.start,t.dragStart),e(a).on(t.draggableEvents.move,t.dragMove),e(a).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=h.scrollbar,a=h.support.touch?t.track:document;e(t.track).off(t.draggableEvents.start,t.dragStart),e(a).off(t.draggableEvents.move,t.dragMove),e(a).off(t.draggableEvents.end,t.dragEnd)},set:function(){if(h.params.scrollbar){var t=h.scrollbar;t.track=e(h.params.scrollbar),h.params.uniqueNavElements&&"string"==typeof h.params.scrollbar&&t.track.length>1&&1===h.container.find(h.params.scrollbar).length&&(t.track=h.container.find(h.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=h.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=h.size/h.virtualSize,t.moveDivider=t.divider*(t.trackSize/h.size),t.dragSize=t.trackSize*t.divider,h.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",h.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(h.params.scrollbar){var e,t=h.scrollbar,a=(h.translate,t.dragSize);e=(t.trackSize-t.dragSize)*h.progress,h.rtl&&h.isHorizontal()?(e=-e)>0?(a=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(a=t.trackSize+e):e<0?(a=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(a=t.trackSize-e),h.isHorizontal()?(h.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=a+"px"):(h.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=a+"px"),h.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){h.params.scrollbar&&h.scrollbar.drag.transition(e)}},h.controller={LinearSpline:function(e,t){var a,i,n=function(){var e,t,a;return function(i,n){for(t=-1,e=i.length;e-t>1;)i[a=e+t>>1]<=n?t=a:e=a;return e}}();this.x=e,this.y=t,this.lastIndex=e.length-1;this.x.length;this.interpolate=function(e){return e?(i=n(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0}},getInterpolateFunction:function(e){h.controller.spline||(h.controller.spline=h.params.loop?new h.controller.LinearSpline(h.slidesGrid,e.slidesGrid):new h.controller.LinearSpline(h.snapGrid,e.snapGrid))},setTranslate:function(e,a){var i,n,s=h.params.control;function r(t){e=t.rtl&&"horizontal"===t.params.direction?-h.translate:h.translate,"slide"===h.params.controlBy&&(h.controller.getInterpolateFunction(t),n=-h.controller.spline.interpolate(-e)),n&&"container"!==h.params.controlBy||(i=(t.maxTranslate()-t.minTranslate())/(h.maxTranslate()-h.minTranslate()),n=(e-h.minTranslate())*i+t.minTranslate()),h.params.controlInverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setWrapperTranslate(n,!1,h),t.updateActiveIndex()}if(Array.isArray(s))for(var o=0;o<s.length;o++)s[o]!==a&&s[o]instanceof t&&r(s[o]);else s instanceof t&&a!==s&&r(s)},setTransition:function(e,a){var i,n=h.params.control;function s(t){t.setWrapperTransition(e,h),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){n&&(t.params.loop&&"slide"===h.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}if(Array.isArray(n))for(i=0;i<n.length;i++)n[i]!==a&&n[i]instanceof t&&s(n[i]);else n instanceof t&&a!==n&&s(n)}},h.hashnav={onHashCange:function(e,t){var a=document.location.hash.replace("#","");a!==h.slides.eq(h.activeIndex).attr("data-hash")&&h.slideTo(h.wrapper.children("."+h.params.slideClass+'[data-hash="'+a+'"]').index())},attachEvents:function(t){var a=t?"off":"on";e(window)[a]("hashchange",h.hashnav.onHashCange)},setHash:function(){if(h.hashnav.initialized&&h.params.hashnav)if(h.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+h.slides.eq(h.activeIndex).attr("data-hash")||"");else{var e=h.slides.eq(h.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(h.params.hashnav&&!h.params.history){h.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,a=h.slides.length;t<a;t++){var i=h.slides.eq(t);if((i.attr("data-hash")||i.attr("data-history"))===e&&!i.hasClass(h.params.slideDuplicateClass)){var n=i.index();h.slideTo(n,0,h.params.runCallbacksOnInit,!0)}}h.params.hashnavWatchState&&h.hashnav.attachEvents()}},destroy:function(){h.params.hashnavWatchState&&h.hashnav.attachEvents(!0)}},h.history={init:function(){if(h.params.history){if(!window.history||!window.history.pushState)return h.params.history=!1,void(h.params.hashnav=!0);h.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,h.params.runCallbacksOnInit),h.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){h.history.paths=h.history.getPathValues(),h.history.scrollToSlide(h.params.speed,h.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(h.history.initialized&&h.params.history){var a=h.slides.eq(t),i=this.slugify(a.attr("data-history"));window.location.pathname.includes(e)||(i=e+"/"+i),h.params.replaceState?window.history.replaceState(null,null,i):window.history.pushState(null,null,i)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,a){if(t)for(var i=0,n=h.slides.length;i<n;i++){var s=h.slides.eq(i);if(this.slugify(s.attr("data-history"))===t&&!s.hasClass(h.params.slideDuplicateClass)){var r=s.index();h.slideTo(r,e,a)}}else h.slideTo(0,e,a)}},h.disableKeyboardControl=function(){h.params.keyboardControl=!1,e(document).off("keydown",L)},h.enableKeyboardControl=function(){h.params.keyboardControl=!0,e(document).on("keydown",L)},h.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},h.params.mousewheelControl&&(h.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var t=document.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),h.disableMousewheelControl=function(){if(!h.mousewheel.event)return!1;var t=h.container;return"container"!==h.params.mousewheelEventsTarged&&(t=e(h.params.mousewheelEventsTarged)),t.off(h.mousewheel.event,H),h.params.mousewheelControl=!1,!0},h.enableMousewheelControl=function(){if(!h.mousewheel.event)return!1;var t=h.container;return"container"!==h.params.mousewheelEventsTarged&&(t=e(h.params.mousewheelEventsTarged)),t.on(h.mousewheel.event,H),h.params.mousewheelControl=!0,!0},h.parallax={setTranslate:function(){h.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){N(this,h.progress)}),h.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){N(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=h.params.speed),h.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=e(this),i=parseInt(a.attr("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),a.transition(i)})}},h.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:h.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,n=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-a,2))},onGestureStart:function(t){var a=h.zoom;if(!h.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;a.gesture.scaleStart=a.getDistanceBetweenTouches(t)}a.gesture.slide&&a.gesture.slide.length||(a.gesture.slide=e(this),0===a.gesture.slide.length&&(a.gesture.slide=h.slides.eq(h.activeIndex)),a.gesture.image=a.gesture.slide.find("img, svg, canvas"),a.gesture.imageWrap=a.gesture.image.parent("."+h.params.zoomContainerClass),a.gesture.zoomMax=a.gesture.imageWrap.attr("data-swiper-zoom")||h.params.zoomMax,0!==a.gesture.imageWrap.length)?(a.gesture.image.transition(0),a.isScaling=!0):a.gesture.image=void 0},onGestureChange:function(e){var t=h.zoom;if(!h.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(h.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<h.params.zoomMin&&(t.scale=h.params.zoomMin+1-Math.pow(h.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=h.zoom;!h.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),h.params.zoomMin),t.gesture.image.transition(h.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var a=e.zoom;a.gesture.image&&0!==a.gesture.image.length&&(a.image.isTouched||("android"===e.device.os&&t.preventDefault(),a.image.isTouched=!0,a.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,a.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=h.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(h.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=h.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=h.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),h.rtl&&(t.image.startX=-t.image.startX),h.rtl&&(t.image.startY=-t.image.startY));var a=t.image.width*t.scale,i=t.image.height*t.scale;if(!(a<t.gesture.slideWidth&&i<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-a/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-i/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(h.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!h.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var a=e.zoom;if(a.gesture.image&&0!==a.gesture.image.length){if(!a.image.isTouched||!a.image.isMoved)return a.image.isTouched=!1,void(a.image.isMoved=!1);a.image.isTouched=!1,a.image.isMoved=!1;var i=300,n=300,s=a.velocity.x*i,r=a.image.currentX+s,o=a.velocity.y*n,l=a.image.currentY+o;0!==a.velocity.x&&(i=Math.abs((r-a.image.currentX)/a.velocity.x)),0!==a.velocity.y&&(n=Math.abs((l-a.image.currentY)/a.velocity.y));var d=Math.max(i,n);a.image.currentX=r,a.image.currentY=l;var c=a.image.width*a.scale,u=a.image.height*a.scale;a.image.minX=Math.min(a.gesture.slideWidth/2-c/2,0),a.image.maxX=-a.image.minX,a.image.minY=Math.min(a.gesture.slideHeight/2-u/2,0),a.image.maxY=-a.image.minY,a.image.currentX=Math.max(Math.min(a.image.currentX,a.image.maxX),a.image.minX),a.image.currentY=Math.max(Math.min(a.image.currentY,a.image.maxY),a.image.minY),a.gesture.imageWrap.transition(d).transform("translate3d("+a.image.currentX+"px, "+a.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(t,a){var i,n,s,r,o,l,d,c,u,p,h,m,f,g,v,b,y=t.zoom;(y.gesture.slide||(y.gesture.slide=t.clickedSlide?e(t.clickedSlide):t.slides.eq(t.activeIndex),y.gesture.image=y.gesture.slide.find("img, svg, canvas"),y.gesture.imageWrap=y.gesture.image.parent("."+t.params.zoomContainerClass)),y.gesture.image&&0!==y.gesture.image.length)&&(void 0===y.image.touchesStart.x&&a?(i="touchend"===a.type?a.changedTouches[0].pageX:a.pageX,n="touchend"===a.type?a.changedTouches[0].pageY:a.pageY):(i=y.image.touchesStart.x,n=y.image.touchesStart.y),y.scale&&1!==y.scale?(y.scale=y.currentScale=1,y.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),y.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),y.gesture.slide=void 0):(y.scale=y.currentScale=y.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,a?(v=y.gesture.slide[0].offsetWidth,b=y.gesture.slide[0].offsetHeight,s=y.gesture.slide.offset().left+v/2-i,r=y.gesture.slide.offset().top+b/2-n,d=y.gesture.image[0].offsetWidth,c=y.gesture.image[0].offsetHeight,u=d*y.scale,p=c*y.scale,f=-(h=Math.min(v/2-u/2,0)),g=-(m=Math.min(b/2-p/2,0)),o=s*y.scale,l=r*y.scale,o<h&&(o=h),o>f&&(o=f),l<m&&(l=m),l>g&&(l=g)):(o=0,l=0),y.gesture.imageWrap.transition(300).transform("translate3d("+o+"px, "+l+"px,0)"),y.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")")))},attachEvents:function(t){var a=t?"off":"on";if(h.params.zoom){h.slides;var i=!("touchstart"!==h.touchEvents.start||!h.support.passiveListener||!h.params.passiveListeners)&&{passive:!0,capture:!1};h.support.gestures?(h.slides[a]("gesturestart",h.zoom.onGestureStart,i),h.slides[a]("gesturechange",h.zoom.onGestureChange,i),h.slides[a]("gestureend",h.zoom.onGestureEnd,i)):"touchstart"===h.touchEvents.start&&(h.slides[a](h.touchEvents.start,h.zoom.onGestureStart,i),h.slides[a](h.touchEvents.move,h.zoom.onGestureChange,i),h.slides[a](h.touchEvents.end,h.zoom.onGestureEnd,i)),h[a]("touchStart",h.zoom.onTouchStart),h.slides.each(function(t,i){e(i).find("."+h.params.zoomContainerClass).length>0&&e(i)[a](h.touchEvents.move,h.zoom.onTouchMove)}),h[a]("touchEnd",h.zoom.onTouchEnd),h[a]("transitionEnd",h.zoom.onTransitionEnd),h.params.zoomToggle&&h.on("doubleTap",h.zoom.toggleZoom)}},init:function(){h.zoom.attachEvents()},destroy:function(){h.zoom.attachEvents(!0)}},h._plugins=[],h.plugins){var A=h.plugins[z](h,h.params[z]);A&&h._plugins.push(A)}return h.callPlugins=function(e){for(var t=0;t<h._plugins.length;t++)e in h._plugins[t]&&h._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},h.emitterEventListeners={},h.emit=function(e){var t;if(h.params[e]&&h.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),h.emitterEventListeners[e])for(t=0;t<h.emitterEventListeners[e].length;t++)h.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);h.callPlugins&&h.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},h.on=function(e,t){return e=_(e),h.emitterEventListeners[e]||(h.emitterEventListeners[e]=[]),h.emitterEventListeners[e].push(t),h},h.off=function(e,t){var a;if(e=_(e),void 0===t)return h.emitterEventListeners[e]=[],h;if(h.emitterEventListeners[e]&&0!==h.emitterEventListeners[e].length){for(a=0;a<h.emitterEventListeners[e].length;a++)h.emitterEventListeners[e][a]===t&&h.emitterEventListeners[e].splice(a,1);return h}},h.once=function(e,t){e=_(e);return h.on(e,function a(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),h.off(e,a)}),h},h.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(h.params.nextButton)?(h.onClickNext(t),h.isEnd?h.a11y.notify(h.params.lastSlideMessage):h.a11y.notify(h.params.nextSlideMessage)):e(t.target).is(h.params.prevButton)&&(h.onClickPrev(t),h.isBeginning?h.a11y.notify(h.params.firstSlideMessage):h.a11y.notify(h.params.prevSlideMessage)),e(t.target).is("."+h.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="'+h.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=h.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){h.params.nextButton&&h.nextButton&&h.nextButton.length>0&&(h.a11y.makeFocusable(h.nextButton),h.a11y.addRole(h.nextButton,"button"),h.a11y.addLabel(h.nextButton,h.params.nextSlideMessage)),h.params.prevButton&&h.prevButton&&h.prevButton.length>0&&(h.a11y.makeFocusable(h.prevButton),h.a11y.addRole(h.prevButton,"button"),h.a11y.addLabel(h.prevButton,h.params.prevSlideMessage)),e(h.container).append(h.a11y.liveRegion)},initPagination:function(){h.params.pagination&&h.params.paginationClickable&&h.bullets&&h.bullets.length&&h.bullets.each(function(){var t=e(this);h.a11y.makeFocusable(t),h.a11y.addRole(t,"button"),h.a11y.addLabel(t,h.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){h.a11y.liveRegion&&h.a11y.liveRegion.length>0&&h.a11y.liveRegion.remove()}},h.init=function(){h.params.loop&&h.createLoop(),h.updateContainerSize(),h.updateSlidesSize(),h.updatePagination(),h.params.scrollbar&&h.scrollbar&&(h.scrollbar.set(),h.params.scrollbarDraggable&&h.scrollbar.enableDraggable()),"slide"!==h.params.effect&&h.effects[h.params.effect]&&(h.params.loop||h.updateProgress(),h.effects[h.params.effect].setTranslate()),h.params.loop?h.slideTo(h.params.initialSlide+h.loopedSlides,0,h.params.runCallbacksOnInit):(h.slideTo(h.params.initialSlide,0,h.params.runCallbacksOnInit),0===h.params.initialSlide&&(h.parallax&&h.params.parallax&&h.parallax.setTranslate(),h.lazy&&h.params.lazyLoading&&(h.lazy.load(),h.lazy.initialImageLoaded=!0))),h.attachEvents(),h.params.observer&&h.support.observer&&h.initObservers(),h.params.preloadImages&&!h.params.lazyLoading&&h.preloadImages(),h.params.zoom&&h.zoom&&h.zoom.init(),h.params.autoplay&&h.startAutoplay(),h.params.keyboardControl&&h.enableKeyboardControl&&h.enableKeyboardControl(),h.params.mousewheelControl&&h.enableMousewheelControl&&h.enableMousewheelControl(),h.params.hashnavReplaceState&&(h.params.replaceState=h.params.hashnavReplaceState),h.params.history&&h.history&&h.history.init(),h.params.hashnav&&h.hashnav&&h.hashnav.init(),h.params.a11y&&h.a11y&&h.a11y.init(),h.emit("onInit",h)},h.cleanupStyles=function(){h.container.removeClass(h.classNames.join(" ")).removeAttr("style"),h.wrapper.removeAttr("style"),h.slides&&h.slides.length&&h.slides.removeClass([h.params.slideVisibleClass,h.params.slideActiveClass,h.params.slideNextClass,h.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),h.paginationContainer&&h.paginationContainer.length&&h.paginationContainer.removeClass(h.params.paginationHiddenClass),h.bullets&&h.bullets.length&&h.bullets.removeClass(h.params.bulletActiveClass),h.params.prevButton&&e(h.params.prevButton).removeClass(h.params.buttonDisabledClass),h.params.nextButton&&e(h.params.nextButton).removeClass(h.params.buttonDisabledClass),h.params.scrollbar&&h.scrollbar&&(h.scrollbar.track&&h.scrollbar.track.length&&h.scrollbar.track.removeAttr("style"),h.scrollbar.drag&&h.scrollbar.drag.length&&h.scrollbar.drag.removeAttr("style"))},h.destroy=function(e,t){h.detachEvents(),h.stopAutoplay(),h.params.scrollbar&&h.scrollbar&&h.params.scrollbarDraggable&&h.scrollbar.disableDraggable(),h.params.loop&&h.destroyLoop(),t&&h.cleanupStyles(),h.disconnectObservers(),h.params.zoom&&h.zoom&&h.zoom.destroy(),h.params.keyboardControl&&h.disableKeyboardControl&&h.disableKeyboardControl(),h.params.mousewheelControl&&h.disableMousewheelControl&&h.disableMousewheelControl(),h.params.a11y&&h.a11y&&h.a11y.destroy(),h.params.history&&!h.params.replaceState&&window.removeEventListener("popstate",h.history.setHistoryPopState),h.params.hashnav&&h.hashnav&&h.hashnav.destroy(),h.emit("onDestroy"),!1!==e&&(h=null)},h.init(),h}function $(e){return Math.floor(e)}function O(){var e=h.params.autoplay,t=h.slides.eq(h.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||h.params.autoplay),h.autoplayTimeoutId=setTimeout(function(){h.params.loop?(h.fixLoop(),h._slideNext(),h.emit("onAutoplay",h)):h.isEnd?s.autoplayStopOnLast?h.stopAutoplay():(h._slideTo(0),h.emit("onAutoplay",h)):(h._slideNext(),h.emit("onAutoplay",h))},e)}function D(t,a){var i=e(t.target);if(!i.is(a))if("string"==typeof a)i=i.parents(a);else if(a.nodeType){var n;return i.parents().each(function(e,t){t===a&&(n=a)}),n?a:void 0}if(0!==i.length)return i[0]}function B(e,t){t=t||{};var a=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){h.onResize(!0),h.emit("onObserverUpdate",h,e)})});a.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),h.observers.push(a)}function L(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!h.params.allowSwipeToNext&&(h.isHorizontal()&&39===t||!h.isHorizontal()&&40===t))return!1;if(!h.params.allowSwipeToPrev&&(h.isHorizontal()&&37===t||!h.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var a=!1;if(h.container.parents("."+h.params.slideClass).length>0&&0===h.container.parents("."+h.params.slideActiveClass).length)return;var i={left:window.pageXOffset,top:window.pageYOffset},n=window.innerWidth,s=window.innerHeight,r=h.container.offset();h.rtl&&(r.left=r.left-h.container[0].scrollLeft);for(var o=[[r.left,r.top],[r.left+h.width,r.top],[r.left,r.top+h.height],[r.left+h.width,r.top+h.height]],l=0;l<o.length;l++){var d=o[l];d[0]>=i.left&&d[0]<=i.left+n&&d[1]>=i.top&&d[1]<=i.top+s&&(a=!0)}if(!a)return}h.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!h.rtl||37===t&&h.rtl)&&h.slideNext(),(37===t&&!h.rtl||39===t&&h.rtl)&&h.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&h.slideNext(),38===t&&h.slidePrev()),h.emit("onKeyPress",h,t)}}function H(e){e.originalEvent&&(e=e.originalEvent);var t=0,a=h.rtl?-1:1,i=function(e){var t=0,a=0,i=0,n=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),i=10*t,n=10*a,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||n)&&e.deltaMode&&(1===e.deltaMode?(i*=40,n*=40):(i*=800,n*=800)),i&&!t&&(t=i<1?-1:1),n&&!a&&(a=n<1?-1:1),{spinX:t,spinY:a,pixelX:i,pixelY:n}}(e);if(h.params.mousewheelForceToAxis)if(h.isHorizontal()){if(!(Math.abs(i.pixelX)>Math.abs(i.pixelY)))return;t=i.pixelX*a}else{if(!(Math.abs(i.pixelY)>Math.abs(i.pixelX)))return;t=i.pixelY}else t=Math.abs(i.pixelX)>Math.abs(i.pixelY)?-i.pixelX*a:-i.pixelY;if(0!==t){if(h.params.mousewheelInvert&&(t=-t),h.params.freeMode){var n=h.getWrapperTranslate()+t*h.params.mousewheelSensitivity,s=h.isBeginning,r=h.isEnd;if(n>=h.minTranslate()&&(n=h.minTranslate()),n<=h.maxTranslate()&&(n=h.maxTranslate()),h.setWrapperTransition(0),h.setWrapperTranslate(n),h.updateProgress(),h.updateActiveIndex(),(!s&&h.isBeginning||!r&&h.isEnd)&&h.updateClasses(),h.params.freeModeSticky?(clearTimeout(h.mousewheel.timeout),h.mousewheel.timeout=setTimeout(function(){h.slideReset()},300)):h.params.lazyLoading&&h.lazy&&h.lazy.load(),h.emit("onScroll",h,e),h.params.autoplay&&h.params.autoplayDisableOnInteraction&&h.stopAutoplay(),0===n||n===h.maxTranslate())return}else{if((new window.Date).getTime()-h.mousewheel.lastScrollTime>60)if(t<0)if(h.isEnd&&!h.params.loop||h.animating){if(h.params.mousewheelReleaseOnEdges)return!0}else h.slideNext(),h.emit("onScroll",h,e);else if(h.isBeginning&&!h.params.loop||h.animating){if(h.params.mousewheelReleaseOnEdges)return!0}else h.slidePrev(),h.emit("onScroll",h,e);h.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function N(t,a){var i,n,s;t=e(t);var r=h.rtl?-1:1;i=t.attr("data-swiper-parallax")||"0",n=t.attr("data-swiper-parallax-x"),s=t.attr("data-swiper-parallax-y"),n||s?(n=n||"0",s=s||"0"):h.isHorizontal()?(n=i,s="0"):(s=i,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*a*r+"%":n*a*r+"px",s=s.indexOf("%")>=0?parseInt(s,10)*a+"%":s*a+"px",t.transform("translate3d("+n+", "+s+",0px)")}function _(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}};t.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),n=!a&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:a||n||i,android:t}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a++)if(t[a]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window},plugins:{}};for(var a,n=function(){var e=function(e){var t=0;for(t=0;t<e.length;t++)this[t]=e[t];return this.length=e.length,this},t=function(t,a){var i=[],n=0;if(t&&!a&&t instanceof e)return t;if(t)if("string"==typeof t){var s,r,o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),(r=document.createElement(l)).innerHTML=t,n=0;n<r.childNodes.length;n++)i.push(r.childNodes[n])}else for(s=a||"#"!==t[0]||t.match(/[ .<>:~]/)?(a||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],n=0;n<s.length;n++)s[n]&&i.push(s[n])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(n=0;n<t.length;n++)i.push(t[n]);return new e(i)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)this[i].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)this[i].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)this[i].classList.toggle(t[a]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(e,t);else for(var i in e)this[a][i]=e[i],this[a].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if(void 0!==t){for(var a=0;a<this.length;a++){var i=this[a];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this}if(this[0]){var n=this[0].getAttribute("data-"+e);return n||(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0)}},transform:function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this},on:function(e,a,i,n){function s(e){var n=e.target;if(t(n).is(a))i.call(n,e);else for(var s=t(n).parents(),r=0;r<s.length;r++)t(s[r]).is(a)&&i.call(s[r],e)}var r,o,l=e.split(" ");for(r=0;r<this.length;r++)if("function"==typeof a||!1===a)for("function"==typeof a&&(i=arguments[1],n=arguments[2]||!1),o=0;o<l.length;o++)this[r].addEventListener(l[o],i,n);else for(o=0;o<l.length;o++)this[r].dom7LiveListeners||(this[r].dom7LiveListeners=[]),this[r].dom7LiveListeners.push({listener:i,liveListener:s}),this[r].addEventListener(l[o],s,n);return this},off:function(e,t,a,i){for(var n=e.split(" "),s=0;s<n.length;s++)for(var r=0;r<this.length;r++)if("function"==typeof t||!1===t)"function"==typeof t&&(a=arguments[1],i=arguments[2]||!1),this[r].removeEventListener(n[s],a,i);else if(this[r].dom7LiveListeners)for(var o=0;o<this[r].dom7LiveListeners.length;o++)this[r].dom7LiveListeners[o].listener===a&&this[r].removeEventListener(n[s],this[r].dom7LiveListeners[o].liveListener,i);return this},once:function(e,t,a,i){var n=this;"function"==typeof t&&(t=!1,a=arguments[1],i=arguments[2]),n.on(e,t,function s(r){a(r),n.off(e,t,s,i)},i)},trigger:function(e,t){for(var a=0;a<this.length;a++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(a){(i=document.createEvent("Event")).initEvent(e,!0,!0),i.detail=t}this[a].dispatchEvent(i)}return this},transitionEnd:function(e){var t,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;function n(s){if(s.target===this)for(e.call(this,s),t=0;t<a.length;t++)i.off(a[t],n)}if(e)for(t=0;t<a.length;t++)i.on(a[t],n);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.body,i=e.clientTop||a.clientTop||0,n=e.clientLeft||a.clientLeft||0,s=window.pageYOffset||e.scrollTop,r=window.pageXOffset||e.scrollLeft;return{top:t.top+s-i,left:t.left+r-n}}return null},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a++)for(var i in e)this[a].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a++)this[a].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(a){if(!this[0])return!1;var i,n;if("string"==typeof a){var s=this[0];if(s===document)return a===document;if(s===window)return a===window;if(s.matches)return s.matches(a);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(a);if(s.mozMatchesSelector)return s.mozMatchesSelector(a);if(s.msMatchesSelector)return s.msMatchesSelector(a);for(i=t(a),n=0;n<i.length;n++)if(i[n]===this[0])return!0;return!1}if(a===document)return this[0]===document;if(a===window)return this[0]===window;if(a.nodeType||a instanceof e){for(i=a.nodeType?[a]:a,n=0;n<i.length;n++)if(i[n]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var a,i=this.length;return new e(t>i-1?[]:t<0?(a=i+t)<0?[]:[this[a]]:[this[t]])},append:function(t){var a,i;for(a=0;a<this.length;a++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)this[a].appendChild(n.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[a].appendChild(t[i]);else this[a].appendChild(t);return this},prepend:function(t){var a,i;for(a=0;a<this.length;a++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t,i=n.childNodes.length-1;i>=0;i--)this[a].insertBefore(n.childNodes[i],this[a].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[a].insertBefore(t[i],this[a].childNodes[0]);else this[a].insertBefore(t,this[a].childNodes[0]);return this},insertBefore:function(e){for(var a=t(e),i=0;i<this.length;i++)if(1===a.length)a[0].parentNode.insertBefore(this[i],a[0]);else if(a.length>1)for(var n=0;n<a.length;n++)a[n].parentNode.insertBefore(this[i].cloneNode(!0),a[n])},insertAfter:function(e){for(var a=t(e),i=0;i<this.length;i++)if(1===a.length)a[0].parentNode.insertBefore(this[i],a[0].nextSibling);else if(a.length>1)for(var n=0;n<a.length;n++)a[n].parentNode.insertBefore(this[i].cloneNode(!0),a[n].nextSibling)},next:function(a){return this.length>0?a?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(a)?new e([this[0].nextElementSibling]):new e([]):this[0].nextElementSibling?new e([this[0].nextElementSibling]):new e([]):new e([])},nextAll:function(a){var i=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var s=n.nextElementSibling;a?t(s).is(a)&&i.push(s):i.push(s),n=s}return new e(i)},prev:function(a){return this.length>0?a?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(a)?new e([this[0].previousElementSibling]):new e([]):this[0].previousElementSibling?new e([this[0].previousElementSibling]):new e([]):new e([])},prevAll:function(a){var i=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var s=n.previousElementSibling;a?t(s).is(a)&&i.push(s):i.push(s),n=s}return new e(i)},parent:function(e){for(var a=[],i=0;i<this.length;i++)e?t(this[i].parentNode).is(e)&&a.push(this[i].parentNode):a.push(this[i].parentNode);return t(t.unique(a))},parents:function(e){for(var a=[],i=0;i<this.length;i++)for(var n=this[i].parentNode;n;)e?t(n).is(e)&&a.push(n):a.push(n),n=n.parentNode;return t(t.unique(a))},find:function(t){for(var a=[],i=0;i<this.length;i++)for(var n=this[i].querySelectorAll(t),s=0;s<n.length;s++)a.push(n[s]);return new e(a)},children:function(a){for(var i=[],n=0;n<this.length;n++)for(var s=this[n].childNodes,r=0;r<s.length;r++)a?1===s[r].nodeType&&t(s[r]).is(a)&&i.push(s[r]):1===s[r].nodeType&&i.push(s[r]);return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,a;for(e=0;e<arguments.length;e++){var i=t(arguments[e]);for(a=0;a<i.length;a++)this[this.length]=i[a],this.length++}return this}},t.fn=e.prototype,t.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},t}(),s=["jQuery","Zepto","Dom7"],r=0;r<s.length;r++)window[s[r]]&&o(window[s[r]]);function o(e){e.fn.swiper=function(a){var i;return e(this).each(function(){var e=new t(this,a);i||(i=e)}),i}}(a=void 0===n?window.Dom7||window.Zepto||window.jQuery:n)&&("transitionEnd"in a.fn||(a.fn.transitionEnd=function(e){var t,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;function n(s){if(s.target===this)for(e.call(this,s),t=0;t<a.length;t++)i.off(a[t],n)}if(e)for(t=0;t<a.length;t++)i.on(a[t],n);return this}),"transform"in a.fn||(a.fn.transform=function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this}),"transition"in a.fn||(a.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this}),"outerWidth"in a.fn||(a.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=t}(),e.exports=window.Swiper},function(e,t,a){"use strict";function i(e){this.el=e,this.btn=null,this.locked=!1,this.stateEl=null,this.onUploadReady=function(e,t){$(e.btn).find("input").attr("disabled",!0),$(e.stateEl).html(t.name+' <span class="progress-bar">0%</span>')},this.onFileSelected=function(e){return!0},this.onError=function(e,t){console.error(t)},this.onProgress=function(e,t){var a=(t.loaded/t.total*100).toFixed(2)+"%";t.loaded===t.total&&(a="请等待服务器返回结果 (尚未完成请稍后)"),$(e.stateEl).find(".progress-bar").html(a)},this.onSuccess=function(e,t){console.info(t)},this.initHandler()}i.prototype={getHiddenFileInput:function(){return $("#hiddenFileUploader").length<1&&(console.info("append"),$(document.body).append("<input type='file' id='hiddenFileUploader' name='file' style='display:none' />")),$("#hiddenFileUploader")},removeFileInput:function(){$("#hiddenFileUploader").remove()},getApiUrl:function(){return $(this.el).data("api")},initHandler:function(){var e=this,t=$('<input type="button" class="btn btn-default" value="上传附件" />');$(this.el).append(t);var a=$('<span class="upload_state" style="margin-left: 10px;"></span>');$(this.el).append(a),this.stateEl=a,t.off("click"),t.click(function(){var t=e.getHiddenFileInput();t.click(),t.get(0).onchange=function(){if(""===this.value||!this.files[0])return e.removeFileInput(),!1;var t=this.files[0];if(!e.onFileSelected(t))return e.removeFileInput(),!1;e.onUploadReady(e,t),e.startUpload(t)}}),this.btn=t},startUpload:function(e){var t=new FormData;t.append("file",e);var a=this;this.removeFileInput();var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200!==i.status?a.onError(a,"Http Err"+i.state):a.onSuccess(a,i.response))},i.upload.onprogress=function(e){a.onProgress(a,e)},i.open("post",this.getApiUrl()),i.send(t)}},e.exports=i},function(e,t){!function(e){var t=window.MutationObserver||window.WebKitMutationObserver;e.fn.attrchange=function(a,i){if("object"==typeof a){var n={trackValues:!1,callback:e.noop};if("function"==typeof a?n.callback=a:e.extend(n,a),n.trackValues&&this.each(function(t,a){for(var i,n={},s=(t=0,a.attributes),r=s.length;t<r;t++)n[(i=s.item(t)).nodeName]=i.value;e(this).data("attr-old-value",n)}),t){var s={subtree:!1,attributes:!0,attributeOldValue:n.trackValues},r=new t(function(t){t.forEach(function(t){var a=t.target;n.trackValues&&(t.newValue=e(a).attr(t.attributeName)),"connected"===e(a).data("attrchange-status")&&n.callback.call(a,t)})});return this.data("attrchange-method","Mutation Observer").data("attrchange-status","connected").data("attrchange-obs",r).each(function(){r.observe(this,s)})}return function(){var e=document.createElement("p"),t=!1;if(e.addEventListener)e.addEventListener("DOMAttrModified",function(){t=!0},!1);else{if(!e.attachEvent)return!1;e.attachEvent("onDOMAttrModified",function(){t=!0})}return e.setAttribute("id","target"),t}()?this.data("attrchange-method","DOMAttrModified").data("attrchange-status","connected").on("DOMAttrModified",function(t){t.originalEvent&&(t=t.originalEvent),t.attributeName=t.attrName,t.oldValue=t.prevValue,"connected"===e(this).data("attrchange-status")&&n.callback.call(this,t)}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").data("attrchange-status","connected").on("propertychange",function(t){t.attributeName=window.event.propertyName,function(t,a){if(t){var i=this.data("attr-old-value");if(a.attributeName.indexOf("style")>=0){i.style||(i.style={});var n=a.attributeName.split(".");a.attributeName=n[0],a.oldValue=i.style[n[1]],a.newValue=n[1]+":"+this.prop("style")[e.camelCase(n[1])],i.style[n[1]]=a.newValue}else a.oldValue=i[a.attributeName],a.newValue=this.attr(a.attributeName),i[a.attributeName]=a.newValue;this.data("attr-old-value",i)}}.call(e(this),n.trackValues,t),"connected"===e(this).data("attrchange-status")&&n.callback.call(this,t)}):this}if("string"==typeof a&&e.fn.attrchange.hasOwnProperty("extensions")&&e.fn.attrchange.extensions.hasOwnProperty(a))return e.fn.attrchange.extensions[a].call(this,i)}}(jQuery)},function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=function(t,a){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=a,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function a(a){return this.each(function(){var n=e(this),s=n.data("bs.carousel"),r=e.extend({},t.DEFAULTS,n.data(),"object"==(void 0===a?"undefined":i(a))&&a),o="string"==typeof a?a:r.slide;s||n.data("bs.carousel",s=new t(this,r)),"number"==typeof a?s.to(a):o?s[o]():r.interval&&s.pause().cycle()})}t.VERSION="3.3.5",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var a=this.getItemIndex(t);if(("prev"==e&&0===a||"next"==e&&a==this.$items.length-1)&&!this.options.wrap)return t;var i=(a+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},t.prototype.to=function(e){var t=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(a,i){var n=this.$element.find(".item.active"),s=i||this.getItemForDirection(a,n),r=this.interval,o="next"==a?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var d=s[0],c=e.Event("slide.bs.carousel",{relatedTarget:d,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(s)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:d,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(a),s[0].offsetWidth,n.addClass(o),s.addClass(o),n.one("bsTransitionEnd",function(){s.removeClass([a,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(p)),r&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=a,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var s=function(t){var i,n=e(this),s=e(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=e.extend({},s.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(s,r),o&&s.data("bs.carousel").to(o),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);a.call(t,t.data())})})}(jQuery)},function(e,t,a){"use strict";var i,n,s;"function"==typeof Symbol&&Symbol.iterator;n=[a(0)],void 0===(s="function"==typeof(i=function(e){var t={escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}},a={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};function i(t,a){var n=function(){},s={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:i.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:n,onSearchComplete:n,onSearchError:n,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,a){return-1!==e.value.toLowerCase().indexOf(a)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};this.element=t,this.el=e(t),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.intervalId=0,this.cachedResponse={},this.onChangeInterval=null,this.onChange=null,this.isLocal=!1,this.suggestionsContainer=null,this.noSuggestionsContainer=null,this.options=e.extend({},s,a),this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},this.hint=null,this.hintValue="",this.selection=null,this.initialize(),this.setOptions(a)}i.utils=t,e.Autocomplete=i,i.formatResult=function(e,a){var i="("+t.escapeRegExChars(a)+")";return e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},i.prototype={killerFn:null,initialize:function(){var t,a=this,n="."+a.classes.suggestion,s=a.classes.selected,r=a.options;a.element.setAttribute("autocomplete","off"),a.killerFn=function(t){0===e(t.target).closest("."+a.options.containerClass).length&&(a.killSuggestions(),a.disableKillerFn())},a.noSuggestionsContainer=e('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),a.suggestionsContainer=i.utils.createNode(r.containerClass),(t=e(a.suggestionsContainer)).appendTo(r.appendTo),"auto"!==r.width&&t.width(r.width),t.on("mouseover.autocomplete",n,function(){a.activate(e(this).data("index"))}),t.on("mouseout.autocomplete",function(){a.selectedIndex=-1,t.children("."+s).removeClass(s)}),t.on("click.autocomplete",n,function(){a.select(e(this).data("index"))}),a.fixPositionCapture=function(){a.visible&&a.fixPosition()},e(window).on("resize.autocomplete",a.fixPositionCapture),a.el.on("keydown.autocomplete",function(e){a.onKeyPress(e)}),a.el.on("keyup.autocomplete",function(e){a.onKeyUp(e)}),a.el.on("blur.autocomplete",function(){a.onBlur()}),a.el.on("focus.autocomplete",function(){a.onFocus()}),a.el.on("change.autocomplete",function(e){a.onKeyUp(e)}),a.el.on("input.autocomplete",function(e){a.onKeyUp(e)})},onFocus:function(){this.fixPosition(),0===this.options.minChars&&0===this.el.val().length&&this.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null)},setOptions:function(t){var a=this.options;e.extend(a,t),this.isLocal=e.isArray(a.lookup),this.isLocal&&(a.lookup=this.verifySuggestionsFormat(a.lookup)),a.orientation=this.validateOrientation(a.orientation,"bottom"),e(this.suggestionsContainer).css({"max-height":a.maxHeight+"px",width:a.width+"px","z-index":a.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,clearInterval(this.onChangeInterval),this.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var t=e(this.suggestionsContainer),a=t.parent().get(0);if(a===document.body||this.options.forceFixPosition){var i=this.options.orientation,n=t.outerHeight(),s=this.el.outerHeight(),r=this.el.offset(),o={top:r.top,left:r.left};if("auto"===i){var l=e(window).height(),d=e(window).scrollTop(),c=-d+r.top-n,u=d+l-(r.top+s+n);i=Math.max(c,u)===c?"top":"bottom"}if(o.top+="top"===i?-n:s,a!==document.body){var p,h=t.css("opacity");this.visible||t.css("opacity",0).show(),p=t.offsetParent().offset(),o.top-=p.top,o.left-=p.left,this.visible||t.css("opacity",h).hide()}"auto"===this.options.width&&(o.width=this.el.outerWidth()-2+"px"),t.css(o)}},enableKillerFn:function(){e(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){e(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.visible&&(e.el.val(e.currentValue),e.hide()),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this.el.val().length,a=this.element.selectionStart;return"number"==typeof a?a===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},onKeyPress:function(e){if(this.disabled||this.visible||e.which!==a.DOWN||!this.currentValue){if(!this.disabled&&this.visible){switch(e.which){case a.ESC:this.el.val(this.currentValue),this.hide();break;case a.RIGHT:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case a.TAB:if(this.hint&&this.options.onHint)return void this.selectHint();if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),!1===this.options.tabDisabled)return;break;case a.RETURN:if(-1===this.selectedIndex)return void this.hide();this.select(this.selectedIndex);break;case a.UP:this.moveUp();break;case a.DOWN:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else this.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case a.UP:case a.DOWN:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t=this.options,a=this.el.val(),i=this.getQuery(a);this.selection&&this.currentValue!==i&&(this.selection=null,(t.onInvalidateSelection||e.noop).call(this.element)),clearInterval(this.onChangeInterval),this.currentValue=a,this.selectedIndex=-1,t.triggerSelectOnValidInput&&this.isExactMatch(i)?this.select(0):i.length<t.minChars?this.hide():this.getSuggestions(i)},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(t){var a,i=this.options.delimiter;return i?(a=t.split(i),e.trim(a[a.length-1])):t},getSuggestionsLocal:function(t){var a,i=this.options,n=t.toLowerCase(),s=i.lookupFilter,r=parseInt(i.lookupLimit,10);return a={suggestions:e.grep(i.lookup,function(e){return s(e,t,n)})},r&&a.suggestions.length>r&&(a.suggestions=a.suggestions.slice(0,r)),a},getSuggestions:function(t){var a,i,n,s,r=this,o=r.options,l=o.serviceUrl;o.params[o.paramName]=t,i=o.ignoreParams?null:o.params,!1!==o.onSearchStart.call(r.element,o.params)&&(e.isFunction(o.lookup)?o.lookup(t,function(e){r.suggestions=e.suggestions,r.suggest(),o.onSearchComplete.call(r.element,t,e.suggestions)}):(r.isLocal?a=r.getSuggestionsLocal(t):(e.isFunction(l)&&(l=l.call(r.element,t)),n=l+"?"+e.param(i||{}),a=r.cachedResponse[n]),a&&e.isArray(a.suggestions)?(r.suggestions=a.suggestions,r.suggest(),o.onSearchComplete.call(r.element,t,a.suggestions)):r.isBadQuery(t)?o.onSearchComplete.call(r.element,t,[]):(r.abortAjax(),s={url:l,data:i,type:o.type,dataType:o.dataType},e.extend(s,o.ajaxSettings),r.currentRequest=e.ajax(s).done(function(e){var a;r.currentRequest=null,a=o.transformResult(e,t),r.processResponse(a,t,n),o.onSearchComplete.call(r.element,t,a.suggestions)}).fail(function(e,a,i){o.onSearchError.call(r.element,t,e,a,i)}))))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,a=t.length;a--;)if(0===e.indexOf(t[a]))return!0;return!1},hide:function(){var t=e(this.suggestionsContainer);e.isFunction(this.options.onHide)&&this.visible&&this.options.onHide.call(this.element,t),this.visible=!1,this.selectedIndex=-1,clearInterval(this.onChangeInterval),e(this.suggestionsContainer).hide(),this.signalHint(null)},suggest:function(){if(0!==this.suggestions.length){var t,a=this.options,i=a.groupBy,n=a.formatResult,s=this.getQuery(this.currentValue),r=this.classes.suggestion,o=this.classes.selected,l=e(this.suggestionsContainer),d=e(this.noSuggestionsContainer),c=a.beforeRender,u="";a.triggerSelectOnValidInput&&this.isExactMatch(s)?this.select(0):(e.each(this.suggestions,function(e,a){i&&(u+=function(e,a){var n=e.data[i];return t===n?"":'<div class="autocomplete-group"><strong>'+(t=n)+"</strong></div>"}(a)),u+='<div class="'+r+'" data-index="'+e+'">'+n(a,s)+"</div>"}),this.adjustContainerWidth(),d.detach(),l.html(u),e.isFunction(c)&&c.call(this.element,l),this.fixPosition(),l.show(),a.autoSelectFirst&&(this.selectedIndex=0,l.scrollTop(0),l.children("."+r).first().addClass(o)),this.visible=!0,this.findBestHint())}else this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var t=e(this.suggestionsContainer),a=e(this.noSuggestionsContainer);this.adjustContainerWidth(),a.detach(),t.empty(),t.append(a),this.fixPosition(),t.show(),this.visible=!0},adjustContainerWidth:function(){var t,a=this.options,i=e(this.suggestionsContainer);"auto"===a.width&&(t=this.el.outerWidth()-2,i.width(t>0?t:300))},findBestHint:function(){var t=this.el.val().toLowerCase(),a=null;t&&(e.each(this.suggestions,function(e,i){var n=0===i.value.toLowerCase().indexOf(t);return n&&(a=i),!n}),this.signalHint(a))},signalHint:function(t){var a="";t&&(a=this.currentValue+t.value.substr(this.currentValue.length)),this.hintValue!==a&&(this.hintValue=a,this.hint=t,(this.options.onHint||e.noop)(a))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},validateOrientation:function(t,a){return t=e.trim(t||"").toLowerCase(),-1===e.inArray(t,["auto","bottom","top"])&&(t=a),t},processResponse:function(e,t,a){var i=this.options;e.suggestions=this.verifySuggestionsFormat(e.suggestions),i.noCache||(this.cachedResponse[a]=e,i.preventBadQueries&&0===e.suggestions.length&&this.badQueries.push(t)),t===this.getQuery(this.currentValue)&&(this.suggestions=e.suggestions,this.suggest())},activate:function(t){var a,i=this.classes.selected,n=e(this.suggestionsContainer),s=n.find("."+this.classes.suggestion);return n.find("."+i).removeClass(i),this.selectedIndex=t,-1!==this.selectedIndex&&s.length>this.selectedIndex?(a=s.get(this.selectedIndex),e(a).addClass(i),a):null},selectHint:function(){var t=e.inArray(this.hint,this.suggestions);this.select(t)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){if(-1!==this.selectedIndex)return 0===this.selectedIndex?(e(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.el.val(this.currentValue),void this.findBestHint()):void this.adjustScroll(this.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var a=this.activate(t);if(a){var i,n,s,r=e(a).outerHeight();i=a.offsetTop,n=e(this.suggestionsContainer).scrollTop(),s=n+this.options.maxHeight-r,i<n?e(this.suggestionsContainer).scrollTop(i):i>s&&e(this.suggestionsContainer).scrollTop(i-this.options.maxHeight+r),this.options.preserveInput||this.el.val(this.getValue(this.suggestions[t].value)),this.signalHint(null)}},onSelect:function(t){var a=this.options.onSelect,i=this.suggestions[t];this.currentValue=this.getValue(i.value),this.currentValue===this.el.val()||this.options.preserveInput||this.el.val(this.currentValue),this.signalHint(null),this.suggestions=[],this.selection=i,e.isFunction(a)&&a.call(this.element,i)},getValue:function(e){var t,a,i=this.options.delimiter;return i?(t=this.currentValue,1===(a=t.split(i)).length?e:t.substr(0,t.length-a[a.length-1].length)+e):e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),e(window).off("resize.autocomplete",this.fixPositionCapture),e(this.suggestionsContainer).remove()}},e.fn.autocomplete=e.fn.devbridgeAutocomplete=function(t,a){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var n=e(this),s=n.data("autocomplete");"string"==typeof t?s&&"function"==typeof s[t]&&s[t](a):(s&&s.dispose&&s.dispose(),s=new i(this,t),n.data("autocomplete",s))})}})?i.apply(t,n):i)||(e.exports=s)},function(e,t,a){"use strict";var i,n,s;n=[a(0)],void 0===(s="function"==typeof(i=function(e){e.expr[":"].onScreen=function(t){var a=e(window),i=a.scrollTop(),n=a.height(),s=i+n,r=e(t),o=r.offset().top,l=r.height(),d=o+l;return o>=i&&o<s||d>i&&d<=s||l>n&&o<=i&&d>=s}})?i.apply(t,n):i)||(e.exports=s)},function(e,t,a){"use strict";var i,n,s;
/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.18
 *
 * Requires: jQuery >= 1.2.3
 */n=[a(0)],void 0===(s="function"==typeof(i=function(e){e.fn.addBack=e.fn.addBack||e.fn.andSelf,e.fn.extend({actual:function(t,a){if(!this[t])throw'$.actual => The jQuery method "'+t+'" you called does not exist';var i,n,s=e.extend({absolute:!1,clone:!1,includeMargin:!1,display:"block"},a),r=this.eq(0);if(!0===s.clone)i=function(){r=r.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},n=function(){r.remove()};else{var o,l=[],d="";i=function(){o=r.parents().addBack().filter(":hidden"),d+="visibility: hidden !important; display: "+s.display+" !important; ",!0===s.absolute&&(d+="position: absolute !important; "),o.each(function(){var t=e(this),a=t.attr("style");l.push(a),t.attr("style",a?a+";"+d:d)})},n=function(){o.each(function(t){var a=e(this),i=l[t];void 0===i?a.removeAttr("style"):a.attr("style",i)})}}i();var c=/(outer)/.test(t)?r[t](s.includeMargin):r[t]();return n(),c}})})?i.apply(t,n):i)||(e.exports=s)},function(e,t,a){"use strict";!function(e){e(function(){var t=e(".float-toolbar");if(t.length>0){var a,i=0,n=5,s=t.outerHeight();e(window).scroll(function(){a=!0}),setInterval(function(){a&&(!function(){var a=e(this).scrollTop();Math.abs(i-a)<=n||(a>i&&a>s?t.removeClass("nav-down").addClass("nav-up"):a+e(window).height()<e(document).height()&&t.removeClass("nav-up").addClass("nav-down"),i=a)}(),a=!1)},250)}e(".back-to-top").click(function(){e(window).scrollTop(0)})})}(jQuery)},function(e,t,a){"use strict";a(107),$(function(){var e,t,a=500,i=500;function n(){return console.log(),"timestamp="+(new Date).getTime()+"-"+Math.ceil(999999*Math.random())}$("#uploadButton").click(function(){$(this).hasClass("disabled")||$("#avatarUploader").click()}),$("#avatarUploader").change(function(){if(0!=this.files.length){$("#uploadButton").addClass("disabled");var s=new FormData($("#uploadTmpAvatar")[0]);$.ajax({url:"/upload/tmpAvatar",type:"post",data:s,cache:!1,contentType:!1,processData:!1,success:function(s){if($("#uploadButton").removeClass("disabled"),0!==s.code)alert(s.msg);else{var r=s.data.url;!function(s){var r=function(a){var i=e.getBounds(),n=i[0],s=i[1];if(parseInt(a.w)>0){var r=100/a.w,o=100/a.h;t=[Math.round(a.x),Math.round(a.y),Math.round(a.w),Math.round(a.h)],$(".avatar-preview img").css({width:Math.round(r*n)+"px",height:Math.round(o*s)+"px",marginLeft:"-"+Math.round(r*a.x)+"px",marginTop:"-"+Math.round(o*a.y)+"px"})}else t=void 0},o=$(".cropper").empty(),l=$("<img src='"+s+"?"+n()+"' style='display:block'>");o.append(l),l.load(function(t){e=$.Jcrop(".cropper img",{onChange:r,onSelect:r,aspectRatio:1,boxWidth:a,boxHeight:i});var n=t.currentTarget.width,s=t.currentTarget.height;e.setSelect([20,20,n-20,s-20])})}(r),$(".avatar-preview").empty().append("<img src='"+r+"?"+n()+"'>")}},error:function(e){switch(console.log(e.status),$("#uploadButton").removeClass("disabled"),e.status){case 413:alert("上传文件过大,请换一张试试");break;default:alert("上传发生错误,请重试")}}})}}),$("#setAvatarButton").click(function(){$(this).hasClass("disabled")||(void 0===t?alert("请先选择头像区域"):($("#setAvatarButton").addClass("disabled"),$.post("/my/saveAvatar",{x:t[0],y:t[1],w:t[2],h:t[3]},function(e){$("#setAvatarButton").removeClass("disabled"),0!==e.code?alert(e.msg):($(".avatar img").attr("src",e.data.url+"?"+n()),$(".cropper, .avatar-preview").empty(),$("#uploadAvatar").modal("hide"),window.reload())},"json").fail(function(){$("#setAvatarButton").removeClass("disabled"),alert("上传发生错误,请重试")})))})})},function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.Jcrop=function(t,a){var n,s=e.extend({},e.Jcrop.defaults),r=navigator.userAgent.toLowerCase(),o=/msie/.test(r),l=/msie [1-6]\./.test(r);function d(e){return Math.round(e)+"px"}function c(e){return s.baseClass+"-"+e}function u(t){var a=e(t).offset();return[a.left,a.top]}function p(e){return[e.pageX-n[0],e.pageY-n[1]]}function h(t){"object"!==(void 0===t?"undefined":i(t))&&(t={}),s=e.extend(s,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof s[t]&&(s[t]=function(){})})}function m(e,t,a){if(n=u(E),J.setCursor("move"===e?e:e+"-resize"),"move"===e)return J.activateHandlers(function(e){var t=e;return Q.watchKeys(),function(e){V.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,K.update()}}(t),y,a);var i=V.getFixed(),r=f(e),o=V.getCorner(f(r));V.setPressed(V.getCorner(r)),V.setCurrent(o),J.activateHandlers(function(e,t){return function(a){if(s.aspectRatio)switch(e){case"e":case"w":a[1]=t.y+1;break;case"n":case"s":a[0]=t.x+1}else switch(e){case"e":case"w":a[1]=t.y2;break;case"n":case"s":a[0]=t.x2}V.setCurrent(a),K.update()}}(e,i),y,a)}function f(e){switch(e){case"n":return"sw";case"s":case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function g(e){return function(t){return!s.disabled&&(!("move"===e&&!s.allowMove)&&(n=u(E),F=!0,m(e,p(t)),t.stopPropagation(),t.preventDefault(),!1))}}function v(e,t,a){var i=e.width(),n=e.height();i>t&&t>0&&(i=t,n=t/e.width()*e.height()),n>a&&a>0&&(n=a,i=a/e.height()*e.width()),_=e.width()/i,R=e.height()/n,e.width(i).height(n)}function b(e){return{x:e.x*_,y:e.y*R,x2:e.x2*_,y2:e.y2*R,w:e.w*_,h:e.h*R}}function y(e){var t=V.getFixed();t.w>s.minSelect[0]&&t.h>s.minSelect[1]?(K.enableHandles(),K.done()):K.release(),J.setCursor(s.allowSelect?"crosshair":"default")}function w(e){if(s.disabled)return!1;if(!s.allowSelect)return!1;F=!0,n=u(E),K.disableHandles(),J.setCursor("crosshair");var t=p(e);return V.setPressed(t),K.update(),J.activateHandlers(x,y,"touch"===e.type.substring(0,5)),Q.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function x(e){V.setCurrent(e),K.update()}function C(){var t=e("<div></div>").addClass(c("tracker"));return o&&t.css({opacity:0,backgroundColor:"white"}),t}"object"!==(void 0===t?"undefined":i(t))&&(t=e(t)[0]),"object"!==(void 0===a?"undefined":i(a))&&(a={}),h(a);var k={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},T=e(t),S=!0;if("IMG"==t.tagName){if(0!=T[0].width&&0!=T[0].height)T.width(T[0].width),T.height(T[0].height);else{var I=new Image;I.src=T[0].src,T.width(I.width),T.height(I.height)}var E=T.clone().removeAttr("id").css(k).show();E.width(T.width()),E.height(T.height()),T.after(E).hide()}else E=T.css(k).show(),S=!1,null===s.shade&&(s.shade=!0);v(E,s.boxWidth,s.boxHeight);var M=E.width(),P=E.height(),z=e("<div />").width(M).height(P).addClass(c("holder")).css({position:"relative",backgroundColor:s.bgColor}).insertAfter(T).append(E);s.addClass&&z.addClass(s.addClass);var A=e("<div />"),$=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),O=e("<div />").width("100%").height("100%").css("zIndex",320),D=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=V.getFixed();s.onDblClick.call(se,e)}).insertBefore(E).append($,O);S&&(A=e("<img />").attr("src",E.attr("src")).css(k).width(M).height(P),$.append(A)),l&&D.css({overflowY:"hidden"});var B,L,H,N,_,R,F,j,W=s.boundary,X=C().width(M+2*W).height(P+2*W).css({position:"absolute",top:d(-W),left:d(-W),zIndex:290}).mousedown(w),G=s.bgColor,Y=s.bgOpacity;n=u(E);var q=function(){function e(){var e,t={},a=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(e=0;e<a.length;e++){var n=a[e],s=(n="on"+n)in i;s||(i.setAttribute(n,"return;"),s="function"==typeof i[n]),t[a[e]]=s}return t.touchstart&&t.touchend&&t.touchmove}catch(e){return!1}}return{createDragger:function(e){return function(t){return!s.disabled&&(!("move"===e&&!s.allowMove)&&(n=u(E),F=!0,m(e,p(q.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1))}},newSelection:function(e){return w(q.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:!0===s.touchSupport||!1===s.touchSupport?s.touchSupport:e()}}(),V=function(){var e,t,a=0,i=0,n=0,r=0;function o(){if(!s.aspectRatio)return function(){var e,t=n-a,s=r-i;B&&Math.abs(t)>B&&(n=t>0?a+B:a-B);L&&Math.abs(s)>L&&(r=s>0?i+L:i-L);N/R&&Math.abs(s)<N/R&&(r=s>0?i+N/R:i-N/R);H/_&&Math.abs(t)<H/_&&(n=t>0?a+H/_:a-H/_);a<0&&(n-=a,a-=a);i<0&&(r-=i,i-=i);n<0&&(a-=n,n-=n);r<0&&(i-=r,r-=r);n>M&&(a-=e=n-M,n-=e);r>P&&(i-=e=r-P,r-=e);a>M&&(r-=e=a-P,i-=e);i>P&&(r-=e=i-P,i-=e);return c(d(a,i,n,r))}();var e,t,o,l,u=s.aspectRatio,p=s.minSize[0]/_,h=s.maxSize[0]/_,m=s.maxSize[1]/R,f=n-a,g=r-i,v=Math.abs(f),b=Math.abs(g);return 0===h&&(h=10*M),0===m&&(m=10*P),v/b<u?(t=r,o=b*u,(e=f<0?a-o:o+a)<0?(e=0,l=Math.abs((e-a)/u),t=g<0?i-l:l+i):e>M&&(e=M,l=Math.abs((e-a)/u),t=g<0?i-l:l+i)):(e=n,l=v/u,(t=g<0?i-l:i+l)<0?(t=0,o=Math.abs((t-i)*u),e=f<0?a-o:o+a):t>P&&(t=P,o=Math.abs(t-i)*u,e=f<0?a-o:o+a)),e>a?(e-a<p?e=a+p:e-a>h&&(e=a+h),t=t>i?i+(e-a)/u:i-(e-a)/u):e<a&&(a-e<p?e=a-p:a-e>h&&(e=a-h),t=t>i?i+(a-e)/u:i-(a-e)/u),e<0?(a-=e,e=0):e>M&&(a-=e-M,e=M),t<0?(i-=t,t=0):t>P&&(i-=t-P,t=P),c(d(a,i,e,t))}function l(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>M&&(e[0]=M),e[1]>P&&(e[1]=P),[Math.round(e[0]),Math.round(e[1])]}function d(e,t,a,i){var n=e,s=a,r=t,o=i;return a<e&&(n=a,s=e),i<t&&(r=i,o=t),[n,r,s,o]}function c(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}return{flipCoords:d,setPressed:function(e){e=l(e),n=a=e[0],r=i=e[1]},setCurrent:function(a){a=l(a),e=a[0]-n,t=a[1]-r,n=a[0],r=a[1]},getOffset:function(){return[e,t]},moveOffset:function(e){var t=e[0],s=e[1];0>a+t&&(t-=t+a),0>i+s&&(s-=s+i),P<r+s&&(s+=P-(r+s)),M<n+t&&(t+=M-(n+t)),a+=t,n+=t,i+=s,r+=s},getCorner:function(e){var t=o();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}},getFixed:o}}(),U=function(){var t=!1,a=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:o(),left:o().height(P),right:o().height(P),bottom:o()};function n(){return r(V.getFixed())}function r(e){i.top.css({left:d(e.x),width:d(e.w),height:d(e.y)}),i.bottom.css({top:d(e.y2),left:d(e.x),width:d(e.w),height:d(P-e.y2)}),i.right.css({left:d(e.x2),width:d(M-e.x2)}),i.left.css({width:d(e.x)})}function o(){return e("<div />").css({position:"absolute",backgroundColor:s.shadeColor||s.bgColor}).appendTo(a)}function l(){t||(t=!0,a.insertBefore(E),n(),K.setBgOpacity(1,0,1),A.hide(),c(s.shadeColor||s.bgColor,1),K.isAwake()?p(s.bgOpacity,1):p(1,1))}function c(e,t){ie(h(),e,t)}function u(){t&&(a.remove(),A.show(),t=!1,K.isAwake()?K.setBgOpacity(s.bgOpacity,1,1):(K.setBgOpacity(1,1,1),K.disableHandles()),ie(z,0,1))}function p(e,i){t&&(s.bgFade&&!i?a.animate({opacity:1-e},{queue:!1,duration:s.fadeTime}):a.css({opacity:1-e}))}function h(){return a.children()}return{update:n,updateRaw:r,getShades:h,setBgColor:c,enable:l,disable:u,resize:function(e,t){i.left.css({height:d(t)}),i.right.css({height:d(t)})},refresh:function(){s.shade?l():u(),K.isAwake()&&p(s.bgOpacity)},opacity:p}}(),K=function(){var t,a=370,i={},n={},r={},o=!1;function l(t){var a=e("<div />").css({position:"absolute",opacity:s.borderOpacity}).addClass(c(t));return $.append(a),a}function u(t,a){var i=e("<div />").mousedown(g(t)).css({cursor:t+"-resize",position:"absolute",zIndex:a}).addClass("ord-"+t);return q.support&&i.bind("touchstart.jcrop",q.createDragger(t)),O.append(i),i}function p(e){var t=s.handleSize,i=u(e,a++).css({opacity:s.handleOpacity}).addClass(c("handle"));return t&&i.width(t).height(t),i}function h(e){return u(e,a++).addClass("jcrop-dragbar")}function m(){var e=V.getFixed();V.setPressed([e.x,e.y]),V.setCurrent([e.x2,e.y2]),f()}function f(e){if(t)return v(e)}function v(e){var a=V.getFixed();!function(e,t){D.width(Math.round(e)).height(Math.round(t))}(a.w,a.h),function(e,t){s.shade||A.css({top:d(-t),left:d(-e)}),D.css({top:d(t),left:d(e)})}(a.x,a.y),s.shade&&U.updateRaw(a),t||function(){D.show(),s.shade?U.opacity(Y):y(Y,!0);t=!0}(),e?s.onSelect.call(se,b(a)):s.onChange.call(se,b(a))}function y(e,a,i){(t||a)&&(s.bgFade&&!i?E.animate({opacity:e},{queue:!1,duration:s.fadeTime}):E.css("opacity",e))}function w(){if(o=!0,s.allowResize)return O.show(),!0}function x(){o=!1,O.hide()}function k(e){e?(j=!0,x()):(j=!1,w())}s.dragEdges&&e.isArray(s.createDragbars)&&function(e){var t;for(t=0;t<e.length;t++)r[e[t]]=h(e[t])}(s.createDragbars),e.isArray(s.createHandles)&&function(e){var t;for(t=0;t<e.length;t++)n[e[t]]=p(e[t])}(s.createHandles),s.drawBorders&&e.isArray(s.createBorders)&&function(e){var t,a;for(a=0;a<e.length;a++){switch(e[a]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline"}i[e[a]]=l(t)}}(s.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var T=C().mousedown(g("move")).css({cursor:"move",position:"absolute",zIndex:360});return q.support&&T.bind("touchstart.jcrop",q.createDragger("move")),$.append(T),x(),{updateVisible:f,update:v,release:function(){x(),D.hide(),s.shade?U.opacity(1):y(1),t=!1,s.onRelease.call(se)},refresh:m,isAwake:function(){return t},setCursor:function(e){T.css("cursor",e)},enableHandles:w,enableOnly:function(){o=!0},showHandles:function(){o&&O.show()},disableHandles:x,animMode:k,setBgOpacity:y,done:function(){k(!1),m()}}}(),J=function(){var t=function(){},a=function(){},i=s.trackDocument;function n(e){return t(p(e)),!1}function r(i){return i.preventDefault(),i.stopPropagation(),F&&(F=!1,a(p(i)),K.isAwake()&&s.onSelect.call(se,b(V.getFixed())),X.css({zIndex:290}),e(document).unbind(".jcrop"),t=function(){},a=function(){}),!1}function o(e){return t(p(q.cfilter(e))),!1}function l(e){return r(q.cfilter(e))}return i||X.mousemove(n).mouseup(r).mouseout(r),E.before(X),{activateHandlers:function(s,d,c){return F=!0,t=s,a=d,function(t){X.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",o).bind("touchend.jcrop",l):i&&e(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",r)}(c),!1},setCursor:function(e){X.css("cursor",e)}}}(),Q=function(){var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);function i(e,t,a){s.allowMove&&(V.moveOffset([t,a]),K.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}return s.keySupport&&(t.keydown(function(e){if(e.ctrlKey||e.metaKey)return!0;var t=!!e.shiftKey?10:1;switch(e.keyCode){case 37:i(e,-t,0);break;case 39:i(e,t,0);break;case 38:i(e,0,-t);break;case 40:i(e,0,t);break;case 27:s.allowSelect&&K.release();break;case 9:return!0}return!1}).blur(function(e){t.hide()}),l||!s.fixedSupport?(t.css({position:"absolute",left:"-20px"}),a.append(t).insertBefore(E)):t.insertBefore(E)),{watchKeys:function(){s.keySupport&&(t.show(),t.focus())}}}();function Z(e){ee([e[0]/_,e[1]/R,e[2]/_,e[3]/R]),s.onSelect.call(se,b(V.getFixed())),K.enableHandles()}function ee(e){V.setPressed([e[0],e[1]]),V.setCurrent([e[2],e[3]]),K.update()}function te(){s.disabled=!0,K.disableHandles(),K.setCursor("default"),J.setCursor("default")}function ae(){s.disabled=!1,ne()}function ie(t,a,i){var n=a||s.bgColor;s.bgFade&&e.fx.step.hasOwnProperty("backgroundColor")&&s.fadeTime&&!i?t.animate({backgroundColor:n},{queue:!1,duration:s.fadeTime}):t.css("backgroundColor",n)}function ne(e){s.allowResize?e?K.enableOnly():K.enableHandles():K.disableHandles(),J.setCursor(s.allowSelect?"crosshair":"default"),K.setCursor(s.allowMove?"move":"default"),s.hasOwnProperty("trueSize")&&(_=s.trueSize[0]/M,R=s.trueSize[1]/P),s.hasOwnProperty("setSelect")&&(Z(s.setSelect),K.done(),delete s.setSelect),U.refresh(),s.bgColor!=G&&(ie(s.shade?U.getShades():z,s.shade&&s.shadeColor||s.bgColor),G=s.bgColor),Y!=s.bgOpacity&&(Y=s.bgOpacity,s.shade?U.refresh():K.setBgOpacity(Y)),B=s.maxSize[0]||0,L=s.maxSize[1]||0,H=s.minSize[0]||0,N=s.minSize[1]||0,s.hasOwnProperty("outerImage")&&(E.attr("src",s.outerImage),delete s.outerImage),K.refresh()}q.support&&X.bind("touchstart.jcrop",q.newSelection),O.hide(),ne(!0);var se={setImage:function(e,t){K.release(),te();var a=new Image;a.onload=function(){var i=a.width,n=a.height,r=s.boxWidth,o=s.boxHeight;E.width(i).height(n),E.attr("src",e),A.attr("src",e),v(E,r,o),M=E.width(),P=E.height(),A.width(M).height(P),X.width(M+2*W).height(P+2*W),z.width(M).height(P),U.resize(M,P),ae(),"function"==typeof t&&t.call(se)},a.src=e},animateTo:function(e,t){var a=e[0]/_,i=e[1]/R,n=e[2]/_,r=e[3]/R;if(!j){var o=V.flipCoords(a,i,n,r),l=V.getFixed(),d=[l.x,l.y,l.x2,l.y2],c=d,u=s.animationDelay,p=o[0]-d[0],h=o[1]-d[1],m=o[2]-d[2],f=o[3]-d[3],g=0,v=s.swingSpeed;a=c[0],i=c[1],n=c[2],r=c[3],K.animMode(!0);var b=function(){g+=(100-g)/v,c[0]=Math.round(a+g/100*p),c[1]=Math.round(i+g/100*h),c[2]=Math.round(n+g/100*m),c[3]=Math.round(r+g/100*f),g>=99.8&&(g=100),g<100?(ee(c),y()):(K.done(),K.animMode(!1),"function"==typeof t&&t.call(se))};y()}function y(){window.setTimeout(b,u)}},setSelect:Z,setOptions:function(e){h(e),ne()},tellSelect:function(){return b(V.getFixed())},tellScaled:function(){return V.getFixed()},setClass:function(e){z.removeClass().addClass(c("holder")).addClass(e)},disable:te,enable:ae,cancel:function(){K.done(),J.activateHandlers(null,null)},release:K.release,destroy:function(){z.remove(),T.show(),T.css("visibility","visible"),e(t).removeData("Jcrop")},focus:Q.watchKeys,getBounds:function(){return[M*_,P*R]},getWidgetSize:function(){return[M,P]},getScaleFactor:function(){return[_,R]},getOptions:function(){return s},ui:{holder:z,selection:D}};return o&&z.bind("selectstart",function(){return!1}),T.data("Jcrop",se),se},e.fn.Jcrop=function(t,a){var i;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(a)&&a.call(i)}):(e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(a)&&a.call(i))}),this},e.Jcrop.Loader=function(t,a,i){var n=e(t),s=n[0];n.bind("load.jcloader",function t(){s.complete?(n.unbind(".jcloader"),e.isFunction(a)&&a.call(s)):window.setTimeout(t,50)}).bind("error.jcloader",function(t){n.unbind(".jcloader"),e.isFunction(i)&&i.call(s)}),s.complete&&e.isFunction(a)&&(n.unbind(".jcloader"),a.call(s))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery)},function(e,t,a){"use strict";!function(e){function t(t){var a=t.attr("data-target");a||(a=(a=t.attr("href"))&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var i=a&&e(a);return i&&i.length?i:t.parent()}e(document).on("click.emi.uploader.data-api",".upload-preview [role=button], .upload-file-control [role=button]",function(){t(e(this)).find("[type=file]").trigger("click")}).on("change.emi.uploader.data-api",".upload-preview [type=file], .upload-file-control [type=file]",function(){var a=t(e(this)),i=new FileReader;this.files.length>0&&(i.onload=function(e){var t=a.find("img");t.length>0&&t.attr("src",e.target.result)},i.readAsDataURL(this.files[0]))})}(jQuery)},function(e,t,a){"use strict";!function(e){e(function(){e(".tab").each(function(){var t=e(this),a=e(this).attr("data-trigger-active")?e(this).attr("data-trigger-active"):"true",i=e(this).attr("data-toggle-active")?e(this).attr("data-toggle-active"):"false",n=t.find(".tab-item"),s=t.find(".tab-page");n.click(function(){this.id=e(this).attr("data-tab-id"),"true"==i&&e(this).hasClass("active")?(t.find(".tab-item, .tab-page").removeClass("active"),new Function("with(this) { "+t.attr("data-on-active")+"}").apply(this)):(t.find(".tab-item, .tab-page").removeClass("active"),n.filter("[data-tab-id='"+this.id+"']").addClass("active"),s.filter("[data-tab-id='"+this.id+"']").addClass("active"),new Function("with(this) { "+t.attr("data-on-active")+"}").apply(this))}),"true"==a&&n.first().trigger("click")})})}(jQuery)},function(e,t,a){"use strict";$(function(){var e=$(".side-show-box"),t=e.find(".side-show-image-item"),a=e.find(".side-show-title"),i=void 0;t.click(function(e){var n=$(this),s=n.prev(),r=n.next();return!!n.hasClass("pos-1")||(clearInterval(i),i=setInterval(function(){t.filter(".pos-2").trigger("click")},3e3),e.preventDefault(),e.stopPropagation(),t.removeClass("lower-index"),n.hasClass("pos-0")&&t.filter(".pos-2").addClass("lower-index"),t.removeClass("pos-0 pos-1 pos-2"),n.addClass("pos-1"),a.removeClass("focus").eq(n.index()).addClass("focus"),s.length?s.addClass("pos-0"):t.filter(":last").addClass("pos-0"),r.length?r.addClass("pos-2"):t.filter(":first").addClass("pos-2"),!1)})})},function(e,t,a){var i,n,s;n=[a(0)],void 0===(s="function"==typeof(i=function(e){e.extend({highlight:function(t,a,i,n,s){if(3===t.nodeType){var r=t.data.match(a);if(r){var o=document.createElement(i||"span");o.className=n||"highlight";var l=t.data.indexOf(r[1],r.index),d=t.splitText(l);d.splitText(r[1].length);var c=d.cloneNode(!0);return o.appendChild(c),d.parentNode.replaceChild(o,d),"function"==typeof s&&s(o),1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==i.toUpperCase()||t.className!==n))for(var u=0;u<t.childNodes.length;u++)u+=e.highlight(t.childNodes[u],a,i,n,s);return 0}}),e.fn.unhighlight=function(t){var a={className:"highlight",element:"span"};return e.extend(a,t),this.find(a.element+"."+a.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},e.fn.highlight=function(t,a,i){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1,wordsBoundary:"\\b"};if(e.extend(n,a),"string"==typeof t&&(t=[t]),t=e.grep(t,function(e,t){return""!=e}),0===(t=e.map(t,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var s=n.caseSensitive?"":"i",r="("+t.join("|")+")";n.wordsOnly&&(r=(n.wordsBoundaryStart||n.wordsBoundary)+r+(n.wordsBoundaryEnd||n.wordsBoundary));var o=new RegExp(r,s);return this.each(function(){e.highlight(this,o,n.element,n.className,i)})}})?i.apply(t,n):i)||(e.exports=s)}],[[88,0]]]);